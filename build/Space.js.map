{"version":3,"file":null,"sources":["../src/Point/Spherical.js","../src/Point/Polar.js","../src/Point/Cartesian.js","../src/Point.js","../src/World.js","../src/Path.js","../src/Group.js","../src/Bezier.js","../src/Polygon.js","../src/Morpher.js","../src/Space.js"],"sourcesContent":["import Cartesian from './Cartesian';\n\n////\n// Spherical\n////\n\nconst Spherical = function (r, phi, theta) {\n    this.r = r || 0;            // distance\n    this.phi = phi || 0;        // polar angle\n    this.theta = theta || 0;    // azimuthal angle\n};\n\n//// Spherical conversions\n\n// Cartesian\n\nSpherical.prototype.x = function () {\n    return this.r * Math.sin(this.theta) * Math.cos(this.phi);\n};\n\nSpherical.prototype.y = function () {\n    return this.r * Math.sin(this.theta) * Math.sin(this.phi);\n};\n\nSpherical.prototype.z = function () {\n    return this.r * Math.cos(this.theta);\n};\n\nSpherical.prototype.toCartesian = function () {\n    return new Cartesian(this.x(), this.y(), this.z());\n};\n\n// Geographical\n// https://vvvv.org/blog/polar-spherical-and-geographic-coordinates\n\nSpherical.prototype.lat = function () {\n    return this.phi - (Math.PI / 2);\n};\n\nSpherical.prototype.lng = function () {\n    return this.theta;\n};\n\nexport default Spherical;\n","import Cartesian from './Cartesian';\n\n////\n// Polar\n////\n\nconst Polar = function (r, phi) {\n    this.r = r || 0;            // distance\n    this.phi = phi || 0;        // polar angle\n};\n\n//// Polar conversions\n\n// Cartesian\n\nPolar.prototype.x = function () {\n    return this.r * Math.cos(this.phi);\n};\n\nPolar.prototype.y = function () {\n    return this.r * Math.sin(this.phi);\n};\n\nPolar.prototype.toCartesian = function () {\n    return new Cartesian(this.x(), this.y());\n};\n\nexport default Polar;\n","import Spherical from './Spherical';\nimport Polar from './Polar';\n\n////\n// Cartesian\n////\n\nconst Cartesian = function (x, y, z) {\n    this.x = x || 0;\n    this.y = y || 0;\n    this.z = z || 0;\n};\n\n// Convert to Spherical\n\nCartesian.prototype.r = function () {\n    // eslint-disable-next-line no-restricted-properties\n    return Math.sqrt(Math.pow(this.x, 2) + Math.pow(this.y, 2) + Math.pow(this.z, 2));\n};\n\nCartesian.prototype.phi = function () {\n    return Math.atan2(this.y, this.x);\n};\n\nCartesian.prototype.theta = function () {\n    return Math.acos(this.z / this.r());\n};\n\n//@TODO test\nCartesian.prototype.toPolar = function () {\n    return new Polar(this.r(), this.phi());\n};\n\nCartesian.prototype.toSpherical = function () {\n    return new Spherical(this.r(), this.phi(), this.theta());\n};\n\n// Geographical\n// https://vvvv.org/blog/polar-spherical-and-geographic-coordinates\n\nCartesian.prototype.lat = function () {\n    return this.phi() - (Math.PI / 2);\n};\n\nCartesian.prototype.lng = function () {\n    return this.theta();\n};\n\n// Operations\n\nCartesian.prototype.add = function (p) {\n    this.x += p.x;\n    this.y += p.y;\n    this.z += p.z;\n};\n\nCartesian.prototype.substract = function (p) {\n    this.x -= p.x;\n    this.y -= p.y;\n    this.z -= p.z;\n};\n\nCartesian.prototype.multiply = function (p) {\n    this.x *= p.x;\n    this.y *= p.y;\n    this.z *= p.z;\n};\n\n// world operations\n\nCartesian.prototype.scale = function (origin, p) {\n    this.substract(origin);\n    this.multiply(p);\n    this.add(origin);\n};\n\nCartesian.prototype.rotate2D = function (origin, phi) {\n    this.substract(origin);\n    let p = this.toPolar();\n    p.phi += phi;\n    p = p.toCartesian();\n    this.x = p.x;\n    this.y = p.y;\n    this.add(origin);\n};\n\n// operations with primitives\n\nCartesian.prototype.translate = function (x, y, z) {\n    x = x || 0;\n    y = y || 0;\n    z = z || 0;\n    this.x += x;\n    this.y += y;\n    this.z += z;\n};\n\nCartesian.prototype.multiplyBy = function (f) {\n    this.x *= f;\n    this.y *= f;\n    this.z *= f;\n};\n\n// comparasion\n\nCartesian.prototype.equals = function (p) {\n    return ((this.x === p.x) && (this.y === p.y) && (this.z === p.z));\n};\n\n// min, max\n\nCartesian.prototype.min = function (v) {\n    this.x = (this.x > v.x) ? v.x : this.x;\n    this.y = (this.y > v.y) ? v.y : this.y;\n};\n\nCartesian.prototype.max = function (v) {\n    this.x = (this.x < v.x) ? v.x : this.x;\n    this.y = (this.y < v.y) ? v.y : this.y;\n};\n\n// exports\n\nCartesian.prototype.clone = function () {\n    return new Cartesian(this.x, this.y, this.z);\n};\n\nCartesian.prototype.toArray = function () {\n    return [this.x, this.y, this.z];\n};\n\n// static methods\n\nCartesian.create = function (x, y, z) {\n    if (typeof x === 'object' && typeof x.clone === 'function') {\n        return x;\n    }\n    return new Cartesian(x, y, z);\n};\n\nexport default Cartesian;\n","import Cartesian from './Point/Cartesian';\nimport Spherical from './Point/Spherical';\nimport Polar from './Point/Polar';\n\nconst Point = {\n    Cartesian,\n    Spherical,\n    Polar\n};\n\nexport default Point;\n","const World = function (origin) {\n    origin = origin || null;\n\n    if (!origin || typeof origin.clone !== 'function') {\n        throw Error('World constructor requires a Space.Point.Cartesian instance');\n    }\n\n    this.origin = function () {\n        return origin.clone();\n    };\n\n    this.locate = function (point) {\n        point.add(origin);\n        return point;\n    };\n};\n\nexport default World;\n","import Point from './Point';\nimport World from './World';\n\nconst Path = function (x, y, z) {\n    const origin = Point.Cartesian.create(x, y, z);\n    World.call(this, origin);\n\n    this.points = [];\n};\n\nPath.prototype = Object.create(World.prototype);\nPath.prototype.constructor = Path;\n\n// push to points, consider closed\nPath.prototype.addPoint = function (v) {\n    if (this.isClosed()) {\n        this.points.splice(this.points.length - 1, 0, v);\n    } else {\n        this.points.push(v);\n    }\n};\n\n// replace (or set) a point at a specified index, updates closed index, doe NOT locate point to origin\nPath.prototype.replace = function (index, v) {\n    const closed = this.isClosed();\n    if (closed) {\n        this.open();\n    }\n    this.points[index] = v;\n    if (closed) {\n        this.close();\n    }\n};\n\n// add coords relative to origin\nPath.prototype.add = function (x, y, z) {\n    const v = this.locate(Point.Cartesian.create(x, y, z));\n    this.addPoint(v);\n};\n\n// relatve coords from last point\nPath.prototype.progress = function (x, y, z) {\n    if (!this.points.length) {\n        throw new Error('Path error: cannot progress on an empty path');\n    }\n    const v = Point.Cartesian.create(x, y, z);\n    v.add(this.last());\n    this.addPoint(v);\n};\n\n// replace (or set) a point at a specified index, updates closed index\nPath.prototype.set = function (index, x, y, z) {\n    this.replace(index, this.locate(Point.Cartesian.create(x, y, z)));\n};\n\n// get a point for index\nPath.prototype.get = function (index) {\n    return (this.points[index] !== undefined) ? this.points[index] : null;\n};\n\n// get last point\nPath.prototype.last = function () {\n    return (this.points.length) ? this.points[this.points.length - 1] : null;\n};\n\n// get first point\nPath.prototype.first = function () {\n    return (this.points.length) ? this.points[0] : null;\n};\n\n// get  adjascent point for index\nPath.prototype.prev = function (index) {\n    if (!this.isClosed()) {\n        return this.get(index - 1);\n    }\n    // if closed the last item in array === first\n    return (index === 0) ? this.get(this.points.length - 2) : this.get(index - 1);\n};\n\n// get descendant point for index\nPath.prototype.next = function (index) {\n    if (!this.isClosed()) {\n        return this.get(index + 1);\n    }\n    return (index === this.points.length - 1) ? this.first() : this.get(index + 1);\n};\n\n// open path\nPath.prototype.open = function () {\n    if (this.isClosed()) {\n        this.points.splice(-1, 1);\n    }\n    return this.last();\n};\n\n// close path\nPath.prototype.close = function () {\n    if (this.points.length && !this.isClosed()) {\n        this.points.push(this.first());\n    }\n    return this.last();\n};\n\n// check if path is closed\nPath.prototype.isClosed = function () {\n    return (this.points.length > 1 && this.last() === this.first());\n};\n\n// returns this.points length, excluding last element when path is losed\nPath.prototype.length = function () {\n    return (this.isClosed()) ? this.points.length - 1 : this.points.length;\n};\n\n// bounding box\n//@TODO\nPath.prototype.bounds = function () {\n    if (!this.points.length) {\n        return null;\n    }\n    const min = this.first().clone();\n    const max = this.first().clone();\n    const length = this.length();\n    for (let i = 0; i < length; i += 1) {\n        min.min(this.points[i]);\n        max.max(this.points[i]);\n    }\n    //TODO point.between()\n    const center = min.clone();\n    center.translate((max.x - min.x) / 2, (max.y - min.y) / 2, (max.z - min.z) / 2);\n    return { min, max, center };\n};\n\n// rotate path\nPath.prototype.toArray = function () {\n    const arr = [];\n    const length = this.points.length;\n    for (let i = 0; i < length; i += 1) {\n        arr.push(this.points[i].toArray());\n    }\n    return arr;\n};\n\n// could be bundled to .transform('translate' x,y,z) ?\n\n// translate path\nPath.prototype.translate = function (x, y, z) {\n    let i;\n    const v = Point.Cartesian.create(x, y, z);\n    const length = this.length();\n    for (i = 0; i < length; i += 1) {\n        this.points[i].add(v);\n    }\n};\n\n// scale path\nPath.prototype.scale = function (x, y, z) {\n    let i;\n    const v = Point.Cartesian.create(x, y, z);\n    const length = this.length();\n    for (i = 0; i < length; i += 1) {\n        this.points[i].scale(this.origin(), v);\n    }\n};\n\n// rotate path\nPath.prototype.rotate2D = function (rad) {\n    let i;\n    const length = this.length();\n    for (i = 0; i < length; i += 1) {\n        this.points[i].rotate2D(this.origin(), rad);\n    }\n};\n\nexport default Path;\n","import Cartesian from './Point/Cartesian';\n\n////\n// Group is a Group of Cartesian Points\n////\n\nconst Group = function (x, y, z) {\n    Cartesian.call(this, x, y, z);\n\n    // control points\n    this.members = [];\n};\n\nGroup.prototype = Object.create(Cartesian.prototype);\nGroup.prototype.constructor = Group;\n\n// Operations\n\nGroup.prototype.add = function (p) {\n    Cartesian.prototype.add.call(this, p);\n    const length = this.members.length;\n    for (let i = 0; i < length; i += 1) {\n        this.members[i].add(p);\n    }\n};\n\nGroup.prototype.substract = function (p) {\n    Cartesian.prototype.substract.call(this, p);\n    const length = this.members.length;\n    for (let i = 0; i < length; i += 1) {\n        this.members[i].substract(p);\n    }\n};\n\nGroup.prototype.multiply = function (p) {\n    Cartesian.prototype.multiply.call(this, p);\n    const length = this.members.length;\n    for (let i = 0; i < length; i += 1) {\n        this.members[i].multiply(p);\n    }\n};\n\n// world operations\n\nGroup.prototype.scale = function (origin, p) {\n    Cartesian.prototype.scale.call(this, origin, p);\n    const length = this.members.length;\n    for (let i = 0; i < length; i += 1) {\n        this.members[i].scale(origin, p);\n    }\n};\n\nGroup.prototype.rotate2D = function (origin, phi) {\n    Cartesian.prototype.rotate2D.call(this, origin, phi);\n    const length = this.members.length;\n    for (let i = 0; i < length; i += 1) {\n        this.members[i].rotate2Dy(origin, phi);\n    }\n};\n\n// operations with primitives\n\nGroup.prototype.translate = function (x, y, z) {\n    Cartesian.prototype.translate.call(this, x, y, z);\n    const length = this.members.length;\n    for (let i = 0; i < length; i += 1) {\n        this.members[i].translate(x, y, z);\n    }\n};\n\n// exports\n\nGroup.prototype.clone = function () {\n    const clone = new Group(this.x, this.y, this.z);\n    const length = this.members.length;\n    for (let i = 0; i < length; i += 1) {\n        clone.members[i] = this.members[i];\n    }\n    return clone;\n};\n\nGroup.prototype.toArray = function () {\n    const arr = [this.x, this.y, this.z];\n    const length = this.members.length;\n    for (let i = 0; i < length; i += 1) {\n        arr.push(this.members[i].x, this.members[i].y, this.members[i].z);\n    }\n    return arr;\n};\n\n// static methods\n\nGroup.create = function (x, y, z) {\n    //is point like\n    if (typeof x === 'object' && typeof x.clone === 'function') {\n        // is a a group already\n        if (typeof x.members !== 'undefined') {\n            return x;\n        }\n        // is a cartesian point\n        return new Group(x.x, x.y, x.z);\n    }\n    return new Group(x, y, z);\n};\n\n\nexport default Group;\n","import Point from './Point';\nimport Group from './Group';\n\n/**\n * Rob Spencer's algorithm\n * @see http://scaledinnovation.com/analytics/splines/aboutSplines.html\n * @TODO angles. Angles from tangent (positive, negative) It might be worth to check if we can use Point.polar ops in general\n * @TODO tension as absolute progression value (pixels) if tension is an array add instead multiply\n * function bezier(prev, curr, next, [100, 50], [45, -25])\n */\nconst smoothPoint = function (prev, curr, next, tension) {\n\n    //@TODO, this is a temporary workaround\n    curr = Group.create(curr); //expensive\n\n    if (!next || !prev) {\n        return curr;\n    }\n\n    //  prev.x,prev.y,curr.x,curr.y are the coordinates of the end (knot) pts of this segment\n    //  next.x,next.y is the next knot -- not connected here but needed to calculate p2\n    //  p1 is the control curr calculated here, from curr.x back toward prev.x.\n    //  p2 is the next control curr, calculated here and returned to become the\n    //  next segment's p1.\n    //  t is the 'tension' which controls how far the control currs spread.\n\n    //  Scaling factors: distances from this knot to the previous and following knots\n\n    /* eslint-disable no-restricted-properties */\n    const d01 = Math.sqrt(Math.pow(curr.x - prev.x, 2) + Math.pow(curr.y - prev.y, 2));\n    const d12 = Math.sqrt(Math.pow(next.x - curr.x, 2) + Math.pow(next.y - curr.y, 2));\n    /* eslint-enable no-restricted-properties */\n\n    const fa = tension * (d01 / (d01 + d12)); // scaling factor for triangle Ta\n    const fb = tension - fa; // ditto for Tb, simplifies to fb=t-fa\n\n    const p1x = curr.x + (fa * (prev.x - next.x)); // x2-x0 is the width of triangle T\n    const p1y = curr.y + (fa * (prev.y - next.y)); // y2-y0 is the height of T\n\n    const p2x = curr.x - (fb * (prev.x - next.x));\n    const p2y = curr.y - (fb * (prev.y - next.y));\n\n    //return [new curr.Cartesian(p1x, p1y), new curr.Cartesian(p2x, p2y)];\n\n    curr.members[0] = new Point.Cartesian(p1x, p1y);\n    curr.members[1] = new Point.Cartesian(p2x, p2y);\n\n    // Everything else in the code is just bookkeeping.\n    // In these sketches we found two control points, but for different bezier curves:\n    //  - control point p1 (Figure 4) is needed to draw the left bezier (red in Figures 1 & 2)\n    //  - and p2 is needed to draw the right (orange) bezier.\n    // This just means that we have to calculate all of the control points\n    // (or at least those a knot fore and aft of where we are) before drawing.\n    // Closed curves need the control points at the \"beginning\" and \"end\" points (wherever you start and end),\n    // more bookkeeping.\n    // But the result is a simple, fast bezier spline routine with only one parameter to adjust the curvature.\n\n    // Note in the demo that when t=0 the curves become straight lines connecting the knot points,\n    // and when t=1 the curves are \"too curvy\" for the open zigzag curve,\n    // but actually for the square (lower left), t=1 makes a nice \"rounded square\" that might be a useful shape.\n    // There is no upper bound to t, but above t=1 you're almost guaranteed to get distracting cusps and loops.\n    // For that matter, t can be negative, which is great for drawing knots.\n\n    return curr;\n};\n\nconst smoothPath = function (path, curviness) {\n    //@TODO, only sections params\n    //@TODO, cache handles\n    let bezier;\n    const length = (path.isClosed()) ? path.points.length - 1 : path.points.length;\n    for (let i = 0; i < length; i += 1) {\n        bezier = smoothPoint(path.prev(i), path.get(i), path.next(i), curviness);\n        path.replace(i, bezier);\n    }\n};\n\nexport default {\n    smoothPath,\n    smoothPoint\n};\n","import Path from './Path';\nimport Point from './Point';\nimport Bezier from './Bezier';\n\nconst TWO_PI = Math.PI * 2;\nconst HALF_PI = Math.PI / 2;\n\nconst cartesianFromPolar = function (radius, delta) {\n    let point = new Point.Polar(radius, delta);\n    point = point.toCartesian();\n    return point;\n};\n\n////\n// Line\n////\n\nconst Line = function (from, to, segments, origin) {\n    const path = new Path(origin);\n    path.add(from);\n    path.add(to);\n    this.path = path;\n\n    if (typeof segments === 'number') {\n        this.segmentize(segments);\n    }\n};\n\n// TODO maybe this is a good general path method. if so it needs to consider open and close\nLine.prototype.segmentize = function (segments) {\n    const last = this.path.last();\n    const length = this.path.length();\n\n    const segm = last.clone();\n    segm.substract(this.path.first());\n    segm.multiplyBy(1 / segments);\n\n    // remove everything except first element, keep instance\n    if (length > 1) {\n        this.path.points.splice(1, this.path.length());\n    }\n\n    segments -= 2;// first, lasts\n    for (let i = 0; i <= segments; i += 1) {\n        this.path.progress(segm.clone());\n    }\n    this.path.addPoint(last);\n};\n\n////\n// Polygon\n////\n\nconst Polygon = function (segments, radius, origin) {\n    const path = new Path(origin);\n    let i = 0;\n\n    //@see http://stackoverflow.com/a/7198179\n    const delta = TWO_PI / segments;\n\n    while (i < segments) {\n        const p = new Point.Polar(radius, i * delta);\n        const c = p.toCartesian();\n        path.add(c.x, c.y);\n        i += 1;\n    }\n    path.close();\n    this.path = path;\n};\n\n////\n// Rectangle\n////\n\nconst Rectangle = function (width, height, origin) {\n    const path = new Path(origin);\n\n    path.add(-width / 2, height / 2);\n    path.progress(width, 0);\n    path.progress(0, -height);\n    path.progress(-width, 0);\n    path.close();\n\n    this.path = path;\n};\n\n////\n// Star\n////\n\nconst Star = function (segments, outerRadius, innerRadius, origin) {\n    const path = new Path(origin);\n\n    //@see http://stackoverflow.com/a/7198179\n    const rad0 = HALF_PI;\n    const delta = TWO_PI / segments;\n    let _delta;\n    let inner;\n    let outer;\n    let i = 0;\n\n    while (i < segments) {\n        _delta = (i * delta) - rad0;\n        outer = cartesianFromPolar(outerRadius, _delta);\n        path.add(outer.x, outer.y);\n\n        if (i <= segments - 1) {\n            _delta += delta / 2;\n            inner = cartesianFromPolar(innerRadius, _delta);\n            path.add(inner.x, inner.y);\n        }\n        i += 1;\n    }\n    path.close();\n    this.path = path;\n};\n\n// apply bezier to outer points only\nStar.prototype.flower = function (tension) {\n    let bezier;\n    const length = this.path.points.length - 1;\n    for (let i = 0; i < length; i += 2) {\n        bezier = Bezier.smoothPoint(this.path.prev(i), this.path.get(i), this.path.next(i), tension);\n        this.path.replace(i, bezier);\n    }\n};\n\n// apply bezier to outer points only\nStar.prototype.seaStar = function (tension) {\n    let bezier;\n    const length = this.path.points.length - 1;\n    for (let i = 1; i < length; i += 2) {\n        bezier = Bezier.smoothPoint(this.path.prev(i), this.path.get(i), this.path.next(i), tension);\n        this.path.replace(i, bezier);\n    }\n};\n\n////\n// Cog\n////\n\nconst Cog = function (segments, outerRadius, innerRadius, origin) {\n    const path = new Path(origin);\n\n    //@TODO, sharable constant\n    // 5 segments > 10 outer points > 10 inner points\n    const rad0 = HALF_PI;\n    const delta = TWO_PI / segments;\n    const _innerDelta = delta - (delta / 2);\n    let _delta;\n    let inner;\n    let outer;\n    let i = 0;\n\n    while (i < segments) {\n        _delta = (i * delta) - rad0;\n        outer = [\n            cartesianFromPolar(outerRadius, _delta + _innerDelta),\n            cartesianFromPolar(outerRadius, _delta + (2 * _innerDelta))\n        ];\n        //outer\n        path.add(outer[0].x, outer[0].y);\n        path.add(outer[1].x, outer[1].y);\n        // inner\n        _delta += delta / 2;\n        inner = [\n            cartesianFromPolar(innerRadius, _delta + _innerDelta),\n            cartesianFromPolar(innerRadius, _delta + (2 * _innerDelta))\n        ];\n        path.add(inner[0].x, inner[0].y);\n        path.add(inner[1].x, inner[1].y);\n\n        i += 1;\n    }\n    path.close();\n    this.path = path;\n};\n\n// apply bezier to outer points only\n// Cog.prototype.flower = function (tension) {\n//     //@TODO\n// };\n\n// // apply bezier to outer points only\n// Cog.prototype.seaStar = function (tension) {\n//     //@TODO\n// };\n\nexport {\n    Line,\n    Polygon,\n    Rectangle,\n    Star,\n    Cog\n};\n","/**\n *  Goal\n * - define steps\n * - set counter 0\n * - create mrph array\n * - target figure\n * - src figure\n *      - set each point to i * segment, centerY\n *          -set each handle to 0,0,0\n *      - targ[i].x - src[i].x / steps\n *          - set each handle targ[i].member[k] - src[i].members[k] / steps\n * morph from a line into a star and back\n * better: store array of polar points in template,\n * convert figure point to polar and check radius length\n * star is closed, so length - 1\n*/\n\n//@TODO morphe groups\n//@TODO replace callback with just two paths to morphe, do not make them dependent on the lasme length\n\nconst Morpher = function (srcPath, targPath, steps) {\n    const map = [];\n\n    const length = srcPath.length();\n    // TODO: what to do if both paths have a different length?\n    let unit;\n    for (let i = 0; i < length; i += 1) {\n        unit = srcPath.points[i].clone();\n        unit.substract(targPath.points[i]);\n        unit.multiplyBy(1 / steps);\n        // TODO, limit to neccessary\n        map.push([srcPath.points[i], targPath.points[i], unit]);\n    }\n\n    this.map = map;\n    this.count = 0;\n    this.steps = steps;\n    this.direction = 1;\n};\n\nMorpher.prototype.next = function () {\n    if (this.count >= this.steps) {\n        this.direction = -1;\n        return false;\n    }\n\n    const length = this.map.length;\n    for (let i = 0; i < length; i += 1) {\n        this.map[i][0].add(this.map[i][2]); //unit\n    }\n\n    this.count += 1;\n    return true;\n};\n\nMorpher.prototype.prev = function () {\n    if (this.count <= 0) {\n        this.direction = 1;\n        return false;\n    }\n\n    const length = this.map.length;\n    for (let i = 0; i < length; i += 1) {\n        this.map[i][0].substract(this.map[i][2]); //unit\n    }\n\n    this.count -= 1;\n    return true;\n};\n\nMorpher.prototype.progress = function () {\n    if (this.direction > 0) {\n        this.next();\n        return;\n    }\n    this.prev();\n};\n\nMorpher.prototype.finished = function () {\n    if (this.direction > 0) {\n        return this.count === this.steps;\n    }\n    return this.count === 0;\n};\n\nMorpher.prototype.reverse = function () {\n    this.direction *= -1;\n};\n\nexport default Morpher;\n","import Point from './Point';\nimport Path from './Path';\nimport Group from './Group';\nimport * as Polygons from './Polygon';\nimport Bezier from './Bezier';\nimport Morpher from './Morpher';\n\nconst Module = {\n    Point,\n    Path,\n    Group,\n    Bezier,\n    Morpher\n};\n\n// hm...\nObject.keys(Polygons).forEach((key) => {\n    Module[key] = Polygons[key];\n});\n\nexport default Module;\n"],"names":["Spherical","r","phi","theta","prototype","x","Math","sin","cos","y","z","toCartesian","Cartesian","lat","PI","lng","Polar","sqrt","pow","atan2","acos","toPolar","toSpherical","add","p","substract","multiply","scale","origin","rotate2D","translate","multiplyBy","f","equals","min","v","max","clone","toArray","create","Point","World","Error","locate","point","Path","call","points","Object","constructor","addPoint","isClosed","splice","length","push","replace","index","closed","open","close","progress","last","set","get","undefined","first","prev","next","bounds","i","center","arr","rad","Group","members","rotate2Dy","smoothPoint","curr","tension","d01","d12","fa","fb","p1x","p1y","p2x","p2y","smoothPath","path","curviness","bezier","TWO_PI","HALF_PI","cartesianFromPolar","radius","delta","Line","from","to","segments","segmentize","segm","Polygon","c","Rectangle","width","height","Star","outerRadius","innerRadius","rad0","_delta","inner","outer","flower","Bezier","seaStar","Cog","_innerDelta","Morpher","srcPath","targPath","steps","map","unit","count","direction","finished","reverse","Module","keys","Polygons","forEach","key"],"mappings":";;;AAEA;;;;AAIA,IAAMA,YAAY,SAAZA,SAAY,CAAUC,CAAV,EAAaC,GAAb,EAAkBC,KAAlB,EAAyB;SAClCF,CAAL,GAASA,KAAK,CAAd,CADuC;SAElCC,GAAL,GAAWA,OAAO,CAAlB,CAFuC;SAGlCC,KAAL,GAAaA,SAAS,CAAtB,CAHuC;CAA3C;;;;;;AAUAH,UAAUI,SAAV,CAAoBC,CAApB,GAAwB,YAAY;WACzB,KAAKJ,CAAL,GAASK,KAAKC,GAAL,CAAS,KAAKJ,KAAd,CAAT,GAAgCG,KAAKE,GAAL,CAAS,KAAKN,GAAd,CAAvC;CADJ;;AAIAF,UAAUI,SAAV,CAAoBK,CAApB,GAAwB,YAAY;WACzB,KAAKR,CAAL,GAASK,KAAKC,GAAL,CAAS,KAAKJ,KAAd,CAAT,GAAgCG,KAAKC,GAAL,CAAS,KAAKL,GAAd,CAAvC;CADJ;;AAIAF,UAAUI,SAAV,CAAoBM,CAApB,GAAwB,YAAY;WACzB,KAAKT,CAAL,GAASK,KAAKE,GAAL,CAAS,KAAKL,KAAd,CAAhB;CADJ;;AAIAH,UAAUI,SAAV,CAAoBO,WAApB,GAAkC,YAAY;WACnC,IAAIC,SAAJ,CAAc,KAAKP,CAAL,EAAd,EAAwB,KAAKI,CAAL,EAAxB,EAAkC,KAAKC,CAAL,EAAlC,CAAP;CADJ;;;;;AAOAV,UAAUI,SAAV,CAAoBS,GAApB,GAA0B,YAAY;WAC3B,KAAKX,GAAL,GAAYI,KAAKQ,EAAL,GAAU,CAA7B;CADJ;;AAIAd,UAAUI,SAAV,CAAoBW,GAApB,GAA0B,YAAY;WAC3B,KAAKZ,KAAZ;CADJ,CAIA;;ACzCA;;;;AAIA,IAAMa,QAAQ,SAARA,KAAQ,CAAUf,CAAV,EAAaC,GAAb,EAAkB;SACvBD,CAAL,GAASA,KAAK,CAAd,CAD4B;SAEvBC,GAAL,GAAWA,OAAO,CAAlB,CAF4B;CAAhC;;;;;;AASAc,MAAMZ,SAAN,CAAgBC,CAAhB,GAAoB,YAAY;WACrB,KAAKJ,CAAL,GAASK,KAAKE,GAAL,CAAS,KAAKN,GAAd,CAAhB;CADJ;;AAIAc,MAAMZ,SAAN,CAAgBK,CAAhB,GAAoB,YAAY;WACrB,KAAKR,CAAL,GAASK,KAAKC,GAAL,CAAS,KAAKL,GAAd,CAAhB;CADJ;;AAIAc,MAAMZ,SAAN,CAAgBO,WAAhB,GAA8B,YAAY;WAC/B,IAAIC,SAAJ,CAAc,KAAKP,CAAL,EAAd,EAAwB,KAAKI,CAAL,EAAxB,CAAP;CADJ,CAIA;;;;;;;;ACxBA;;;;AAIA,IAAMG,YAAY,SAAZA,SAAY,CAAUP,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmB;SAC5BL,CAAL,GAASA,KAAK,CAAd;SACKI,CAAL,GAASA,KAAK,CAAd;SACKC,CAAL,GAASA,KAAK,CAAd;CAHJ;;;;AAQAE,UAAUR,SAAV,CAAoBH,CAApB,GAAwB,YAAY;;WAEzBK,KAAKW,IAAL,CAAUX,KAAKY,GAAL,CAAS,KAAKb,CAAd,EAAiB,CAAjB,IAAsBC,KAAKY,GAAL,CAAS,KAAKT,CAAd,EAAiB,CAAjB,CAAtB,GAA4CH,KAAKY,GAAL,CAAS,KAAKR,CAAd,EAAiB,CAAjB,CAAtD,CAAP;CAFJ;;AAKAE,UAAUR,SAAV,CAAoBF,GAApB,GAA0B,YAAY;WAC3BI,KAAKa,KAAL,CAAW,KAAKV,CAAhB,EAAmB,KAAKJ,CAAxB,CAAP;CADJ;;AAIAO,UAAUR,SAAV,CAAoBD,KAApB,GAA4B,YAAY;WAC7BG,KAAKc,IAAL,CAAU,KAAKV,CAAL,GAAS,KAAKT,CAAL,EAAnB,CAAP;CADJ;;;AAKAW,UAAUR,SAAV,CAAoBiB,OAApB,GAA8B,YAAY;WAC/B,IAAIL,KAAJ,CAAU,KAAKf,CAAL,EAAV,EAAoB,KAAKC,GAAL,EAApB,CAAP;CADJ;;AAIAU,UAAUR,SAAV,CAAoBkB,WAApB,GAAkC,YAAY;WACnC,IAAItB,SAAJ,CAAc,KAAKC,CAAL,EAAd,EAAwB,KAAKC,GAAL,EAAxB,EAAoC,KAAKC,KAAL,EAApC,CAAP;CADJ;;;;;AAOAS,UAAUR,SAAV,CAAoBS,GAApB,GAA0B,YAAY;WAC3B,KAAKX,GAAL,KAAcI,KAAKQ,EAAL,GAAU,CAA/B;CADJ;;AAIAF,UAAUR,SAAV,CAAoBW,GAApB,GAA0B,YAAY;WAC3B,KAAKZ,KAAL,EAAP;CADJ;;;;AAMAS,UAAUR,SAAV,CAAoBmB,GAApB,GAA0B,UAAUC,CAAV,EAAa;SAC9BnB,CAAL,IAAUmB,EAAEnB,CAAZ;SACKI,CAAL,IAAUe,EAAEf,CAAZ;SACKC,CAAL,IAAUc,EAAEd,CAAZ;CAHJ;;AAMAE,UAAUR,SAAV,CAAoBqB,SAApB,GAAgC,UAAUD,CAAV,EAAa;SACpCnB,CAAL,IAAUmB,EAAEnB,CAAZ;SACKI,CAAL,IAAUe,EAAEf,CAAZ;SACKC,CAAL,IAAUc,EAAEd,CAAZ;CAHJ;;AAMAE,UAAUR,SAAV,CAAoBsB,QAApB,GAA+B,UAAUF,CAAV,EAAa;SACnCnB,CAAL,IAAUmB,EAAEnB,CAAZ;SACKI,CAAL,IAAUe,EAAEf,CAAZ;SACKC,CAAL,IAAUc,EAAEd,CAAZ;CAHJ;;;;AAQAE,UAAUR,SAAV,CAAoBuB,KAApB,GAA4B,UAAUC,MAAV,EAAkBJ,CAAlB,EAAqB;SACxCC,SAAL,CAAeG,MAAf;SACKF,QAAL,CAAcF,CAAd;SACKD,GAAL,CAASK,MAAT;CAHJ;;AAMAhB,UAAUR,SAAV,CAAoByB,QAApB,GAA+B,UAAUD,MAAV,EAAkB1B,GAAlB,EAAuB;SAC7CuB,SAAL,CAAeG,MAAf;QACIJ,IAAI,KAAKH,OAAL,EAAR;MACEnB,GAAF,IAASA,GAAT;QACIsB,EAAEb,WAAF,EAAJ;SACKN,CAAL,GAASmB,EAAEnB,CAAX;SACKI,CAAL,GAASe,EAAEf,CAAX;SACKc,GAAL,CAASK,MAAT;CAPJ;;;;AAYAhB,UAAUR,SAAV,CAAoB0B,SAApB,GAAgC,UAAUzB,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmB;QAC3CL,KAAK,CAAT;QACII,KAAK,CAAT;QACIC,KAAK,CAAT;SACKL,CAAL,IAAUA,CAAV;SACKI,CAAL,IAAUA,CAAV;SACKC,CAAL,IAAUA,CAAV;CANJ;;AASAE,UAAUR,SAAV,CAAoB2B,UAApB,GAAiC,UAAUC,CAAV,EAAa;SACrC3B,CAAL,IAAU2B,CAAV;SACKvB,CAAL,IAAUuB,CAAV;SACKtB,CAAL,IAAUsB,CAAV;CAHJ;;;;AAQApB,UAAUR,SAAV,CAAoB6B,MAApB,GAA6B,UAAUT,CAAV,EAAa;WAC7B,KAAKnB,CAAL,KAAWmB,EAAEnB,CAAd,IAAqB,KAAKI,CAAL,KAAWe,EAAEf,CAAlC,IAAyC,KAAKC,CAAL,KAAWc,EAAEd,CAA9D;CADJ;;;;AAMAE,UAAUR,SAAV,CAAoB8B,GAApB,GAA0B,UAAUC,CAAV,EAAa;SAC9B9B,CAAL,GAAU,KAAKA,CAAL,GAAS8B,EAAE9B,CAAZ,GAAiB8B,EAAE9B,CAAnB,GAAuB,KAAKA,CAArC;SACKI,CAAL,GAAU,KAAKA,CAAL,GAAS0B,EAAE1B,CAAZ,GAAiB0B,EAAE1B,CAAnB,GAAuB,KAAKA,CAArC;CAFJ;;AAKAG,UAAUR,SAAV,CAAoBgC,GAApB,GAA0B,UAAUD,CAAV,EAAa;SAC9B9B,CAAL,GAAU,KAAKA,CAAL,GAAS8B,EAAE9B,CAAZ,GAAiB8B,EAAE9B,CAAnB,GAAuB,KAAKA,CAArC;SACKI,CAAL,GAAU,KAAKA,CAAL,GAAS0B,EAAE1B,CAAZ,GAAiB0B,EAAE1B,CAAnB,GAAuB,KAAKA,CAArC;CAFJ;;;;AAOAG,UAAUR,SAAV,CAAoBiC,KAApB,GAA4B,YAAY;WAC7B,IAAIzB,SAAJ,CAAc,KAAKP,CAAnB,EAAsB,KAAKI,CAA3B,EAA8B,KAAKC,CAAnC,CAAP;CADJ;;AAIAE,UAAUR,SAAV,CAAoBkC,OAApB,GAA8B,YAAY;WAC/B,CAAC,KAAKjC,CAAN,EAAS,KAAKI,CAAd,EAAiB,KAAKC,CAAtB,CAAP;CADJ;;;;AAMAE,UAAU2B,MAAV,GAAmB,UAAUlC,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmB;QAC9B,QAAOL,CAAP,yCAAOA,CAAP,OAAa,QAAb,IAAyB,OAAOA,EAAEgC,KAAT,KAAmB,UAAhD,EAA4D;eACjDhC,CAAP;;WAEG,IAAIO,SAAJ,CAAcP,CAAd,EAAiBI,CAAjB,EAAoBC,CAApB,CAAP;CAJJ,CAOA;;ACxIA,IAAM8B,QAAQ;wBAAA;wBAAA;;CAAd,CAMA;;ACVA,IAAMC,QAAQ,SAARA,KAAQ,CAAUb,MAAV,EAAkB;aACnBA,UAAU,IAAnB;;QAEI,CAACA,MAAD,IAAW,OAAOA,OAAOS,KAAd,KAAwB,UAAvC,EAAmD;cACzCK,MAAM,6DAAN,CAAN;;;SAGCd,MAAL,GAAc,YAAY;eACfA,OAAOS,KAAP,EAAP;KADJ;;SAIKM,MAAL,GAAc,UAAUC,KAAV,EAAiB;cACrBrB,GAAN,CAAUK,MAAV;eACOgB,KAAP;KAFJ;CAXJ,CAiBA;;ACdA,IAAMC,OAAO,SAAPA,IAAO,CAAUxC,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmB;QACtBkB,SAASY,MAAM5B,SAAN,CAAgB2B,MAAhB,CAAuBlC,CAAvB,EAA0BI,CAA1B,EAA6BC,CAA7B,CAAf;UACMoC,IAAN,CAAW,IAAX,EAAiBlB,MAAjB;;SAEKmB,MAAL,GAAc,EAAd;CAJJ;;AAOAF,KAAKzC,SAAL,GAAiB4C,OAAOT,MAAP,CAAcE,MAAMrC,SAApB,CAAjB;AACAyC,KAAKzC,SAAL,CAAe6C,WAAf,GAA6BJ,IAA7B;;;AAGAA,KAAKzC,SAAL,CAAe8C,QAAf,GAA0B,UAAUf,CAAV,EAAa;QAC/B,KAAKgB,QAAL,EAAJ,EAAqB;aACZJ,MAAL,CAAYK,MAAZ,CAAmB,KAAKL,MAAL,CAAYM,MAAZ,GAAqB,CAAxC,EAA2C,CAA3C,EAA8ClB,CAA9C;KADJ,MAEO;aACEY,MAAL,CAAYO,IAAZ,CAAiBnB,CAAjB;;CAJR;;;AASAU,KAAKzC,SAAL,CAAemD,OAAf,GAAyB,UAAUC,KAAV,EAAiBrB,CAAjB,EAAoB;QACnCsB,SAAS,KAAKN,QAAL,EAAf;QACIM,MAAJ,EAAY;aACHC,IAAL;;SAECX,MAAL,CAAYS,KAAZ,IAAqBrB,CAArB;QACIsB,MAAJ,EAAY;aACHE,KAAL;;CAPR;;;AAYAd,KAAKzC,SAAL,CAAemB,GAAf,GAAqB,UAAUlB,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmB;QAC9ByB,IAAI,KAAKQ,MAAL,CAAYH,MAAM5B,SAAN,CAAgB2B,MAAhB,CAAuBlC,CAAvB,EAA0BI,CAA1B,EAA6BC,CAA7B,CAAZ,CAAV;SACKwC,QAAL,CAAcf,CAAd;CAFJ;;;AAMAU,KAAKzC,SAAL,CAAewD,QAAf,GAA0B,UAAUvD,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmB;QACrC,CAAC,KAAKqC,MAAL,CAAYM,MAAjB,EAAyB;cACf,IAAIX,KAAJ,CAAU,8CAAV,CAAN;;QAEEP,IAAIK,MAAM5B,SAAN,CAAgB2B,MAAhB,CAAuBlC,CAAvB,EAA0BI,CAA1B,EAA6BC,CAA7B,CAAV;MACEa,GAAF,CAAM,KAAKsC,IAAL,EAAN;SACKX,QAAL,CAAcf,CAAd;CANJ;;;AAUAU,KAAKzC,SAAL,CAAe0D,GAAf,GAAqB,UAAUN,KAAV,EAAiBnD,CAAjB,EAAoBI,CAApB,EAAuBC,CAAvB,EAA0B;SACtC6C,OAAL,CAAaC,KAAb,EAAoB,KAAKb,MAAL,CAAYH,MAAM5B,SAAN,CAAgB2B,MAAhB,CAAuBlC,CAAvB,EAA0BI,CAA1B,EAA6BC,CAA7B,CAAZ,CAApB;CADJ;;;AAKAmC,KAAKzC,SAAL,CAAe2D,GAAf,GAAqB,UAAUP,KAAV,EAAiB;WAC1B,KAAKT,MAAL,CAAYS,KAAZ,MAAuBQ,SAAxB,GAAqC,KAAKjB,MAAL,CAAYS,KAAZ,CAArC,GAA0D,IAAjE;CADJ;;;AAKAX,KAAKzC,SAAL,CAAeyD,IAAf,GAAsB,YAAY;WACtB,KAAKd,MAAL,CAAYM,MAAb,GAAuB,KAAKN,MAAL,CAAY,KAAKA,MAAL,CAAYM,MAAZ,GAAqB,CAAjC,CAAvB,GAA6D,IAApE;CADJ;;;AAKAR,KAAKzC,SAAL,CAAe6D,KAAf,GAAuB,YAAY;WACvB,KAAKlB,MAAL,CAAYM,MAAb,GAAuB,KAAKN,MAAL,CAAY,CAAZ,CAAvB,GAAwC,IAA/C;CADJ;;;AAKAF,KAAKzC,SAAL,CAAe8D,IAAf,GAAsB,UAAUV,KAAV,EAAiB;QAC/B,CAAC,KAAKL,QAAL,EAAL,EAAsB;eACX,KAAKY,GAAL,CAASP,QAAQ,CAAjB,CAAP;;;WAGIA,UAAU,CAAX,GAAgB,KAAKO,GAAL,CAAS,KAAKhB,MAAL,CAAYM,MAAZ,GAAqB,CAA9B,CAAhB,GAAmD,KAAKU,GAAL,CAASP,QAAQ,CAAjB,CAA1D;CALJ;;;AASAX,KAAKzC,SAAL,CAAe+D,IAAf,GAAsB,UAAUX,KAAV,EAAiB;QAC/B,CAAC,KAAKL,QAAL,EAAL,EAAsB;eACX,KAAKY,GAAL,CAASP,QAAQ,CAAjB,CAAP;;WAEIA,UAAU,KAAKT,MAAL,CAAYM,MAAZ,GAAqB,CAAhC,GAAqC,KAAKY,KAAL,EAArC,GAAoD,KAAKF,GAAL,CAASP,QAAQ,CAAjB,CAA3D;CAJJ;;;AAQAX,KAAKzC,SAAL,CAAesD,IAAf,GAAsB,YAAY;QAC1B,KAAKP,QAAL,EAAJ,EAAqB;aACZJ,MAAL,CAAYK,MAAZ,CAAmB,CAAC,CAApB,EAAuB,CAAvB;;WAEG,KAAKS,IAAL,EAAP;CAJJ;;;AAQAhB,KAAKzC,SAAL,CAAeuD,KAAf,GAAuB,YAAY;QAC3B,KAAKZ,MAAL,CAAYM,MAAZ,IAAsB,CAAC,KAAKF,QAAL,EAA3B,EAA4C;aACnCJ,MAAL,CAAYO,IAAZ,CAAiB,KAAKW,KAAL,EAAjB;;WAEG,KAAKJ,IAAL,EAAP;CAJJ;;;AAQAhB,KAAKzC,SAAL,CAAe+C,QAAf,GAA0B,YAAY;WAC1B,KAAKJ,MAAL,CAAYM,MAAZ,GAAqB,CAArB,IAA0B,KAAKQ,IAAL,OAAgB,KAAKI,KAAL,EAAlD;CADJ;;;AAKApB,KAAKzC,SAAL,CAAeiD,MAAf,GAAwB,YAAY;WACxB,KAAKF,QAAL,EAAD,GAAoB,KAAKJ,MAAL,CAAYM,MAAZ,GAAqB,CAAzC,GAA6C,KAAKN,MAAL,CAAYM,MAAhE;CADJ;;;;AAMAR,KAAKzC,SAAL,CAAegE,MAAf,GAAwB,YAAY;QAC5B,CAAC,KAAKrB,MAAL,CAAYM,MAAjB,EAAyB;eACd,IAAP;;QAEEnB,MAAM,KAAK+B,KAAL,GAAa5B,KAAb,EAAZ;QACMD,MAAM,KAAK6B,KAAL,GAAa5B,KAAb,EAAZ;QACMgB,SAAS,KAAKA,MAAL,EAAf;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;YAC5BnC,GAAJ,CAAQ,KAAKa,MAAL,CAAYsB,CAAZ,CAAR;YACIjC,GAAJ,CAAQ,KAAKW,MAAL,CAAYsB,CAAZ,CAAR;;;QAGEC,SAASpC,IAAIG,KAAJ,EAAf;WACOP,SAAP,CAAiB,CAACM,IAAI/B,CAAJ,GAAQ6B,IAAI7B,CAAb,IAAkB,CAAnC,EAAsC,CAAC+B,IAAI3B,CAAJ,GAAQyB,IAAIzB,CAAb,IAAkB,CAAxD,EAA2D,CAAC2B,IAAI1B,CAAJ,GAAQwB,IAAIxB,CAAb,IAAkB,CAA7E;WACO,EAAEwB,QAAF,EAAOE,QAAP,EAAYkC,cAAZ,EAAP;CAdJ;;;AAkBAzB,KAAKzC,SAAL,CAAekC,OAAf,GAAyB,YAAY;QAC3BiC,MAAM,EAAZ;QACMlB,SAAS,KAAKN,MAAL,CAAYM,MAA3B;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;YAC5Bf,IAAJ,CAAS,KAAKP,MAAL,CAAYsB,CAAZ,EAAe/B,OAAf,EAAT;;WAEGiC,GAAP;CANJ;;;;;AAYA1B,KAAKzC,SAAL,CAAe0B,SAAf,GAA2B,UAAUzB,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmB;QACtC2D,UAAJ;QACMlC,IAAIK,MAAM5B,SAAN,CAAgB2B,MAAhB,CAAuBlC,CAAvB,EAA0BI,CAA1B,EAA6BC,CAA7B,CAAV;QACM2C,SAAS,KAAKA,MAAL,EAAf;SACKgB,IAAI,CAAT,EAAYA,IAAIhB,MAAhB,EAAwBgB,KAAK,CAA7B,EAAgC;aACvBtB,MAAL,CAAYsB,CAAZ,EAAe9C,GAAf,CAAmBY,CAAnB;;CALR;;;AAUAU,KAAKzC,SAAL,CAAeuB,KAAf,GAAuB,UAAUtB,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmB;QAClC2D,UAAJ;QACMlC,IAAIK,MAAM5B,SAAN,CAAgB2B,MAAhB,CAAuBlC,CAAvB,EAA0BI,CAA1B,EAA6BC,CAA7B,CAAV;QACM2C,SAAS,KAAKA,MAAL,EAAf;SACKgB,IAAI,CAAT,EAAYA,IAAIhB,MAAhB,EAAwBgB,KAAK,CAA7B,EAAgC;aACvBtB,MAAL,CAAYsB,CAAZ,EAAe1C,KAAf,CAAqB,KAAKC,MAAL,EAArB,EAAoCO,CAApC;;CALR;;;AAUAU,KAAKzC,SAAL,CAAeyB,QAAf,GAA0B,UAAU2C,GAAV,EAAe;QACjCH,UAAJ;QACMhB,SAAS,KAAKA,MAAL,EAAf;SACKgB,IAAI,CAAT,EAAYA,IAAIhB,MAAhB,EAAwBgB,KAAK,CAA7B,EAAgC;aACvBtB,MAAL,CAAYsB,CAAZ,EAAexC,QAAf,CAAwB,KAAKD,MAAL,EAAxB,EAAuC4C,GAAvC;;CAJR,CAQA;;AC3KA;;;;AAIA,IAAMC,QAAQ,SAARA,KAAQ,CAAUpE,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmB;cACnBoC,IAAV,CAAe,IAAf,EAAqBzC,CAArB,EAAwBI,CAAxB,EAA2BC,CAA3B;;;SAGKgE,OAAL,GAAe,EAAf;CAJJ;;AAOAD,MAAMrE,SAAN,GAAkB4C,OAAOT,MAAP,CAAc3B,UAAUR,SAAxB,CAAlB;AACAqE,MAAMrE,SAAN,CAAgB6C,WAAhB,GAA8BwB,KAA9B;;;;AAIAA,MAAMrE,SAAN,CAAgBmB,GAAhB,GAAsB,UAAUC,CAAV,EAAa;cACrBpB,SAAV,CAAoBmB,GAApB,CAAwBuB,IAAxB,CAA6B,IAA7B,EAAmCtB,CAAnC;QACM6B,SAAS,KAAKqB,OAAL,CAAarB,MAA5B;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;aAC3BK,OAAL,CAAaL,CAAb,EAAgB9C,GAAhB,CAAoBC,CAApB;;CAJR;;AAQAiD,MAAMrE,SAAN,CAAgBqB,SAAhB,GAA4B,UAAUD,CAAV,EAAa;cAC3BpB,SAAV,CAAoBqB,SAApB,CAA8BqB,IAA9B,CAAmC,IAAnC,EAAyCtB,CAAzC;QACM6B,SAAS,KAAKqB,OAAL,CAAarB,MAA5B;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;aAC3BK,OAAL,CAAaL,CAAb,EAAgB5C,SAAhB,CAA0BD,CAA1B;;CAJR;;AAQAiD,MAAMrE,SAAN,CAAgBsB,QAAhB,GAA2B,UAAUF,CAAV,EAAa;cAC1BpB,SAAV,CAAoBsB,QAApB,CAA6BoB,IAA7B,CAAkC,IAAlC,EAAwCtB,CAAxC;QACM6B,SAAS,KAAKqB,OAAL,CAAarB,MAA5B;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;aAC3BK,OAAL,CAAaL,CAAb,EAAgB3C,QAAhB,CAAyBF,CAAzB;;CAJR;;;;AAUAiD,MAAMrE,SAAN,CAAgBuB,KAAhB,GAAwB,UAAUC,MAAV,EAAkBJ,CAAlB,EAAqB;cAC/BpB,SAAV,CAAoBuB,KAApB,CAA0BmB,IAA1B,CAA+B,IAA/B,EAAqClB,MAArC,EAA6CJ,CAA7C;QACM6B,SAAS,KAAKqB,OAAL,CAAarB,MAA5B;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;aAC3BK,OAAL,CAAaL,CAAb,EAAgB1C,KAAhB,CAAsBC,MAAtB,EAA8BJ,CAA9B;;CAJR;;AAQAiD,MAAMrE,SAAN,CAAgByB,QAAhB,GAA2B,UAAUD,MAAV,EAAkB1B,GAAlB,EAAuB;cACpCE,SAAV,CAAoByB,QAApB,CAA6BiB,IAA7B,CAAkC,IAAlC,EAAwClB,MAAxC,EAAgD1B,GAAhD;QACMmD,SAAS,KAAKqB,OAAL,CAAarB,MAA5B;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;aAC3BK,OAAL,CAAaL,CAAb,EAAgBM,SAAhB,CAA0B/C,MAA1B,EAAkC1B,GAAlC;;CAJR;;;;AAUAuE,MAAMrE,SAAN,CAAgB0B,SAAhB,GAA4B,UAAUzB,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmB;cACjCN,SAAV,CAAoB0B,SAApB,CAA8BgB,IAA9B,CAAmC,IAAnC,EAAyCzC,CAAzC,EAA4CI,CAA5C,EAA+CC,CAA/C;QACM2C,SAAS,KAAKqB,OAAL,CAAarB,MAA5B;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;aAC3BK,OAAL,CAAaL,CAAb,EAAgBvC,SAAhB,CAA0BzB,CAA1B,EAA6BI,CAA7B,EAAgCC,CAAhC;;CAJR;;;;AAUA+D,MAAMrE,SAAN,CAAgBiC,KAAhB,GAAwB,YAAY;QAC1BA,QAAQ,IAAIoC,KAAJ,CAAU,KAAKpE,CAAf,EAAkB,KAAKI,CAAvB,EAA0B,KAAKC,CAA/B,CAAd;QACM2C,SAAS,KAAKqB,OAAL,CAAarB,MAA5B;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;cAC1BK,OAAN,CAAcL,CAAd,IAAmB,KAAKK,OAAL,CAAaL,CAAb,CAAnB;;WAEGhC,KAAP;CANJ;;AASAoC,MAAMrE,SAAN,CAAgBkC,OAAhB,GAA0B,YAAY;QAC5BiC,MAAM,CAAC,KAAKlE,CAAN,EAAS,KAAKI,CAAd,EAAiB,KAAKC,CAAtB,CAAZ;QACM2C,SAAS,KAAKqB,OAAL,CAAarB,MAA5B;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;YAC5Bf,IAAJ,CAAS,KAAKoB,OAAL,CAAaL,CAAb,EAAgBhE,CAAzB,EAA4B,KAAKqE,OAAL,CAAaL,CAAb,EAAgB5D,CAA5C,EAA+C,KAAKiE,OAAL,CAAaL,CAAb,EAAgB3D,CAA/D;;WAEG6D,GAAP;CANJ;;;;AAWAE,MAAMlC,MAAN,GAAe,UAAUlC,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,EAAmB;;QAE1B,QAAOL,CAAP,yCAAOA,CAAP,OAAa,QAAb,IAAyB,OAAOA,EAAEgC,KAAT,KAAmB,UAAhD,EAA4D;;YAEpD,OAAOhC,EAAEqE,OAAT,KAAqB,WAAzB,EAAsC;mBAC3BrE,CAAP;;;eAGG,IAAIoE,KAAJ,CAAUpE,EAAEA,CAAZ,EAAeA,EAAEI,CAAjB,EAAoBJ,EAAEK,CAAtB,CAAP;;WAEG,IAAI+D,KAAJ,CAAUpE,CAAV,EAAaI,CAAb,EAAgBC,CAAhB,CAAP;CAVJ,CAcA;;ACvGA;;;;;;;AAOA,IAAMkE,cAAc,SAAdA,WAAc,CAAUV,IAAV,EAAgBW,IAAhB,EAAsBV,IAAtB,EAA4BW,OAA5B,EAAqC;;;WAG9CL,MAAMlC,MAAN,CAAasC,IAAb,CAAP,CAHqD;;QAKjD,CAACV,IAAD,IAAS,CAACD,IAAd,EAAoB;eACTW,IAAP;;;;;;;;;;;;;QAaEE,MAAMzE,KAAKW,IAAL,CAAUX,KAAKY,GAAL,CAAS2D,KAAKxE,CAAL,GAAS6D,KAAK7D,CAAvB,EAA0B,CAA1B,IAA+BC,KAAKY,GAAL,CAAS2D,KAAKpE,CAAL,GAASyD,KAAKzD,CAAvB,EAA0B,CAA1B,CAAzC,CAAZ;QACMuE,MAAM1E,KAAKW,IAAL,CAAUX,KAAKY,GAAL,CAASiD,KAAK9D,CAAL,GAASwE,KAAKxE,CAAvB,EAA0B,CAA1B,IAA+BC,KAAKY,GAAL,CAASiD,KAAK1D,CAAL,GAASoE,KAAKpE,CAAvB,EAA0B,CAA1B,CAAzC,CAAZ;;;QAGMwE,KAAKH,WAAWC,OAAOA,MAAMC,GAAb,CAAX,CAAX,CAvBqD;QAwB/CE,KAAKJ,UAAUG,EAArB,CAxBqD;;QA0B/CE,MAAMN,KAAKxE,CAAL,GAAU4E,MAAMf,KAAK7D,CAAL,GAAS8D,KAAK9D,CAApB,CAAtB,CA1BqD;QA2B/C+E,MAAMP,KAAKpE,CAAL,GAAUwE,MAAMf,KAAKzD,CAAL,GAAS0D,KAAK1D,CAApB,CAAtB,CA3BqD;;QA6B/C4E,MAAMR,KAAKxE,CAAL,GAAU6E,MAAMhB,KAAK7D,CAAL,GAAS8D,KAAK9D,CAApB,CAAtB;QACMiF,MAAMT,KAAKpE,CAAL,GAAUyE,MAAMhB,KAAKzD,CAAL,GAAS0D,KAAK1D,CAApB,CAAtB;;;;SAIKiE,OAAL,CAAa,CAAb,IAAkB,IAAIlC,MAAM5B,SAAV,CAAoBuE,GAApB,EAAyBC,GAAzB,CAAlB;SACKV,OAAL,CAAa,CAAb,IAAkB,IAAIlC,MAAM5B,SAAV,CAAoByE,GAApB,EAAyBC,GAAzB,CAAlB;;;;;;;;;;;;;;;;;;WAkBOT,IAAP;CArDJ;;AAwDA,IAAMU,aAAa,SAAbA,UAAa,CAAUC,IAAV,EAAgBC,SAAhB,EAA2B;;;QAGtCC,eAAJ;QACMrC,SAAUmC,KAAKrC,QAAL,EAAD,GAAoBqC,KAAKzC,MAAL,CAAYM,MAAZ,GAAqB,CAAzC,GAA6CmC,KAAKzC,MAAL,CAAYM,MAAxE;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;iBACvBO,YAAYY,KAAKtB,IAAL,CAAUG,CAAV,CAAZ,EAA0BmB,KAAKzB,GAAL,CAASM,CAAT,CAA1B,EAAuCmB,KAAKrB,IAAL,CAAUE,CAAV,CAAvC,EAAqDoB,SAArD,CAAT;aACKlC,OAAL,CAAac,CAAb,EAAgBqB,MAAhB;;CAPR;;AAWA,aAAe;0BAAA;;CAAf;;ACzEA,IAAMC,SAASrF,KAAKQ,EAAL,GAAU,CAAzB;AACA,IAAM8E,UAAUtF,KAAKQ,EAAL,GAAU,CAA1B;;AAEA,IAAM+E,qBAAqB,SAArBA,kBAAqB,CAAUC,MAAV,EAAkBC,KAAlB,EAAyB;QAC5CnD,QAAQ,IAAIJ,MAAMxB,KAAV,CAAgB8E,MAAhB,EAAwBC,KAAxB,CAAZ;YACQnD,MAAMjC,WAAN,EAAR;WACOiC,KAAP;CAHJ;;;;;;AAUA,IAAMoD,OAAO,SAAPA,IAAO,CAAUC,IAAV,EAAgBC,EAAhB,EAAoBC,QAApB,EAA8BvE,MAA9B,EAAsC;QACzC4D,OAAO,IAAI3C,IAAJ,CAASjB,MAAT,CAAb;SACKL,GAAL,CAAS0E,IAAT;SACK1E,GAAL,CAAS2E,EAAT;SACKV,IAAL,GAAYA,IAAZ;;QAEI,OAAOW,QAAP,KAAoB,QAAxB,EAAkC;aACzBC,UAAL,CAAgBD,QAAhB;;CAPR;;;AAYAH,KAAK5F,SAAL,CAAegG,UAAf,GAA4B,UAAUD,QAAV,EAAoB;QACtCtC,OAAO,KAAK2B,IAAL,CAAU3B,IAAV,EAAb;QACMR,SAAS,KAAKmC,IAAL,CAAUnC,MAAV,EAAf;;QAEMgD,OAAOxC,KAAKxB,KAAL,EAAb;SACKZ,SAAL,CAAe,KAAK+D,IAAL,CAAUvB,KAAV,EAAf;SACKlC,UAAL,CAAgB,IAAIoE,QAApB;;;QAGI9C,SAAS,CAAb,EAAgB;aACPmC,IAAL,CAAUzC,MAAV,CAAiBK,MAAjB,CAAwB,CAAxB,EAA2B,KAAKoC,IAAL,CAAUnC,MAAV,EAA3B;;;gBAGQ,CAAZ,CAb4C;SAcvC,IAAIgB,IAAI,CAAb,EAAgBA,KAAK8B,QAArB,EAA+B9B,KAAK,CAApC,EAAuC;aAC9BmB,IAAL,CAAU5B,QAAV,CAAmByC,KAAKhE,KAAL,EAAnB;;SAECmD,IAAL,CAAUtC,QAAV,CAAmBW,IAAnB;CAjBJ;;;;;;AAwBA,IAAMyC,UAAU,SAAVA,OAAU,CAAUH,QAAV,EAAoBL,MAApB,EAA4BlE,MAA5B,EAAoC;QAC1C4D,OAAO,IAAI3C,IAAJ,CAASjB,MAAT,CAAb;QACIyC,IAAI,CAAR;;;QAGM0B,QAAQJ,SAASQ,QAAvB;;WAEO9B,IAAI8B,QAAX,EAAqB;YACX3E,IAAI,IAAIgB,MAAMxB,KAAV,CAAgB8E,MAAhB,EAAwBzB,IAAI0B,KAA5B,CAAV;YACMQ,IAAI/E,EAAEb,WAAF,EAAV;aACKY,GAAL,CAASgF,EAAElG,CAAX,EAAckG,EAAE9F,CAAhB;aACK,CAAL;;SAECkD,KAAL;SACK6B,IAAL,GAAYA,IAAZ;CAdJ;;;;;;AAqBA,IAAMgB,YAAY,SAAZA,SAAY,CAAUC,KAAV,EAAiBC,MAAjB,EAAyB9E,MAAzB,EAAiC;QACzC4D,OAAO,IAAI3C,IAAJ,CAASjB,MAAT,CAAb;;SAEKL,GAAL,CAAS,CAACkF,KAAD,GAAS,CAAlB,EAAqBC,SAAS,CAA9B;SACK9C,QAAL,CAAc6C,KAAd,EAAqB,CAArB;SACK7C,QAAL,CAAc,CAAd,EAAiB,CAAC8C,MAAlB;SACK9C,QAAL,CAAc,CAAC6C,KAAf,EAAsB,CAAtB;SACK9C,KAAL;;SAEK6B,IAAL,GAAYA,IAAZ;CATJ;;;;;;AAgBA,IAAMmB,OAAO,SAAPA,IAAO,CAAUR,QAAV,EAAoBS,WAApB,EAAiCC,WAAjC,EAA8CjF,MAA9C,EAAsD;QACzD4D,OAAO,IAAI3C,IAAJ,CAASjB,MAAT,CAAb;;;QAGMkF,OAAOlB,OAAb;QACMG,QAAQJ,SAASQ,QAAvB;QACIY,eAAJ;QACIC,cAAJ;QACIC,cAAJ;QACI5C,IAAI,CAAR;;WAEOA,IAAI8B,QAAX,EAAqB;iBACP9B,IAAI0B,KAAL,GAAce,IAAvB;gBACQjB,mBAAmBe,WAAnB,EAAgCG,MAAhC,CAAR;aACKxF,GAAL,CAAS0F,MAAM5G,CAAf,EAAkB4G,MAAMxG,CAAxB;;YAEI4D,KAAK8B,WAAW,CAApB,EAAuB;sBACTJ,QAAQ,CAAlB;oBACQF,mBAAmBgB,WAAnB,EAAgCE,MAAhC,CAAR;iBACKxF,GAAL,CAASyF,MAAM3G,CAAf,EAAkB2G,MAAMvG,CAAxB;;aAEC,CAAL;;SAECkD,KAAL;SACK6B,IAAL,GAAYA,IAAZ;CAxBJ;;;AA4BAmB,KAAKvG,SAAL,CAAe8G,MAAf,GAAwB,UAAUpC,OAAV,EAAmB;QACnCY,eAAJ;QACMrC,SAAS,KAAKmC,IAAL,CAAUzC,MAAV,CAAiBM,MAAjB,GAA0B,CAAzC;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;iBACvB8C,OAAOvC,WAAP,CAAmB,KAAKY,IAAL,CAAUtB,IAAV,CAAeG,CAAf,CAAnB,EAAsC,KAAKmB,IAAL,CAAUzB,GAAV,CAAcM,CAAd,CAAtC,EAAwD,KAAKmB,IAAL,CAAUrB,IAAV,CAAeE,CAAf,CAAxD,EAA2ES,OAA3E,CAAT;aACKU,IAAL,CAAUjC,OAAV,CAAkBc,CAAlB,EAAqBqB,MAArB;;CALR;;;AAUAiB,KAAKvG,SAAL,CAAegH,OAAf,GAAyB,UAAUtC,OAAV,EAAmB;QACpCY,eAAJ;QACMrC,SAAS,KAAKmC,IAAL,CAAUzC,MAAV,CAAiBM,MAAjB,GAA0B,CAAzC;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;iBACvB8C,OAAOvC,WAAP,CAAmB,KAAKY,IAAL,CAAUtB,IAAV,CAAeG,CAAf,CAAnB,EAAsC,KAAKmB,IAAL,CAAUzB,GAAV,CAAcM,CAAd,CAAtC,EAAwD,KAAKmB,IAAL,CAAUrB,IAAV,CAAeE,CAAf,CAAxD,EAA2ES,OAA3E,CAAT;aACKU,IAAL,CAAUjC,OAAV,CAAkBc,CAAlB,EAAqBqB,MAArB;;CALR;;;;;;AAaA,IAAM2B,MAAM,SAANA,GAAM,CAAUlB,QAAV,EAAoBS,WAApB,EAAiCC,WAAjC,EAA8CjF,MAA9C,EAAsD;QACxD4D,OAAO,IAAI3C,IAAJ,CAASjB,MAAT,CAAb;;;;QAIMkF,OAAOlB,OAAb;QACMG,QAAQJ,SAASQ,QAAvB;QACMmB,cAAcvB,QAASA,QAAQ,CAArC;QACIgB,eAAJ;QACIC,cAAJ;QACIC,cAAJ;QACI5C,IAAI,CAAR;;WAEOA,IAAI8B,QAAX,EAAqB;iBACP9B,IAAI0B,KAAL,GAAce,IAAvB;gBACQ,CACJjB,mBAAmBe,WAAnB,EAAgCG,SAASO,WAAzC,CADI,EAEJzB,mBAAmBe,WAAnB,EAAgCG,SAAU,IAAIO,WAA9C,CAFI,CAAR;;aAKK/F,GAAL,CAAS0F,MAAM,CAAN,EAAS5G,CAAlB,EAAqB4G,MAAM,CAAN,EAASxG,CAA9B;aACKc,GAAL,CAAS0F,MAAM,CAAN,EAAS5G,CAAlB,EAAqB4G,MAAM,CAAN,EAASxG,CAA9B;;kBAEUsF,QAAQ,CAAlB;gBACQ,CACJF,mBAAmBgB,WAAnB,EAAgCE,SAASO,WAAzC,CADI,EAEJzB,mBAAmBgB,WAAnB,EAAgCE,SAAU,IAAIO,WAA9C,CAFI,CAAR;aAIK/F,GAAL,CAASyF,MAAM,CAAN,EAAS3G,CAAlB,EAAqB2G,MAAM,CAAN,EAASvG,CAA9B;aACKc,GAAL,CAASyF,MAAM,CAAN,EAAS3G,CAAlB,EAAqB2G,MAAM,CAAN,EAASvG,CAA9B;;aAEK,CAAL;;SAECkD,KAAL;SACK6B,IAAL,GAAYA,IAAZ;CAlCJ;;AAqCA;;;;;;;;;;AClLA;;;;;;;;;;;;;;;;;;;;AAoBA,IAAM+B,UAAU,SAAVA,OAAU,CAAUC,OAAV,EAAmBC,QAAnB,EAA6BC,KAA7B,EAAoC;QAC1CC,MAAM,EAAZ;;QAEMtE,SAASmE,QAAQnE,MAAR,EAAf;;QAEIuE,aAAJ;SACK,IAAIvD,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;eACzBmD,QAAQzE,MAAR,CAAesB,CAAf,EAAkBhC,KAAlB,EAAP;aACKZ,SAAL,CAAegG,SAAS1E,MAAT,CAAgBsB,CAAhB,CAAf;aACKtC,UAAL,CAAgB,IAAI2F,KAApB;;YAEIpE,IAAJ,CAAS,CAACkE,QAAQzE,MAAR,CAAesB,CAAf,CAAD,EAAoBoD,SAAS1E,MAAT,CAAgBsB,CAAhB,CAApB,EAAwCuD,IAAxC,CAAT;;;SAGCD,GAAL,GAAWA,GAAX;SACKE,KAAL,GAAa,CAAb;SACKH,KAAL,GAAaA,KAAb;SACKI,SAAL,GAAiB,CAAjB;CAjBJ;;AAoBAP,QAAQnH,SAAR,CAAkB+D,IAAlB,GAAyB,YAAY;QAC7B,KAAK0D,KAAL,IAAc,KAAKH,KAAvB,EAA8B;aACrBI,SAAL,GAAiB,CAAC,CAAlB;eACO,KAAP;;;QAGEzE,SAAS,KAAKsE,GAAL,CAAStE,MAAxB;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;aAC3BsD,GAAL,CAAStD,CAAT,EAAY,CAAZ,EAAe9C,GAAf,CAAmB,KAAKoG,GAAL,CAAStD,CAAT,EAAY,CAAZ,CAAnB,EADgC;;;SAI/BwD,KAAL,IAAc,CAAd;WACO,IAAP;CAZJ;;AAeAN,QAAQnH,SAAR,CAAkB8D,IAAlB,GAAyB,YAAY;QAC7B,KAAK2D,KAAL,IAAc,CAAlB,EAAqB;aACZC,SAAL,GAAiB,CAAjB;eACO,KAAP;;;QAGEzE,SAAS,KAAKsE,GAAL,CAAStE,MAAxB;SACK,IAAIgB,IAAI,CAAb,EAAgBA,IAAIhB,MAApB,EAA4BgB,KAAK,CAAjC,EAAoC;aAC3BsD,GAAL,CAAStD,CAAT,EAAY,CAAZ,EAAe5C,SAAf,CAAyB,KAAKkG,GAAL,CAAStD,CAAT,EAAY,CAAZ,CAAzB,EADgC;;;SAI/BwD,KAAL,IAAc,CAAd;WACO,IAAP;CAZJ;;AAeAN,QAAQnH,SAAR,CAAkBwD,QAAlB,GAA6B,YAAY;QACjC,KAAKkE,SAAL,GAAiB,CAArB,EAAwB;aACf3D,IAAL;;;SAGCD,IAAL;CALJ;;AAQAqD,QAAQnH,SAAR,CAAkB2H,QAAlB,GAA6B,YAAY;QACjC,KAAKD,SAAL,GAAiB,CAArB,EAAwB;eACb,KAAKD,KAAL,KAAe,KAAKH,KAA3B;;WAEG,KAAKG,KAAL,KAAe,CAAtB;CAJJ;;AAOAN,QAAQnH,SAAR,CAAkB4H,OAAlB,GAA4B,YAAY;SAC/BF,SAAL,IAAkB,CAAC,CAAnB;CADJ,CAIA;;AClFA,IAAMG,SAAS;gBAAA;cAAA;gBAAA;kBAAA;;CAAf;;;AASAjF,OAAOkF,IAAP,CAAYC,QAAZ,EAAsBC,OAAtB,CAA8B,UAACC,GAAD,EAAS;WAC5BA,GAAP,IAAcF,SAASE,GAAT,CAAd;CADJ,EAIA;;;;"}