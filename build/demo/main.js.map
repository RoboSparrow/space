{"version":3,"file":null,"sources":["../../src/demo/Animation.js","../../src/demo/Canvas2d.js","../../src/demo/Utils.js","../../src/demo/components/Path.vue","../../src/demo/App.vue","../../src/demo/main.js"],"sourcesContent":["const Animation = function () {\n    this.id = null;\n    this.count = 0;\n    this.running = false;\n    this.callbacks = [];\n};\n\n// register callback\nAnimation.prototype.add = function (callback) {\n    this.callbacks.push(callback);\n    return this;\n};\n\n// clear all callbacks\nAnimation.prototype.clear = function () {\n    this.callbacks.splice(0, this.callbacks.length);\n    return this;\n};\n\n// clear all callbacks\nAnimation.prototype.only = function (callback) {\n    this.clear().add(callback);\n    return this;\n};\n\nAnimation.prototype.play = function () {\n    this.running = true;\n\n    const callback = () => {\n        if (!this.running) {\n            return;\n        }\n        this.callbacks.forEach((fn) => {\n            this.count += 1;\n            fn();\n        });\n        this.id = window.requestAnimationFrame(callback);\n    };\n\n    this.id = window.requestAnimationFrame(callback);\n    return this;\n};\n\nAnimation.prototype.stop = function () {\n    this.running = false;\n    this.count = 0;\n    return this;\n};\n\nAnimation.prototype.pause = function () {\n    this.running = false;\n    return this;\n};\n\nAnimation.prototype.reset = function () {\n    this.running = false;\n    return this;\n};\n\nAnimation.prototype.toggle = function () {\n    if (this.running) {\n        this.pause();\n    } else {\n        this.play();\n    }\n    return this;\n};\n\nexport default Animation;\n","const document = window.document;\nconst CLASS_NAME = 'canvas';\n\nconst Canvas2d = function () {\n    const canvas = document.createElement('canvas');\n    canvas.className = CLASS_NAME;\n    const ctx = canvas.getContext('2d');\n\n    this.canvas = canvas;\n    this.ctx = ctx;\n};\n\nCanvas2d.prototype.clear = function () {\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n};\n\nexport default Canvas2d;\n","export default {\n    /**\n    * Returns a random integer between min (inclusive) and max (inclusive)\n    * Using Math.round() will give you a non-uniform distribution!\n    */\n    randInt: function (min, max) {\n        return Math.floor(Math.random() * (max - (min + 1))) + min;\n    },\n\n    /**\n    * Returns a random integer between min (inclusive) and max (inclusive)\n    * Using Math.round() will give you a non-uniform distribution!\n    */\n    randIntRange: function (base, range, bounce = []) {\n        if (bounce.length) {\n            if ((base + range[1]) > bounce[1]) {\n                base -= range[1];\n            }\n            if ((base + range[0]) < bounce[0]) {\n                base -= range[0];\n            }\n        }\n\n        return base + this.randInt(range[0], range[1]);\n    }\n};\n","<template>\n    <div>\n        <div class=\"pure-control-group\">\n            <label for=\"name\">Segment Range</label>\n            <input type=\"range\" v-model.number=\"state.segmentsRange\" min=\"1\" max=\"50\">\n            <span class=\"pure-form-message-inline\">gre {{state}}</span>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\n\nconst Space = window.Space;\nlet prev;\n\nconst state = {\n    prev: null,\n    segments: 100,\n    segmentsRange: 5\n};\n\nconst compute = function(state, canvas) {\n    if (!state.prev) {\n        state.prev = new Space.Point.Cartesian(canvas.width/2, canvas.height/2);\n    }\n    const path = new Space.Path(state.prev.x, state.prev.y);\n    const range = state.segmentsRange;\n    let count = 0;\n    while(count < state.segments){\n        let x = Utils.randIntRange(path.last().x, [-range, range], [0, canvas.width]);\n        let y = Utils.randIntRange(path.last().y, [-range, range], [0, canvas.height]);\n        path.add(x, y);\n        count++;\n    }\n    return path;\n};\n\nexport default {\n    name: 'Path',\n    props: [\n        'animation',\n        'states',\n        'canvas'\n    ],\n    mounted() {\n        let path;\n        this.canvas.clear();\n\n        this.animation\n        .only(() => {\n            // compute path\n            path = compute(this.state, this.canvas.canvas);\n\n            // draw\n            this.canvas.clear();\n            this.canvas.ctx.beginPath();\n            this.canvas.ctx.moveTo(path.first().x, path.first().y);\n\n            path.points.forEach((point, index)=> {\n                if(index === 0){\n                    return;\n                }\n                this.canvas.ctx.lineTo(point.x, point.y);\n                this.canvas.ctx.strokeStyle = this.states.canvas.strokeStyle;\n                this.canvas.ctx.lineWidth = this.states.canvas.lineWidth;\n                this.canvas.ctx.stroke();\n            });\n            this.canvas.ctx.closePath();\n        })\n        .play()\n        //.stop()\n        ;\n        console.log(this.animation);\n    },\n    components: {\n    },\n    data() {\n        return {\n            state\n        };\n    }\n};\n\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <header class=\"mui-appbar mui--z1\">\n            <div class=\"mui-container\">\n                <table width=\"100%\">\n                    <tr class=\"mui--appbar-height\">\n                        <td class=\"mui--text-title\">Brand.io</td>\n                        <td align=\"right\">\n                            <ul class=\"mui-list--inline mui--text-body2\">\n                                <li><router-link to=\"/Path\">Path</router-link></li>\n                            </ul>\n                        </td>\n                    </tr>\n                </table>\n            </div>\n        </header>\n\n        <div id=\"content\" class=\"mui-container-fluid\">\n            <div class=\"mui-row\">\n                <div class=\"mui-col-sm-10 mui-col-sm-offset-1\">\n                    <span>{{animation.count}}</span>\n                    <router-view\n                        class=\"view\"\n                        :states=\"states\"\n                        :animation=\"animation\"\n                        :canvas=\"canvas\"\n                    ></router-view>\n                    <div class=\"canvas\">\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nimport Path from './components/Path.vue';\n\nexport default {\n    name: 'app',\n    props: ['animation', 'states', 'canvas'],\n    components: {\n        Path\n    },\n    mounted() {\n        this.$el.querySelector('.canvas').appendChild(this.canvas.canvas);\n        this.canvas.canvas.width = this.states.canvas.width;\n        this.canvas.canvas.height = this.states.canvas.height;\n        this.canvas.ctx.fillStyle = this.states.canvas.fillStyle;\n        this.canvas.ctx.lineWidth = this.states.canvas.lineWidth;\n    }\n};\n\n</script>\n\n<style>\n</style>\n","import Vue from 'vue';\nimport VueRouter from 'vue-router';\n// import Space from '../Space';\n\n// rollup-plugin-scss\nimport './main.scss';\n\nimport Animation from './Animation';\nimport Canvas2d from './Canvas2d';\n\nimport Path from './components/Path.vue';\nimport App from './App.vue';\n\nconst animation = new Animation();\nconst canvas = new Canvas2d();\n\nconst states = {\n    canvas: {\n        width: 500,\n        height: 500,\n        strokeStyle: 'hsla(300, 100%, 75%, 1)',\n        fillStyle: 'rgba(0, 0, 0, .08)',\n        lineWidth: 0.1\n    }\n};\n\n// Create the router\nconst router = new VueRouter({\n    mode: 'hash', //'history',\n    routes: [\n        {\n            path: '/',\n            component: Path\n        },\n        {\n            path: '/Path',\n            component: Path\n        },\n        // catch all redirect\n        {\n            path: '*',\n            redirect: '/'\n        }\n    ]\n});\n\n// 4. Create and mount root instance.\n// Make sure to inject the router.\nnew Vue({\n    router,\n    data: {\n        animation,\n        states,\n        canvas\n    },\n    components: {\n        App\n    },\n    //render: h => h(App)\n    template: '<App :states=\"states\" :animation=\"animation\" :canvas=\"canvas\" />',\n}).$mount('#app');\n"],"names":["Animation","id","count","running","callbacks","prototype","add","callback","push","clear","splice","length","only","play","forEach","fn","window","requestAnimationFrame","stop","pause","reset","toggle","document","CLASS_NAME","Canvas2d","canvas","createElement","className","ctx","getContext","fillRect","width","height","min","max","Math","floor","random","base","range","bounce","randInt","Space","state","compute","prev","Point","Cartesian","path","Path","x","y","segmentsRange","segments","Utils","randIntRange","last","render","animation","beginPath","moveTo","first","points","point","index","lineTo","strokeStyle","states","lineWidth","stroke","closePath","log","$el","querySelector","appendChild","fillStyle","router","VueRouter","Vue","$mount"],"mappings":"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"}