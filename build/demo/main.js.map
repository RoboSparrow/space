{"version":3,"file":null,"sources":["../../src/demo/Animation.js","../../src/demo/Canvas2d.js","../../src/demo/State.js","../../src/demo/Utils.js","../../src/demo/components/Home.vue","../../src/demo/components/form/Dev.vue","../../src/demo/components/Path.vue","../../src/demo/components/Polygon.vue","../../src/demo/components/Rectangle.vue","../../src/demo/components/Star.vue","../../src/demo/components/form/ColorPicker.vue","../../src/demo/components/Figures.vue","../../src/demo/Routes.js","../../src/demo/components/form/Animation.vue","../../src/demo/App.vue","../../src/demo/main.js"],"sourcesContent":["const Animation = function () {\n    this.id = null;\n    this.count = 0;\n    this.running = false;\n    this.interval = -1;\n    this.last = new Date().getTime();\n    this.callbacks = [];\n};\n\n// throttle - set frames per second\nAnimation.prototype.fps = function (fps) {\n    this.interval = (fps < 0) ? -1 : 1000 / fps;\n    return this;\n};\n\n// register callback\nAnimation.prototype.add = function (callback) {\n    this.callbacks.push(callback);\n    return this;\n};\n\n// clear all callbacks\nAnimation.prototype.clear = function () {\n    this.callbacks.splice(0, this.callbacks.length);\n    return this;\n};\n\n// clear existing callbacks and set one\nAnimation.prototype.only = function (callback) {\n    this.clear().add(callback);\n    return this;\n};\n\nAnimation.prototype.play = function () {\n    this.running = true;\n\n    const callback = () => {\n        if (!this.running) {\n            return;\n        }\n\n        const now = new Date().getTime();\n        const delta = now - this.last;\n\n        if (this.interval < 0 || delta > this.interval) {\n            this.last = now - (delta % this.interval);\n            this.callbacks.forEach((fn) => {\n                this.count += 1;\n                fn();\n            });\n        }\n\n        this.id = window.requestAnimationFrame(callback);\n    };\n\n    this.id = window.requestAnimationFrame(callback);\n    return this;\n};\n\nAnimation.prototype.stop = function () {\n    this.running = false;\n    this.count = 0;\n    return this;\n};\n\nAnimation.prototype.pause = function () {\n    this.running = false;\n    return this;\n};\n\nAnimation.prototype.cancel = function () {\n    this.stop();\n    window.cancelAnimationFrame(this.id);\n    this.id = null;\n    return this;\n};\n\nAnimation.prototype.toggle = function () {\n    if (this.running) {\n        this.pause();\n    } else {\n        this.play();\n    }\n    return this;\n};\n\nexport default Animation;\n","const document = window.document;\nconst CLASS_NAME = 'canvas';\n\nconst Canvas2d = function () {\n    const canvas = document.createElement('canvas');\n    canvas.className = CLASS_NAME;\n    const ctx = canvas.getContext('2d');\n\n    this.canvas = canvas;\n    this.ctx = ctx;\n};\n\nCanvas2d.prototype.styles = function (styles) {\n    Object.keys(styles).forEach((key) => {\n        if (key in this.ctx) {\n            this.ctx[key] = styles[key];\n        }\n    });\n};\n\nCanvas2d.prototype.clear = function () {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n};\n\nCanvas2d.prototype.fill = function () {\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n};\n\nexport default Canvas2d;\n","const State = {\n    canvas: {\n        width: 500,\n        height: 500,\n        strokeStyle: 'hsla(300, 100%, 75%, 1)',\n        fillStyle: 'rgba(0, 0, 0, .08)',\n        lineWidth: 0.1\n    },\n\n    // shallow(!) clone and merge in submitted properties\n    factor: function (property, merge) {\n        merge = merge || {};\n        Object.keys(this[property]).forEach((key) => {\n            merge[key] = (typeof merge[key] !== 'undefined') ? merge[key] : this[property][key];\n        });\n        return merge;\n    }\n\n};\n\nexport default State;\n","export default {\n    /**\n     * Returns a random integer between min (inclusive) and max (inclusive)\n     * Using Math.round() will give you a non-uniform distribution!\n     */\n    randInt: function (min, max) {\n        min = min || -1;\n        max = max || 1;\n        // eslint-disable-next-line no-mixed-operators\n        return Math.random() * (max - min) + min;\n    },\n\n    /**\n     * Returns a random integer between min (inclusive) and max (inclusive)\n     * Using Math.round() will give you a non-uniform distribution!\n     */\n    bounds: function (val, min, max) {\n        val = (min !== false && val < min) ? min : val;\n        val = (max !== false && val > max) ? max : val;\n        return val;\n    },\n\n    /**\n     * Returns a random integer between min (inclusive) and max (inclusive)\n     * Using Math.round() will give you a non-uniform distribution!\n     */\n    randIntRange: function (base, range, bounce = []) {\n        if (bounce.length) {\n            if ((base + range[1]) > bounce[1]) {\n                base -= range[1];\n            }\n            if ((base + range[0]) < bounce[0]) {\n                base -= range[0];\n            }\n        }\n\n        return base + this.randInt(range[0], range[1]);\n    },\n\n    /**\n     * Returns a random integer between min (inclusive) and max (inclusive)\n     * Using Math.round() will give you a non-uniform distribution!\n     */\n    radians: function (deg) {\n        return deg * (Math.PI / 180);\n    }\n\n};\n","<template>\n    <div>\n        nothing\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\n\nconst Space = window.Space;\n\nconst compute = function (state, canvas) {\n    if (!state.origin) {\n        state.origin = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n\n    let i;\n    let origin;\n    const figures = {};\n\n    // Path\n    const path = new Space.Path(state.origin);\n    const segments = Utils.randInt(10, 100);\n    path.add(origin);\n    for (i = 1; i < segments; i += 1) {\n        const prev = path.points[i - 1];\n        path.add(prev.x + Utils.randInt(-100, 100), prev.y + Utils.randInt(-100, 100));\n    }\n\n    figures.Path = {\n        path: path,\n        fillStyle: [255, 255, 255, 0.05]\n    };\n\n    //\n    // origin = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    origin = new Space.Point.Cartesian(Utils.randInt(canvas.width / 2, canvas.width), Utils.randInt(canvas.height / 2, canvas.height));\n    const star = new Space.Star(Utils.randInt(3, 15), Utils.randInt(100, 300), Utils.randInt(10, 100), origin);\n\n    figures.star = {\n        path: star.path,\n        fillStyle: [-1, -1, -1, 0.25]\n    };\n\n    // Square\n    origin = new Space.Point.Cartesian(Utils.randInt(50, canvas.width / 2), Utils.randInt(50, canvas.height / 2));\n    const dim = Utils.randInt(50, 75);\n    const square = new Space.Rectangle(dim, dim, origin);\n\n    figures.Square = {\n        path: square.path,\n        fillStyle: [-1, -1, -1, 0.25]\n    };\n\n    state.prev.figures = figures;\n    return figures;\n};\n\nconst randRgba = function (rgba) {\n    const r = (rgba[0] > 0) ? rgba[0] : Math.round(Utils.randInt(0, 255));\n    const g = (rgba[1] > 0) ? rgba[1] : Math.round(Utils.randInt(0, 255));\n    const b = (rgba[2] > 0) ? rgba[2] : Math.round(Utils.randInt(0, 255));\n    const a = (rgba[3] > 0) ? rgba[3] : Math.round(Utils.randInt(0, 1));\n    return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + a + ')';\n};\n\nconst draw = function (figure, ctx) {\n    //init\n    ctx.save();\n\n    // styles\n    ctx.fillStyle = randRgba(figure.fillStyle);\n    ctx.strokeStyle = randRgba(figure.fillStyle);\n    ctx.lineWidth = 1;\n\n    // path\n    const path = figure.path;\n    ctx.beginPath();\n    ctx.moveTo(path.first().x, path.first().y);\n    path.points.forEach((point, index) => {\n        if (index === 0) {\n            return;\n        }\n        ctx.lineTo(point.x, point.y);\n    });\n\n    // draw\n    if (ctx.fillStyle) {\n        ctx.fill();\n    }\n    ctx.stroke();\n\n    // finish\n    ctx.closePath();\n    ctx.restore();\n};\n\nexport default {\n    name: 'Home',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    data: function () {\n        return {\n            state: {\n                prev: {\n                    figures: {}\n                },\n                origin: null,\n                canvas: this.appState.factor('canvas')\n            }\n        };\n    },\n    created() {\n        // temp redirect\n        // this.$router.push('/Path');\n    },\n    mounted() {\n        this.canvas.fill();\n\n        this.animation\n        .fps(32)\n        .only(() => {\n            // compute path\n            const figures = compute(this.state, this.canvas.canvas);\n            const tasks = Object.keys(figures);\n            // init\n            this.canvas.fill();\n\n            // draw\n            tasks.forEach((id) => {\n                draw(figures[id], this.canvas.ctx);\n            });\n        })\n        .play()\n        ;\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <form class=\"mui-form\">\n            <section>\n                <div class=\"mui-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" v-model=\"show\"> {{label}}\n                    </label>\n                </div>\n            </section>\n        </form>\n        <pre v-if=\"show\">{{data}}</pre>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'Dev',\n    props: ['data', 'label'],\n    data: function () {\n        return {\n            show: false\n        };\n    },\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <form class=\"mui-form\">\n            <section>\n                <legend class=\"mui--text-subhead\">Edit</legend>\n                <div class=\"mui-textfield\">\n                    <input type=\"range\" v-model.number=\"state.segments\" min=\"10\" max=\"800\" step=\"10\">\n                    <label>Segments <small>({{ state.segments }})</small></label>\n                </div>\n                <div class=\"mui-textfield\">\n                    <input type=\"range\" v-model.number=\"state.segmentsRange\" min=\"1\" max=\"50\">\n                    <label>Segment Range <small>({{ state.segmentsRange }})</small></label>\n                </div>\n            </section>\n        </form>\n\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\nimport Dev from './form/Dev.vue';\n\nconst Space = window.Space;\n\nconst compute = function (state, canvas) {\n    if (!state.prev) {\n        state.prev = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n    const path = new Space.Path();\n    const range = state.segmentsRange;\n    let count = 0;\n    let rand;\n    path.add(state.prev);\n    while (count < state.segments) {\n        rand = new Space.Point.Cartesian(\n            Utils.randInt(-range, range) * Utils.randInt(),\n            Utils.randInt(-range, range) * Utils.randInt()\n        );\n        rand.add(path.last());\n        rand.x = Utils.bounds(rand.x, 0, canvas.width);\n        rand.y = Utils.bounds(rand.y, 0, canvas.height);\n        path.add(rand);\n        count += 1;\n    }\n\n    state.prev = path.last();\n    return path;\n};\n\nexport default {\n    name: 'Path',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    components: {\n        Dev\n    },\n    data: function () {\n        return {\n            state: {\n                prev: null,\n                segments: 200,\n                segmentsRange: 10,\n                canvas: this.appState.factor('canvas')\n            }\n        };\n    },\n    mounted() {\n        let path;\n\n        this.animation\n        // .fps(1)\n        .only(() => {\n            // compute path\n            path = compute(this.state, this.canvas.canvas);\n\n            // init\n            this.canvas.fill();\n            this.canvas.ctx.save();\n\n            // styles\n            this.canvas.ctx.strokeStyle = this.state.canvas.strokeStyle;\n            this.canvas.ctx.lineWidth = this.state.canvas.lineWidth;\n\n            // path\n            this.canvas.ctx.beginPath();\n            this.canvas.ctx.moveTo(path.first().x, path.first().y);\n            path.points.forEach((point, index) => {\n                if (index === 0) {\n                    return;\n                }\n                this.canvas.ctx.lineTo(point.x, point.y);\n                // draw\n                this.canvas.ctx.stroke();\n            });\n\n            // finish\n            this.canvas.ctx.closePath();\n            this.canvas.ctx.restore();\n        })\n        .play()\n        ;\n    }\n};\n\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <form class=\"mui-form\">\n            <section>\n                <legend class=\"mui--text-subhead\">Edit</legend>\n                <form class=\"mui-form\">\n                    <div class=\"mui-textfield\">\n                        <input type=\"range\" v-model.number=\"state.segmentsRange\" min=\"1\" max=\"50\">\n                        <label>Segment Range <small>({{ state.segmentsRange }})</small></label>\n                    </div>\n                    <div class=\"mui-textfield\">\n                        <input type=\"range\" v-model.number=\"state.radiusRange\" min=\"5\" max=\"500\">\n                        <label>Radius Range <small>({{ state.radiusRange }})</small></label>\n                    </div>\n                </form>\n                <dev :label=\"'State'\" :data=\"state\"></dev>\n            </section>\n        </form>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\nimport Dev from './form/Dev.vue';\n\nconst Space = window.Space;\n\nconst compute = function (state, canvas) {\n    if (!state.origin) {\n        state.origin = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n    let radius = Math.floor(Utils.randInt(5, state.radiusRange));\n    let segments = Math.floor(Utils.randInt(3, state.segmentsRange));\n    segments = Utils.bounds(segments, false, 25);\n    radius = Utils.bounds(radius, false, canvas.width / 2);\n\n    state.prev.segments = segments;\n    state.prev.radius = radius;\n\n    return new Space.Polygon(segments, radius, state.origin);\n};\n\nexport default {\n    name: 'Polygon',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    components: {\n        Dev\n    },\n    data: function () {\n        return {\n            state: {\n                prev: {\n                    segments: 3,\n                    radius: 50\n                },\n                segmentsRange: 10,\n                radiusRange: 200,\n                origin: null,\n                canvas: this.appState.factor('canvas', {\n                    strokeStyle: 'rgba(255, 255, 255, 1)',\n                    fillStyle: 'rgba(99, 9, 9, .8)'\n                })\n            }\n        };\n    },\n    mounted() {\n        let polygon;\n\n        this.animation\n        // .fps(1)\n        .only(() => {\n            // compute path\n            polygon = compute(this.state, this.canvas.canvas);\n\n            // init\n            this.canvas.fill();\n            this.canvas.ctx.save();\n\n            // styles\n            this.canvas.ctx.fillStyle = this.state.canvas.fillStyle;\n            this.canvas.ctx.strokeStyle = this.state.canvas.strokeStyle;\n            this.canvas.ctx.lineWidth = this.state.canvas.lineWidth;\n\n            // path\n            this.canvas.ctx.beginPath();\n            this.canvas.ctx.moveTo(polygon.path.first().x, polygon.path.first().y);\n            polygon.path.points.forEach((point, index) => {\n                if (index === 0) {\n                    return;\n                }\n                this.canvas.ctx.lineTo(point.x, point.y);\n            });\n\n            // draw\n            if (this.state.canvas.fillStyle) {\n                this.canvas.ctx.fill();\n            }\n            this.canvas.ctx.stroke();\n\n            // finish\n            this.canvas.ctx.closePath();\n            this.canvas.ctx.restore();\n        })\n        .play()\n        ;\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <form class=\"mui-form\">\n            <section>\n                <legend class=\"mui--text-subhead\">Edit</legend>\n                <div class=\"mui-textfield\">\n                    <input type=\"range\" v-model.number=\"state.widthRange\" min=\"5\" max=\"1000\">\n                    <label>Width Range <small>({{ state.widthRange }})</small></label>\n                </div>\n                <div class=\"mui-textfield\">\n                    <input type=\"range\" v-model.number=\"state.heightRange\" min=\"5\" max=\"1000\">\n                    <label>Height Range <small>({{ state.heightRange }})</small></label>\n                </div>\n            </section>\n        </form>\n\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\nimport Dev from './form/Dev.vue';\n\nconst Space = window.Space;\n\nconst compute = function (state, canvas) {\n    if (!state.origin) {\n        state.origin = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n    const width = Math.floor(Utils.randInt(5, state.widthRange));\n    const height = Math.floor(Utils.randInt(3, state.heightRange));\n\n    state.prev.width = width;\n    state.prev.height = height;\n\n    return new Space.Rectangle(width, height, state.origin);\n};\n\nexport default {\n    name: 'Rectangle',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    components: {\n        Dev\n    },\n    data: function () {\n        return {\n            state: {\n                prev: {\n                    width: 25,\n                    height: 50\n                },\n                widthRange: 500,\n                heightRange: 500,\n                origin: null,\n                canvas: this.appState.factor('canvas', {\n                    strokeStyle: 'rgba(255, 255, 255, 1)',\n                    fillStyle: 'rgba(255, 255, 255, .2)'\n                })\n            }\n        };\n    },\n    mounted() {\n        let polygon;\n\n        this.animation\n        // .fps(1)\n        .only(() => {\n            // compute path\n            polygon = compute(this.state, this.canvas.canvas);\n\n            // init\n            this.canvas.fill();\n            this.canvas.ctx.save();\n\n            // styles\n            this.canvas.ctx.fillStyle = this.state.canvas.fillStyle;\n            this.canvas.ctx.strokeStyle = this.state.canvas.strokeStyle;\n            this.canvas.ctx.lineWidth = this.state.canvas.lineWidth;\n\n            // path\n            this.canvas.ctx.beginPath();\n            this.canvas.ctx.moveTo(polygon.path.first().x, polygon.path.first().y);\n            polygon.path.points.forEach((point, index) => {\n                if (index === 0) {\n                    return;\n                }\n                this.canvas.ctx.lineTo(point.x, point.y);\n            });\n\n            // draw\n            if (this.state.canvas.fillStyle) {\n                this.canvas.ctx.fill();\n            }\n            this.canvas.ctx.stroke();\n\n            // finish\n            this.canvas.ctx.closePath();\n            this.canvas.ctx.restore();\n        })\n        .play()\n        ;\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <form class=\"mui-form\">\n            <section>\n                <legend class=\"mui--text-subhead\">Edit</legend>\n                <div class=\"mui-textfield\">\n                    <input type=\"range\" v-model.number=\"state.segmentsRange\" min=\"1\" max=\"50\">\n                    <label>Segment Range <small>({{ state.segmentsRange }})</small></label>\n                </div>\n                <div class=\"mui-textfield\">\n                    <input type=\"range\" v-model.number=\"state.outerRadiusRange\" min=\"5\" max=\"500\">\n                    <label>Outer Radius Range <small>({{ state.outerRadiusRange }})</small></label>\n                </div>\n                <div class=\"mui-textfield\">\n                    <input type=\"range\" v-model.number=\"state.innerRadiusRange\" min=\"5\" max=\"500\">\n                    <label>Inner Radius Range <small>({{ state.innerRadiusRange }})</small></label>\n                </div>\n            </section>\n        </form>\n\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\nimport Dev from './form/Dev.vue';\n\nconst Space = window.Space;\n\nconst compute = function (state, canvas) {\n    if (!state.origin) {\n        state.origin = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n\n    let outerRadius = Math.floor(Utils.randInt(5, state.outerRadiusRange));\n    let innerRadius = Math.floor(Utils.randInt(5, state.innerRadiusRange));\n    let segments = Math.floor(Utils.randInt(3, state.segmentsRange));\n    segments = Utils.bounds(segments, false, 25);\n    outerRadius = Utils.bounds(outerRadius, false, canvas.width / 2);\n    innerRadius = Utils.bounds(innerRadius, false, canvas.width / 2);\n\n    state.prev.segments = segments;\n    state.prev.outerRadius = outerRadius;\n    state.prev.innerRadius = innerRadius;\n\n    return new Space.Star(segments, outerRadius, innerRadius, state.origin);\n};\n\nexport default {\n    name: 'Star',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    components: {\n        Dev\n    },\n    data: function () {\n        return {\n            state: {\n                prev: {\n                    segments: 3,\n                    outerRadius: 50,\n                    innerRadius: 10\n                },\n                segmentsRange: 10,\n                outerRadiusRange: 200,\n                innerRadiusRange: 200,\n                origin: null,\n                canvas: this.appState.factor('canvas', {\n                    strokeStyle: 'rgba(255, 255, 255, 1)',\n                    fillStyle: 'rgba(0, 99, 0, .6)'\n                })\n            }\n        };\n    },\n    mounted() {\n        let polygon;\n\n        this.animation\n        // .fps(1)\n        .only(() => {\n            // compute path\n            polygon = compute(this.state, this.canvas.canvas);\n\n            // init\n            this.canvas.fill();\n            this.canvas.ctx.save();\n\n            // styles\n            this.canvas.ctx.fillStyle = this.state.canvas.fillStyle;\n            this.canvas.ctx.strokeStyle = this.state.canvas.strokeStyle;\n            this.canvas.ctx.lineWidth = this.state.canvas.lineWidth;\n\n            // path\n            this.canvas.ctx.beginPath();\n            this.canvas.ctx.moveTo(polygon.path.first().x, polygon.path.first().y);\n            polygon.path.points.forEach((point, index) => {\n                if (index === 0) {\n                    return;\n                }\n                this.canvas.ctx.lineTo(point.x, point.y);\n            });\n\n            // draw\n            if (this.state.canvas.fillStyle) {\n                this.canvas.ctx.fill();\n            }\n            this.canvas.ctx.stroke();\n\n            // finish\n            this.canvas.ctx.closePath();\n            this.canvas.ctx.restore();\n        })\n        .play()\n        ;\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div class=\"app--color-picker\">\n        <table class=\"mui-table\">\n            <tbody>\n                <tr>\n                    <td>\n                        <input type=\"range\" v-model.number=\"RGBA[0]\" min=\"0\" max=\"255\">\n                    </td>\n                    <td>\n                        <strong class=\"app--indicator\" v-bind:style=\"{color:'rgb(' + RGBA[0] + ', 0, 0)'}\">◼</strong>\n                    </td>\n                    <td>\n                        <small>Red({{ RGBA[0] }})</small>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <input type=\"range\" v-model.number=\"RGBA[1]\" min=\"0\" max=\"255\">\n                    </td>\n                    <td>\n                        <strong class=\"app--indicator\" v-bind:style=\"{color:'rgb(0, ' + RGBA[1] + ', 0)'}\">◼</strong>\n                    </td>\n                    <td>\n                        <small>Green({{ RGBA[1] }})</small>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <input type=\"range\" v-model.number=\"RGBA[2]\" min=\"0\" max=\"255\">\n                    </td>\n                    <td>\n                        <strong class=\"app--indicator\" v-bind:style=\"{color:'rgb(0, 0, ' + RGBA[2] + ')'}\">◼</strong>\n                    </td>\n                    <td>\n                         <small>Blue({{ RGBA[2] }})</small>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                         <input type=\"range\" v-model.number=\"RGBA[3]\" min=\"0\" max=\"1\" step=\"0.1\">\n                    </td>\n                    <td></td>\n                    <td>\n                        <small>Alpha({{ RGBA[3] }})</small>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n\n        <pre class=\"app--color\" v-bind:style=\"{backgroundColor: rgbaString, color: rgbaStringContrast}\">{{rgbaString}}</pre>\n\n        <a  class=\"mui-btn mui-btn--small mui-btn--primary\" v-on:click=\"setColor()\">Set color</a>\n    </div>\n</template>\n\n<script>\nconst match = function (str, model) {\n    let i;\n    let n;\n    const matches = str.match(/\\d+/g);\n    for (i = 0; i < matches.length; i += 1) {\n        n = parseInt(matches[i], 10);\n        if (!isNaN(n)) {\n            model[i] = matches[i];\n        }\n    }\n    return matches;\n};\n\nexport default {\n    name: 'ColorPicker',\n    props: [\n        'rgba',\n        'targ'\n    ],\n    data: function () {\n        return {\n            RGBA: match(this.rgba, [0, 0, 0, 1])\n        };\n    },\n    computed: {\n        rgbaString: function () {\n            return 'rgba(' + this.RGBA.toString() + ')';\n        },\n        rgbaStringContrast: function () {\n            const yiq = ((this.RGBA[0] * 299) + (this.RGBA[1] * 587) + (this.RGBA[2] * 114)) / 1000;\n            return (yiq >= 128) ? 'black' : 'white';\n        }\n    },\n    methods: {\n        setColor: function () {\n            this.$parent.$emit('color-picker:' + this.targ, this.rgbaString);\n        }\n    },\n};\n</script>\n\n<style>\n    .app--color-picker pre {\n        text-align: center;\n        border: 1px solid white;\n        padding: 10px;\n        font-size: 10px;\n    }\n</style>\n","<template>\n    <div>\n        <div class=\"mui-dropdown\">\n            <button class=\"mui-btn mui-btn-small\" data-mui-toggle=\"dropdown\">\n                {{ (figure) ? figure : 'Choose' }}\n                <span class=\"mui-caret mui--text-accent\"></span>\n            </button>\n            <ul class=\"mui-dropdown__menu\">\n                <li\n                    v-for=\"fig in figures\"\n                    v-if=\"fig.name !== figure\"\n                    v-bind:class=\"{'router-link-active': fig.name === figure}\"\n                >\n                    <a v-on:click=\"goTo(fig)\">{{ fig.name }}</a>\n                </li>\n            </ul>\n        </div>\n        <p></p>\n        <form class=\"mui-form--inline\">\n\n            <section v-if=\"figure === 'Path'\">\n                <div class=\"app--inline-field mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.Path.segments\" v-on:change=\"init()\" >\n                    <label>Segments <small>({{ state.Path.segments }})</small></label>\n                </div>\n            </section>\n\n            <section v-if=\"figure === 'Polygon'\">\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.Polygon.segments\" v-on:change=\"init()\" >\n                    <label>Segments</label>\n                </div>\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.Polygon.radius\" v-on:change=\"init()\" >\n                    <label>Radius</label>\n                </div>\n            </section>\n\n            <section v-if=\"figure === 'Star'\">\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.Star.segments\" v-on:change=\"init()\" >\n                    <label>Segments</label>\n                </div>\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.Star.outerRadius\" v-on:change=\"init()\" >\n                    <label>outer Radius</label>\n                </div>\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.Star.innerRadius\" v-on:change=\"init()\" >\n                    <label>inner Radius</label>\n                </div>\n            </section>\n\n            <section v-if=\"figure === 'Rectangle'\">\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.Rectangle.width\" v-on:change=\"init()\" >\n                    <label>Width</label>\n                </div>\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.Rectangle.height\" v-on:change=\"init()\" >\n                    <label>Height</label>\n                </div>\n            </section>\n\n            <section>\n                <legend class=\"mui--text-subhead\">Background</legend>\n                <div class=\"mui-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" v-model=\"state.fill.show\" v-on:change=\"init()\"> Show\n                    </label>\n                </div>\n                <div class=\"mui-checkbox\" v-if=\"state.fill.show\">\n                    <label>\n                        <input type=\"checkbox\" v-model=\"state.fill.edit\" > Edit\n                    </label>\n                </div>\n            </section>\n\n            <div class=\"mui-panel\" v-if=\"state.fill.edit\">\n                <color-picker :targ=\"'fillStyle'\" :rgba=\"state.canvas.fillStyle\"></color-picker>\n            </div>\n\n            <section>\n                <legend class=\"mui--text-subhead\">Stroke</legend>\n                <div class=\"mui-checkbox\">\n                    <label>\n                        <input type=\"checkbox\" v-model=\"state.stroke.show\" v-on:change=\"init()\"> Show\n                    </label>\n                </div>\n                <div class=\"mui-checkbox\" v-if=\"state.stroke.show\">\n                    <label>\n                        <input type=\"checkbox\" v-model=\"state.stroke.edit\" > Edit\n                    </label>\n                </div>\n            </section>\n\n            <div class=\"mui-panel\" v-if=\"state.stroke.edit\">\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.canvas.lineWidth\" v-on:change=\"init()\" >\n                    <label>Width</label>\n                </div>\n                <color-picker :targ=\"'strokeStyle'\" :rgba=\"state.canvas.strokeStyle\"></color-picker>\n            </div>\n\n            <section>\n                <legend class=\"mui--text-subhead\">Translate</legend>\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.tanslate[0]\" v-on:change=\"init()\" >\n                    <label>X</label>\n                </div>\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.tanslate[1]\" v-on:change=\"init()\" >\n                    <label>Y</label>\n                </div>\n            </section>\n\n            <section>\n                <legend class=\"mui--text-subhead\">Scale</legend>\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.scale[0]\" v-on:change=\"init()\" >\n                    <label>X</label>\n                </div>\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.scale[1]\" v-on:change=\"init()\" >\n                    <label>Y</label>\n                </div>\n            </section>\n            \n            <section>\n                <legend class=\"mui--text-subhead\">Rotate</legend>\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.rotate2D\" v-on:change=\"init()\" >\n                    <label>rad</label>\n                </div>\n            </section>\n        </form>\n\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\nimport Routes from '../Routes';\nimport ColorPicker from './form/ColorPicker.vue';\nimport Dev from './form/Dev.vue';\n\nconst Space = window.Space;\n\nconst compute = function (figure, state, canvas) {\n\n    if (!state.origin) {\n        state.origin = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n\n    let fig;\n    let segments;\n\n    switch (figure) {\n\n        case 'Path': {\n            const margin = 100;\n            segments = state.Path.segments;\n            const x = (canvas.width - (2 * margin)) / segments;\n            let y = canvas.height - (2 * margin);\n            fig = new Space.Path();\n            fig.add(margin, margin);\n            while (segments > 0) {\n                fig.progress(x, y);\n                y = -y;\n                segments -= 1;\n            }\n            break;\n        }\n\n        case 'Polygon': {\n            fig = new Space.Polygon(state.Polygon.segments, state.Polygon.radius, state.origin);\n            break;\n        }\n\n        case 'Rectangle': {\n            fig = new Space.Rectangle(state.Rectangle.width, state.Rectangle.height, state.origin);\n            break;\n        }\n\n        case 'Star': {\n            fig = new Space.Star(state.Star.segments, state.Star.outerRadius, state.Star.innerRadius, state.origin);\n            break;\n        }\n\n        default: {\n            fig = null;\n        }\n\n    }\n\n    //Figure or only Path\n    const path = (typeof fig.path !== 'undefined') ? fig.path : fig;\n\n    // translate\n    const hasTranslate = state.tanslate.reduce((a, b) => {\n        return a + b;\n    });\n\n    if (hasTranslate) {\n        path.translate(state.tanslate[0], state.tanslate[1]);\n    }\n\n    // translate\n    const hasScale = state.scale.reduce((a, b) => {\n        return a * b;\n    });\n\n    // scale\n    if (hasScale !== 1) {\n        path.scale(state.scale[0], state.scale[1]);\n    }\n\n    // rotate 2d\n    if (state.rotate2D) {\n        path.rotate2D(Utils.radians(state.rotate2D));\n    }\n\n    return path;\n\n};\n\nconst draw = function (figure, path, state, canvas) {\n    canvas.ctx.save();\n    // styles\n    canvas.ctx.fillStyle = (state.fill.show && figure !== 'Path') ? state.canvas.fillStyle : null;\n    canvas.ctx.strokeStyle = (state.stroke.show && figure !== 'Path') ? state.canvas.strokeStyle : null;\n    canvas.ctx.lineWidth = state.canvas.lineWidth;\n\n    // path\n    canvas.ctx.beginPath();\n    canvas.ctx.moveTo(path.first().x, path.first().y);\n    path.points.forEach((point, index) => {\n        if (index === 0) {\n            return;\n        }\n        canvas.ctx.lineTo(point.x, point.y);\n    });\n\n    // draw\n    if (state.canvas.fillStyle) {\n        canvas.ctx.fill();\n    }\n    canvas.ctx.stroke();\n\n    // finish\n    canvas.ctx.closePath();\n    canvas.ctx.restore();\n};\n\nconst defaults = {\n    strokeStyle: 'rgba(255, 255, 255, 1)',\n    fillStyle: 'rgba(255, 255, 255, 1)',\n    lineWidth: 2\n};\n\nexport default {\n    name: 'Figures',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    watch: {\n        '$route'(to) {\n            this.figure = to.params.figure;\n            this.init();\n        }\n    },\n    created: function () {\n        this.$on('color-picker:fillStyle', (val) => {\n            this.state.canvas.fillStyle = val;\n            this.state.fill.edit = false;\n            this.init();\n        });\n        this.$on('color-picker:strokeStyle', (val) => {\n            this.state.canvas.strokeStyle = val;\n            this.state.stroke.edit = false;\n            this.init();\n        });\n    },\n    data: function () {\n        return {\n            state: {\n                origin: null,\n                canvas: this.appState.factor('canvas', defaults),\n                // form\n                fill: {\n                    show: true,\n                    edit: false\n                },\n                stroke: {\n                    show: true,\n                    edit: false\n                },\n                tanslate: [0, 0],\n                scale: [1, 1],\n                rotate2D: 0,\n                // form defaults per figure\n                Path: {\n                    segments: 25\n                },\n                Polygon: {\n                    segments: 6,\n                    radius: 200\n                },\n                Star: {\n                    segments: 5,\n                    outerRadius: 200,\n                    innerRadius: 70\n                },\n                Rectangle: {\n                    width: 300,\n                    height: 200\n                }\n            },\n            figures: Routes.figures(),\n            figure: (typeof this.$route.params.figure !== 'undefined') ? this.$route.params.figure : 'Path'\n        };\n    },\n    components: {\n        ColorPicker,\n        Dev\n    },\n    mounted() {\n        //@TODO cancel animation\n        this.animation.only(() => {}).cancel(); // !!!!!\n        this.init();\n    },\n    methods: {\n        init: function () {\n            let timeout = null;\n            this.canvas.clear();\n            //@TODO\n            timeout = window.setTimeout(() => {\n                const path = compute(this.figure, this.state, this.canvas.canvas);\n                draw(this.figure, path, this.state, this.canvas);\n                window.clearTimeout(timeout);\n            }, 100);\n        },\n        goTo(figure) {\n            this.$router.push({ name: 'Figure', params: { figure: figure.name } });\n        }\n    }\n};\n</script>\n\n<style>\n</style>\n","import Home from './components/Home.vue';\nimport Path from './components/Path.vue';\nimport Polygon from './components/Polygon.vue';\nimport Rectangle from './components/Rectangle.vue';\nimport Star from './components/Star.vue';\nimport Figures from './components/Figures.vue';\n\nconst routes = [\n    {\n        name: '',\n        path: '/',\n        component: Path,\n        meta: {\n            menu: false,\n            figure: false\n        }\n    },\n    {\n        name: 'Home',\n        path: '/Home',\n        component: Home,\n        meta: {\n            menu: false,\n            figure: false\n        }\n    },\n    {\n        name: 'Path',\n        path: '/Path',\n        component: Path,\n        meta: {\n            menu: true,\n            figure: true\n        }\n    },\n    {\n        name: 'Polygon',\n        path: '/Polygon',\n        component: Polygon,\n        meta: {\n            menu: true,\n            figure: true\n        }\n    },\n    {\n        name: 'Rectangle',\n        path: '/Rectangle',\n        component: Rectangle,\n        meta: {\n            menu: true,\n            figure: true\n        }\n    },\n    {\n        name: 'Star',\n        path: '/Star',\n        component: Star,\n        meta: {\n            menu: true,\n            figure: true\n        }\n    },\n    {\n        name: 'Figures',\n        path: '/Figures',\n        component: Figures,\n        meta: {\n            menu: true,\n            figure: false\n        }\n    },\n    {\n        name: 'Figure',\n        path: '/Figures/:figure',\n        component: Figures,\n        meta: {\n            menu: false,\n            figure: false\n        }\n    },\n    // catch all redirect\n    {\n        name: '',\n        path: '*',\n        redirect: '/',\n        meta: {\n            menu: false,\n            figure: false\n        }\n    }\n];\n\nconst figures = function () {\n    return routes.filter((item) => {\n        return item.meta.figure;\n    });\n};\n\nconst menu = function () {\n    return routes\n    .filter((item) => {\n        return item.meta.menu;\n    })\n    .map((item) => {\n        return {\n            name: item.name,\n            path: item.path,\n            meta: item.meta || {}\n        };\n    });\n};\n\nconst byName = function (name) {\n    let i;\n    for (i = 1; i < routes.length; i += 1) {\n        if (routes[i].name === name) {\n            return routes[i];\n        }\n    }\n    return null;\n};\n\nexport default {\n    routes: routes,\n    figures: figures,\n    menu: menu,\n    byName: byName\n};\n","<template>\n    <div>\n        <form v-if=\"animation.id\" class=\"mui-form--inline\">\n            <section>\n                <legend class=\"mui--text-subhead\">Animation <small>{{animation.count}}</small></legend>\n                <a v-on:click=\"animation.toggle()\" class=\"mui-btn mui-btn--small mui-btn--primary\">\n                    {{(animation.running) ? 'pause' : 'play'}}\n                </a>\n                <a v-on:click=\"show = !show\" class=\"mui-btn mui-btn--small app--btn\">\n                    Throttle\n            </section>\n        </form>\n        <div class=\"mui-panel\" v-if=\"show\">\n            <div class=\"mui-textfield\" style=\"\">\n                <input type=\"range\" v-on:change=\"throttle($event.target.value)\" min=\"0\" max=\"100\">\n                <label>fps <small>({{1000 / animation.interval}})</small></label>\n            </div>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'Animation',\n    props: ['animation'],\n    data: function () {\n        return {\n            show: false\n        };\n    },\n    methods: {\n        throttle: function (value) {\n            if (value === null) {\n                return;\n            }\n            value = parseInt(value, 10);\n            if (!isNaN(value)) {\n                this.animation.fps(value);\n            }\n        }\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <header id=\"header\">\n            <div class=\"mui-appbar mui--appbar-line-height mui--z1\">\n                <div class=\"mui-container-fluid\">\n                    <table width=\"100%\">\n                        <tr class=\"mui--appbar-height\">\n                            <td>\n                                <span class=\"app--brand\"></span>\n                                <div class=\"mui-dropdown\">\n                                    <button class=\"mui-btn mui-btn-small\" data-mui-toggle=\"dropdown\">\n                                        Space <span class=\"mui--text-accent\">/</span> {{ $route.name }}\n                                        <span class=\"mui-caret mui--text-accent\"></span>\n                                    </button>\n                                    <ul class=\"mui-dropdown__menu\">\n                                        <li\n                                            v-for=\"route in routes\"\n                                            v-if=\"route.name\"\n                                            v-bind:class=\"{'router-link-active': $route.name === route.name}\"\n                                        >\n                                            <a v-on:click=\"goTo(route)\">{{ route.name }}</a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </td>\n                            <td>\n                                <a class=\"app--sidebar-trigger mui--pull-right mui--text-display1\" v-on:click=\"toggle()\"><i class=\"zmdi zmdi-settings\"></i></a>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </header>\n\n        <footer id=\"footer\">\n            <div class=\"app--footer-content mui-container-fluid mui--align-middle\">\n                Demo made with <a href=\"https://vuejs.org/\">Vue</a> & <a href=\"https://www.muicss.com\">MUI</a>\n            </div>\n        </footer>\n\n        <aside id=\"sidebar\" class=\"mui-panel\" v-bind:class=\"{'visible': sidebar}\">\n\n            <div v-if=\"$route.name\" class=\"mui--appbar-line-height\">\n                <span class=\"mui--text-title\">{{ $route.name }}</span>\n            </div>\n            <div class=\"mui-divider\"></div>\n\n            <animation :animation=\"animation\"></animation>\n\n           <router-view class=\"view\"\n               :app-state=\"appState\"\n               :animation=\"animation\"\n               :canvas=\"canvas\"\n           ></router-view>\n\n       </aside>\n\n        <main id=\"content\" class=\"mui-container-fluid\">\n            <div class=\"mui-row\">\n                <div class=\"mui-col-md-12 app--canvas\"></div>\n            </div>\n        </main>\n    </div>\n</template>\n\n<script>\nimport Animation from './components/form/Animation.vue';\n\nexport default {\n    name: 'app',\n    props: ['animation', 'appState', 'canvas', 'routes'],\n    components: {\n        Animation\n    },\n    mounted() {\n        this.sidebar = document.getElementById('sidebar');\n\n        this.$el.querySelector('.app--canvas').appendChild(this.canvas.canvas);\n        this.canvas.canvas.width = document.body.clientWidth;\n        this.canvas.canvas.height = document.body.clientHeight;\n        this.canvas.ctx.fillStyle = this.appState.canvas.fillStyle;\n        this.canvas.ctx.lineWidth = this.appState.canvas.lineWidth;\n    },\n    methods: {\n        goTo: function (route) {\n            const to = (route.path.indexOf('/:') > -1) ? { name: route.name, params: {} } : route.path;\n            this.$router.push(to);\n        },\n        toggle: function () {\n            if (!this.sidebar) {\n                return;\n            }\n            let right = (this.sidebar.style.right) ? this.sidebar.style.right : window.getComputedStyle(this.sidebar).getPropertyValue('right');\n            right = parseInt(right, 10);\n            this.sidebar.style.right = ((right < 0) ? 0 : -this.sidebar.clientWidth) + 'px';\n        }\n    },\n    data: function () {\n        return {\n            sidebar: null\n        };\n    }\n};\n</script>\n\n<style>\n</style>\n","import Vue from 'vue';\nimport VueRouter from 'vue-router';\n// import Space from '../Space';\n\n// rollup-plugin-scss\nimport './main.scss';\n\nimport Animation from './Animation';\nimport Canvas2d from './Canvas2d';\nimport State from './State';\nimport Routes from './Routes';\n\nimport App from './App.vue';\n\nconst animation = new Animation();\nconst canvas = new Canvas2d();\n\n// Create the router\nconst router = new VueRouter({\n    mode: 'hash', //'history',\n    routes: Routes.routes\n});\n\n// 4. Create and mount root instance.\n// Make sure to inject the router.\nnew Vue({\n    router,\n    data: {\n        animation,\n        appState: State,\n        canvas,\n        routes: Routes.menu()\n    },\n    components: {\n        App\n    },\n    //render: h => h(App)\n    template: '<App :app-state=\"appState\" :animation=\"animation\" :canvas=\"canvas\" :routes=\"routes\"/>',\n}).$mount('#app');\n"],"names":["Animation","id","count","running","interval","last","Date","getTime","callbacks","prototype","fps","add","callback","push","clear","splice","length","only","play","now","delta","forEach","fn","window","requestAnimationFrame","stop","pause","cancel","cancelAnimationFrame","toggle","document","CLASS_NAME","Canvas2d","canvas","createElement","className","ctx","getContext","styles","keys","key","clearRect","width","height","fill","fillRect","State","property","merge","min","max","Math","random","val","base","range","bounce","randInt","deg","PI","Space","compute","state","origin","Point","Cartesian","i","figures","path","Path","segments","Utils","prev","points","x","y","star","Star","dim","square","Rectangle","Square","randRgba","rgba","r","round","g","b","a","draw","figure","save","fillStyle","strokeStyle","lineWidth","beginPath","moveTo","first","point","index","lineTo","stroke","closePath","restore","render","appState","factor","animation","tasks","Object","segmentsRange","rand","bounds","radius","floor","radiusRange","Polygon","polygon","widthRange","heightRange","outerRadius","outerRadiusRange","innerRadius","innerRadiusRange","match","str","model","n","matches","parseInt","isNaN","RGBA","toString","yiq","$parent","$emit","targ","rgbaString","fig","margin","progress","hasTranslate","tanslate","reduce","translate","hasScale","scale","rotate2D","radians","show","defaults","to","params","init","$on","edit","Routes","$route","timeout","setTimeout","clearTimeout","$router","name","routes","Home","Figures","filter","item","meta","menu","map","byName","value","sidebar","getElementById","$el","querySelector","appendChild","body","clientWidth","clientHeight","route","indexOf","right","style","getComputedStyle","getPropertyValue","router","VueRouter","Vue","$mount"],"mappings":"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"}