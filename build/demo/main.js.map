{"version":3,"file":null,"sources":["../../src/demo/Animation.js","../../src/demo/Canvas2d.js","../../src/demo/State.js","../../src/demo/Canvas2dHelpers.js","../../src/demo/Home.vue","../../src/demo/Utils.js","../../src/demo/Form/ColorPicker.vue","../../src/demo/Form/EditPathPoints.vue","../../src/demo/Form/Dev.vue","../../src/demo/Figures/BezierPath.vue","../../src/demo/Figures/Figures.vue","../../src/demo/Paths/Path.vue","../../src/demo/Paths/Polygon.vue","../../src/demo/Paths/Rectangle.vue","../../src/demo/Paths/Star.vue","../../src/demo/Paths/Cog.vue","../../src/demo/BezierPaths/Bezier.vue","../../src/demo/Routes.js","../../src/demo/Form/Animation.vue","../../src/demo/App.vue","../../src/demo/main.js"],"sourcesContent":["const Animation = function () {\n    this.id = null;\n    this.count = 0;\n    this.running = false;\n    this.interval = -1;\n    this.last = new Date().getTime();\n    this.callbacks = [];\n};\n\n// throttle - set frames per second\nAnimation.prototype.fps = function (fps) {\n    this.interval = (fps < 0) ? -1 : 1000 / fps;\n    return this;\n};\n\n// register callback\nAnimation.prototype.add = function (callback) {\n    this.callbacks.push(callback);\n    return this;\n};\n\n// clear all callbacks\nAnimation.prototype.clear = function () {\n    this.callbacks.splice(0, this.callbacks.length);\n    return this;\n};\n\n// clear existing callbacks and set one\nAnimation.prototype.only = function (callback) {\n    this.clear().add(callback);\n    return this;\n};\n\nAnimation.prototype.play = function () {\n    this.running = true;\n\n    const callback = () => {\n        if (!this.running) {\n            return;\n        }\n\n        const now = new Date().getTime();\n        const delta = now - this.last;\n\n        if (this.interval < 0 || delta > this.interval) {\n            this.last = now - (delta % this.interval);\n            this.callbacks.forEach((fn) => {\n                this.count += 1;\n                fn();\n            });\n        }\n\n        this.id = window.requestAnimationFrame(callback);\n    };\n\n    this.id = window.requestAnimationFrame(callback);\n    return this;\n};\n\nAnimation.prototype.stop = function () {\n    this.running = false;\n    this.count = 0;\n    return this;\n};\n\nAnimation.prototype.pause = function () {\n    this.running = false;\n    return this;\n};\n\nAnimation.prototype.cancel = function () {\n    this.stop();\n    window.cancelAnimationFrame(this.id);\n    this.id = null;\n    return this;\n};\n\nAnimation.prototype.toggle = function () {\n    if (this.running) {\n        this.pause();\n    } else {\n        this.play();\n    }\n    return this;\n};\n\nexport default Animation;\n","const document = window.document;\nconst CLASS_NAME = 'canvas';\n\nconst Canvas2d = function () {\n    const canvas = document.createElement('canvas');\n    canvas.className = CLASS_NAME;\n    const ctx = canvas.getContext('2d');\n\n    this.canvas = canvas;\n    this.ctx = ctx;\n};\n\nCanvas2d.prototype.styles = function (styles) {\n    Object.keys(styles).forEach((key) => {\n        if (key in this.ctx) {\n            this.ctx[key] = styles[key];\n        }\n    });\n};\n\nCanvas2d.prototype.clear = function () {\n    this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n};\n\nCanvas2d.prototype.fill = function () {\n    this.ctx.fillRect(0, 0, this.canvas.width, this.canvas.height);\n};\n\nexport default Canvas2d;\n","const State = {\n    canvas: {\n        width: 500,\n        height: 500,\n        strokeStyle: 'hsla(300, 100%, 75%, 1)',\n        fillStyle: 'rgba(0, 0, 0, .08)',\n        lineWidth: 0.1\n    },\n\n    // shallow(!) clone and merge in submitted properties\n    factor: function (property, merge) {\n        merge = merge || {};\n        Object.keys(this[property]).forEach((key) => {\n            merge[key] = (typeof merge[key] !== 'undefined') ? merge[key] : this[property][key];\n        });\n        return merge;\n    }\n\n};\n\nexport default State;\n","const Helpers = {\n\n    ////\n    // Controls\n    ////\n\n    drawLine: function (ctx, from, to, theme) {\n        if (!from) {\n            return;\n        }\n        ctx.save();\n\n        ctx.fillStyle = theme;\n        ctx.strokeStyle = theme;\n        //ctx.lineWidth = 0.5;\n        ctx.setLineDash([2, 2]);\n\n        ctx.beginPath();\n        ctx.moveTo(from.x, from.y);\n        ctx.lineTo(to.x, to.y);\n        ctx.stroke();\n        ctx.closePath();\n\n        ctx.restore();\n    },\n\n    drawPoint: function (ctx, point, name, theme) {\n        ctx.save();\n\n        ctx.fillStyle = theme;\n        ctx.strokeStyle = theme;\n\n        ctx.fillText(`${name}`, point.x + 10, point.y + 10);\n        ctx.fillRect(point.x - 5, point.y - 5, 10, 10);\n\n        ctx.restore();\n    },\n\n    drawCircle: function (ctx, point, name, theme) {\n        ctx.save();\n\n        ctx.fillStyle = theme;\n\n        ctx.fillText(`${name}`, point.x + 10, point.y + 10);\n        ctx.beginPath();\n        ctx.arc(point.x, point.y, 5, 0, 2 * Math.PI);\n        ctx.fill();\n\n        ctx.closePath();\n        ctx.restore();\n    },\n\n    drawHandle: function (ctx, point, handle, name, theme) {\n        ctx.save();\n\n        ctx.beginPath();\n        ctx.fillStyle = theme;\n        ctx.strokeStyle = theme;\n        ctx.lineWidth = 0.5;\n        ctx.fillText(`${name}`, handle.x + 10, handle.y);\n        ctx.fillRect(handle.x - 5, handle.y - 5, 10, 10);\n        ctx.moveTo(point.x, point.y);\n        ctx.lineTo(handle.x, handle.y);\n        ctx.stroke();\n\n        ctx.closePath();\n        ctx.restore();\n    },\n\n    drawBoundingBox: function (ctx, path, theme) {\n        const bounds = path.bounds();\n        if (!path.bounds()) {\n            return;\n        }\n        ctx.save();\n\n        ctx.fillStyle = theme;\n        ctx.strokeStyle = theme;\n        ctx.lineWidth = 0.2;\n\n        ctx.setLineDash([2, 2]);\n        ctx.strokeRect(bounds.min.x, bounds.min.y, bounds.max.x - bounds.min.x, bounds.max.y - bounds.min.y);\n\n        ctx.beginPath();\n        ctx.moveTo(bounds.center.x, bounds.min.y);\n        ctx.lineTo(bounds.center.x, bounds.max.y);\n        ctx.moveTo(bounds.min.x, bounds.center.y);\n        ctx.lineTo(bounds.max.x, bounds.center.y);\n        ctx.stroke();\n\n        ctx.closePath();\n        ctx.restore();\n    },\n\n    ////\n    // lines\n    ////\n\n    line: function (ctx, prev, point) {\n        if (!prev) {\n            return;\n        }\n        ctx.moveTo(prev.x, prev.y);\n        ctx.lineTo(point.x, point.y);\n    },\n\n    bezierLine: function (ctx, prev, point) {\n        if (!prev) {\n            return;\n        }\n        //ctx.moveTo(prev.x, prev.y);//Dev\n        const prevM = (prev && typeof prev.members !== 'undefined') ? prev.members.length : 0;\n        const pointM = (typeof point.members !== 'undefined') ? point.members.length : 0;\n\n        // line\n        if (!prevM && !pointM) {\n            ctx.lineTo(point.x, point.y);\n            return;\n        }\n        // middle\n        if (prevM > 1 && pointM > 1) {\n            ctx.bezierCurveTo(prev.members[1].x, prev.members[1].y, point.members[0].x, point.members[0].y, point.x, point.y);\n            return;\n        }\n        // start\n        if (!prevM && pointM) {\n            ctx.quadraticCurveTo(point.members[0].x, point.members[0].y, point.x, point.y);\n            return;\n        }\n        // end\n        if (prevM && !pointM) {\n            ctx.quadraticCurveTo(prev.members[1].x, prev.members[1].y, point.x, point.y);\n        }\n    }\n\n};\n\nexport default Helpers;\n","<template>\n    <div>\n        <section class=\"mui-form\">\n            <legend>Edit Params</legend>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.steps\" min=\"10\" max=\"1000\" step=\"10\">\n                <label>Steps <small>( {{(morpher) ? morpher.count : 0}} of {{ state.steps }})</small></label>\n            </div>\n            <div class=\"mui-textfield\">\n                <button class=\"mui-btn mui-btn--small app--btn\" v-on:click=\"create()\">Go</button>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.segmentsRange\" min=\"1\" max=\"50\">\n                <label>Segment Range <small>({{ state.segmentsRange }})</small></label>\n            </div>\n        </section>\n\n        <!-- devel -->\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Canvas2dHelpers from './Canvas2dHelpers';\n\nconst Space = window.Space;\n\nconst createTarget = function (state) {\n    return new Space.Star(state.Star.segments, state.Star.outerRadius, state.Star.innerRadius, state.origin);\n};\n\nconst createMorpher = function (path, state) {\n    const from = new Space.Point.Cartesian(0, state.canvas.height / 2);\n    const to = new Space.Point.Cartesian(state.canvas.width, state.canvas.height / 2);\n\n    const src = new Space.Line(from, to, path.length());\n    return new Space.Morpher(src.path, path, state.steps);\n};\n\nconst compute = function (morpher) {\n    if (morpher.finished()) {\n        morpher.reverse();\n    }\n    morpher.progress();\n};\n\nconst draw = function (path, state, canvas) {\n    canvas.ctx.save();\n    canvas.ctx.strokeStyle = state.canvas.strokeStyle;\n    canvas.ctx.lineWidth = state.canvas.lineWidth;\n    canvas.ctx.fillStyle = state.canvas.fillStyle;\n\n    const length = path.points.length;\n    let prev;\n    let point;\n    let i;\n\n    //// curve\n    canvas.ctx.beginPath();\n    canvas.ctx.moveTo(path.first().x, path.first().y);\n    for (i = 1; i < length; i += 1) {\n        prev = path.prev(i);\n        point = path.get(i);\n        Canvas2dHelpers.bezierLine(canvas.ctx, prev, point);\n    }\n    canvas.ctx.fill();\n    canvas.ctx.stroke();\n    canvas.ctx.restore();\n    //// helpers\n\n    for (i = 0; i < length; i += 1) {\n        prev = path.prev(i);\n        point = path.get(i);\n\n        if (state.showHandles) {\n            if (point.members !== undefined && point.members.length > 1) {\n                Canvas2dHelpers.drawHandle(canvas.ctx, point, point.members[0], i + ':left', 'red');\n                Canvas2dHelpers.drawHandle(canvas.ctx, point, point.members[1], i + ':right', 'blue');\n            }\n        }\n        if (state.showPoints) {\n            Canvas2dHelpers.drawPoint(canvas.ctx, point, i + ':point', '#666666');\n        }\n        if (state.showPath) {\n            Canvas2dHelpers.drawLine(canvas.ctx, prev, point, '#666666');\n        }\n        if (state.showBounds) {\n            Canvas2dHelpers.drawBoundingBox(canvas.ctx, path, 'yellow');\n        }\n    }\n    canvas.ctx.restore();\n};\n\nexport default {\n    name: 'Home',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    data: function () {\n        return {\n            state: {\n                prev: {\n                    figures: {}\n                },\n                origin: null,\n                canvas: this.appState.factor('canvas', {\n                    strokeStyle: 'white',\n                    lineWidth: 1\n                }),\n                Star: {\n                    segments: 5,\n                    outerRadius: 200,\n                    innerRadius: 70\n                },\n                steps: 100\n            },\n            figure: null,\n            morpher: null\n        };\n    },\n    created() {\n        // temp redirect\n        // this.$router.push('/Path');\n    },\n    methods: {\n        init: function () {\n            this.state.origin = new Space.Point.Cartesian(this.state.canvas.width / 2, this.state.canvas.height / 2);\n        },\n        create: function () {\n            this.figure = createTarget(this.state);\n            this.morpher = createMorpher(this.figure.path, this.state);\n        }\n    },\n    mounted() {\n        this.canvas.fill();\n\n        this.animation\n        .fps(32)\n        .only(() => {\n            // @TODO\n            if (!this.state.origin) {\n                this.init();\n                this.create();\n                return;\n            }\n\n            compute(this.morpher);\n            draw(this.figure.path, this.state, this.canvas);\n            // init\n            this.canvas.fill();\n\n        })\n        .play()\n        ;\n    }\n};\n</script>\n\n<style>\n</style>\n","export default {\n    /**\n     * Returns a random integer between min (inclusive) and max (inclusive)\n     * Using Math.round() will give you a non-uniform distribution!\n     */\n    randInt: function (min, max) {\n        min = min || -1;\n        max = max || 1;\n        // eslint-disable-next-line no-mixed-operators\n        return Math.random() * (max - min) + min;\n    },\n\n    /**\n     * Returns a random integer between min (inclusive) and max (inclusive)\n     * Using Math.round() will give you a non-uniform distribution!\n     */\n    bounds: function (val, min, max) {\n        val = (min !== false && val < min) ? min : val;\n        val = (max !== false && val > max) ? max : val;\n        return val;\n    },\n\n    /**\n     * Returns a random integer between min (inclusive) and max (inclusive)\n     * Using Math.round() will give you a non-uniform distribution!\n     */\n    randIntRange: function (base, range, bounce = []) {\n        if (bounce.length) {\n            if ((base + range[1]) > bounce[1]) {\n                base -= range[1];\n            }\n            if ((base + range[0]) < bounce[0]) {\n                base -= range[0];\n            }\n        }\n\n        return base + this.randInt(range[0], range[1]);\n    },\n\n    /**\n     * Returns a random integer between min (inclusive) and max (inclusive)\n     * Using Math.round() will give you a non-uniform distribution!\n     */\n    radians: function (deg) {\n        return deg * (Math.PI / 180);\n    }\n\n};\n","<template>\n    <div class=\"app--color-picker mui-panel\">\n        <table class=\"mui-table\">\n            <tbody>\n                <tr>\n                    <td>\n                        <input type=\"range\" v-model.number=\"RGBA[0]\" min=\"0\" max=\"255\">\n                    </td>\n                    <td>\n                        <strong class=\"app--indicator\" v-bind:style=\"{color:'rgb(' + RGBA[0] + ', 0, 0)'}\">◼</strong>\n                    </td>\n                    <td>\n                        <small>Red({{ RGBA[0] }})</small>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <input type=\"range\" v-model.number=\"RGBA[1]\" min=\"0\" max=\"255\">\n                    </td>\n                    <td>\n                        <strong class=\"app--indicator\" v-bind:style=\"{color:'rgb(0, ' + RGBA[1] + ', 0)'}\">◼</strong>\n                    </td>\n                    <td>\n                        <small>Green({{ RGBA[1] }})</small>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                        <input type=\"range\" v-model.number=\"RGBA[2]\" min=\"0\" max=\"255\">\n                    </td>\n                    <td>\n                        <strong class=\"app--indicator\" v-bind:style=\"{color:'rgb(0, 0, ' + RGBA[2] + ')'}\">◼</strong>\n                    </td>\n                    <td>\n                         <small>Blue({{ RGBA[2] }})</small>\n                    </td>\n                </tr>\n                <tr>\n                    <td>\n                         <input type=\"range\" v-model.number=\"RGBA[3]\" min=\"0\" max=\"1\" step=\"0.1\">\n                    </td>\n                    <td></td>\n                    <td>\n                        <small>Alpha({{ RGBA[3] }})</small>\n                    </td>\n                </tr>\n            </tbody>\n        </table>\n\n        <pre class=\"app--color\" v-bind:style=\"{backgroundColor: rgbaString, color: rgbaStringContrast}\">{{rgbaString}}</pre>\n\n        <a  class=\"mui-btn mui-btn--small mui-btn--primary\" v-on:click=\"setColor()\">Set color</a>\n    </div>\n</template>\n\n<script>\nconst match = function (str, model) {\n    if (!str || str === 'transparent') {\n        return [0, 0, 0, 1];\n    }\n    let i;\n    let n;\n    const matches = str.match(/\\d+/g);\n    for (i = 0; i < matches.length; i += 1) {\n        n = parseInt(matches[i], 10);\n        if (!isNaN(n)) {\n            model[i] = matches[i];\n        }\n    }\n    return matches;\n};\n\nexport default {\n    name: 'ColorPicker',\n    props: [\n        'rgba',\n        'targ'\n    ],\n    data: function () {\n        return {\n            RGBA: match(this.rgba, [0, 0, 0, 1])\n        };\n    },\n    computed: {\n        rgbaString: function () {\n            return 'rgba(' + this.RGBA.toString() + ')';\n        },\n        rgbaStringContrast: function () {\n            const yiq = ((this.RGBA[0] * 299) + (this.RGBA[1] * 587) + (this.RGBA[2] * 114)) / 1000;\n            return (yiq >= 128) ? 'black' : 'white';\n        }\n    },\n    methods: {\n        setColor: function () {\n            this.$parent.$emit('color-picker:' + this.targ, this.rgbaString);\n        }\n    },\n};\n</script>\n\n<style>\n    .app--color-picker pre {\n        text-align: center;\n        border: 1px solid white;\n        padding: 10px;\n        font-size: 10px;\n    }\n</style>\n","<template>\n    <div>\n        <div class=\"app--micro-form\" v-if=\"path && path.points !== 'undefined'\">\n            <section  v-for=\"(point, index) in path.points\">\n                <strong>Point {{index}}</strong>\n                <div>\n                    <input type=\"text\" v-model.number=\"point.x\" v-on:change=\"update()\" size=\"3\">\n                    <label>x</label>\n                    <input type=\"text\" v-model.number=\"point.y\" v-on:change=\"update()\" size=\"3\">\n                    <label>y</label>\n                </div>\n                <!-- groups -->\n                <div\n                    v-if=\"typeof point.members !== 'undefined' && point.members.length\"\n                    v-for=\"(member, i) in point.members\">\n                    <strong>cp[{{i}}]</strong><br>\n                    <input type=\"text\" v-model.number=\"member.x\" v-on:change=\"update()\" size=\"3\">\n                    <label>x</label>\n                    <input type=\"text\" v-model.number=\"member.y\" v-on:change=\"update()\" size=\"3\">\n                    <label>.y</label>\n                </div>\n                <br>\n            </section>\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'EditPathPoints',\n    props: [\n        'path'\n    ],\n    methods: {\n        update: function () {\n            this.$parent.$emit('edit-path-points:updated');\n        }\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <section class=\"mui-form\">\n        <div class=\"mui-checkbox\">\n            <label>\n                <input type=\"checkbox\" v-model=\"show\"> Show {{label}}\n            </label>\n        </div>\n        <pre v-if=\"show\">{{data}}</pre>\n    </section>\n</template>\n\n<script>\nexport default {\n    name: 'Dev',\n    props: ['data', 'label'],\n    data: function () {\n        return {\n            show: false\n        };\n    },\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <!-- nav -->\n        <section>\n            <button class=\"mui-btn mui-btn--small app--btn\" v-on:click=\"goTo('circle')\" v-bind:class=\"{active: state.figure == 'circle'}\">Circle</button>\n            <button class=\"mui-btn mui-btn--small app--btn\" v-on:click=\"goTo('free')\"   v-bind:class=\"{active: state.figure == 'free'}\">Open Path</button>\n            <button class=\"mui-btn mui-btn--small app--btn\" v-on:click=\"(state.figure == 'random') ? init('random') : goTo('random')\" v-bind:class=\"{active: state.figure == 'random'}\">Random</button>\n            <button class=\"mui-btn mui-btn--small app--btn\" v-on:click=\"goTo('star')\" v-bind:class=\"{active: state.figure == 'star'}\">Star</button>\n            <button class=\"mui-btn mui-btn--small app--btn\" v-on:click=\"goTo('flower')\" v-bind:class=\"{active: state.figure == 'flower'}\">Flower</button>\n            <button class=\"mui-btn mui-btn--small app--btn\" v-on:click=\"goTo('seaStar')\" v-bind:class=\"{active: state.figure == 'seaStar'}\">Sea Star</button>\n            <button class=\"mui-btn mui-btn--small app--btn\" v-on:click=\"goTo('triplet')\" v-bind:class=\"{active: state.figure == 'triplet'}\">Triplet</button>\n        </section>\n        <!-- helpers -->\n        <section class=\"mui-form\">\n            <legend>Helpers</legend>\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.showHandles\" v-on:change=\"init()\"> Handles\n                </label>\n            </div>\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.showPoints\" v-on:change=\"init()\"> Points\n                </label>\n            </div>\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.showPath\" v-on:change=\"init()\"> Path\n                </label>\n            </div>\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.showBounds\" v-on:change=\"init()\"> Bounding Box\n                </label>\n            </div>\n        </section>\n        <!-- states for figure -->\n        <section class=\"mui-form\">\n            <legend>States</legend>\n\n            <div class=\"mui-textfield\" v-if=\"typeof state[state.figure].tension !== 'undefined'\">\n                <input type=\"range\" v-model.number=\"state[state.figure].tension\" min=\"-2\" max=\"2\" step=\"0.1\" v-on:change=\"init()\">\n                <label>Corner tension <small>({{ state[state.figure].tension }})</small></label>\n            </div>\n\n            <div class=\"mui-textfield\" v-if=\"typeof state[state.figure].segments !== 'undefined'\">\n                <input type=\"range\" v-model.number=\"state[state.figure].segments\" min=\"3\" max=\"20\" v-on:change=\"init()\">\n                <label>Segments <small>({{ state[state.figure].segments }})</small></label>\n            </div>\n\n            <div class=\"mui-textfield\" v-if=\"typeof state[state.figure].outerTension !== 'undefined'\">\n                <input type=\"range\" v-model.number=\"state[state.figure].outerTension\" min=\"0\" max=\"25\" step=\"1\" v-on:change=\"init()\">\n                <label>Outer corner tension <small>({{ state[state.figure].outerTension }})</small></label>\n            </div>\n\n            <div class=\"mui-textfield\" v-if=\"typeof state[state.figure].innerTension !== 'undefined'\">\n                <input type=\"range\" v-model.number=\"state[state.figure].innerTension\" min=\"0\" max=\"5\" step=\"0.1\" v-on:change=\"init()\">\n                <label>Inner corner tension <small>({{ state[state.figure].innerTension }})</small></label>\n            </div>\n        </section>\n        <!-- colors, stroke -->\n        <section class=\"mui-form\">\n            <legend>Appearance</legend>\n\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.stroke.edit\" > Edit Stroke\n                </label>\n            </div>\n\n            <div class=\"mui-panel\" v-if=\"state.stroke.edit\">\n                <div class=\"mui-textfield\">\n                    <input type=\"text\" v-model.number=\"state.canvas.lineWidth\" v-on:change=\"init()\" >\n                    <label>Width</label>\n                </div>\n                <color-picker :targ=\"'strokeStyle'\" :rgba=\"state.canvas.strokeStyle\"></color-picker>\n            </div>\n\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.fill.edit\" > Edit Fill\n                </label>\n            </div>\n\n            <div class=\"mui-panel\" v-if=\"state.fill.edit\">\n                <color-picker :targ=\"'fillStyle'\" :rgba=\"state.canvas.fillStyle\"></color-picker>\n            </div>\n        </section>\n        <!-- edit path points -->\n        <section class=\"mui-form\">\n            <legend>Path</legend>\n\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.path.edit\" > Edit Path\n                </label>\n            </div>\n        </section>\n        <!-- devel -->\n        <section class=\"mui-form\">\n            <legend>Devel</legend>\n            <div class=\"mui-panel\" v-if=\"state.path.edit\">\n                <edit-path-points :path=\"path\"></edit-path-points>\n            </div>\n            <dev :label=\"'State'\" :data=\"state\"></dev>\n        </section>\n    </div>\n</template>\n\n<script>\nimport Canvas2dHelpers from '../Canvas2dHelpers';\nimport Utils from '../Utils';\n\nimport ColorPicker from '../Form/ColorPicker.vue';\nimport EditPathPoints from '../Form/EditPathPoints.vue';\nimport Dev from '../Form/Dev.vue';\n\nconst Space = window.Space;\n\n//TODO this can be moved into figure paths\nconst compute = function (path, state) {\n    const figure = state.figure;\n    switch (figure) {\n        case 'flower':\n        case 'seaStar':\n            break;\n        default:\n            Space.Bezier.smoothPath(path, state[figure].tension);\n    }\n    return path;\n};\n\nconst draw = function (path, state, canvas) {\n    canvas.ctx.save();\n    canvas.ctx.strokeStyle = state.canvas.strokeStyle;\n    canvas.ctx.lineWidth = state.canvas.lineWidth;\n    canvas.ctx.fillStyle = state.canvas.fillStyle;\n\n    const length = path.points.length;\n    let prev;\n    let point;\n    let i;\n\n    //// curve\n    canvas.ctx.beginPath();\n    canvas.ctx.moveTo(path.first().x, path.first().y);\n    for (i = 1; i < length; i += 1) {\n        prev = path.prev(i);\n        point = path.get(i);\n        Canvas2dHelpers.bezierLine(canvas.ctx, prev, point);\n    }\n    canvas.ctx.fill();\n    canvas.ctx.stroke();\n    canvas.ctx.restore();\n    //// helpers\n\n    for (i = 0; i < length; i += 1) {\n        prev = path.prev(i);\n        point = path.get(i);\n\n        if (state.showHandles) {\n            if (point.members !== undefined && point.members.length > 1) {\n                Canvas2dHelpers.drawHandle(canvas.ctx, point, point.members[0], i + ':left', 'red');\n                Canvas2dHelpers.drawHandle(canvas.ctx, point, point.members[1], i + ':right', 'blue');\n            }\n        }\n        if (state.showPoints) {\n            Canvas2dHelpers.drawPoint(canvas.ctx, point, i + ':point', '#666666');\n        }\n        if (state.showPath) {\n            Canvas2dHelpers.drawLine(canvas.ctx, prev, point, '#666666');\n        }\n        if (state.showBounds) {\n            Canvas2dHelpers.drawBoundingBox(canvas.ctx, path, 'yellow');\n        }\n    }\n    canvas.ctx.restore();\n};\n\n////\n// Figures\n////\n\nconst Figures = {\n    // circle\n    circle: function (state) {\n        const path = new Space.Path(state.origin.x, state.origin.y);\n        path.add(50, 50);\n        path.add(150, 50);\n        path.add(150, 150);\n        path.add(50, 150);\n        path.close();\n        path.scale(1.5, 1.5);\n        return path;\n    },\n\n    star: function (state) {\n        const dim = (state.origin.x < state.origin.y) ? state.origin.x : state.origin.y;\n        const margin = dim * 0.2;\n        const outer = dim - margin;\n        const inner = margin;\n        const figure = new Space.Star(state.star.segments, outer, inner, state.origin);\n        return figure.path;\n    },\n\n    flower: function (state) {\n        const dim = (state.origin.x < state.origin.y) ? state.origin.x : state.origin.y;\n        const margin = dim * 0.2;\n        const outer = dim - margin;\n        const inner = 10;\n        const figure = new Space.Star(state.flower.segments, outer, inner, state.origin);\n        figure.flower(state.flower.outerTension);\n        return figure.path;\n    },\n\n    seaStar: function (state) {\n        const dim = (state.origin.x < state.origin.y) ? state.origin.x : state.origin.y;\n        const margin = dim * 0.2;\n        const outer = dim - margin;\n        const inner = margin;\n        const figure = new Space.Star(state.seaStar.segments, outer, inner, state.origin);\n        figure.seaStar(state.seaStar.innerTension);\n        return figure.path;\n    },\n\n    free: function (state) {\n        const path = new Space.Path();\n        path.points = [\n            new Space.Point.Cartesian(20, 50),\n            new Space.Point.Cartesian(100, 100),\n            new Space.Point.Cartesian(150, 50),\n            new Space.Point.Cartesian(200, 150),\n            new Space.Point.Cartesian(250, 50),\n            new Space.Point.Cartesian(300, 70),\n            new Space.Point.Cartesian(310, 130),\n            new Space.Point.Cartesian(380, 30)\n        ];\n        path.scale(2, 2);\n        path.translate(50, state.origin.y / 2);\n        return path;\n    },\n\n    random: function (state, canvas) {\n        const path = new Space.Path();\n        const segments = Utils.randInt(10, 100);\n        const range = 200;\n        let rand;\n        path.add(new Space.Group(canvas.width / 2, canvas.height / 2));\n        for (let i = 0; i < segments; i += 1) {\n            rand = new Space.Point.Cartesian(\n                Utils.randInt(-range, range) * Utils.randInt(),\n                Utils.randInt(-range, range) * Utils.randInt()\n            );\n            rand.add(path.last());\n            rand.x = Utils.bounds(rand.x, 0, canvas.width);\n            rand.y = Utils.bounds(rand.y, 0, canvas.height);\n            path.add(rand);\n        }\n        return path;\n    },\n\n    triplet: function (state) {\n        const path = new Space.Path(state.origin.x, state.origin.y);\n        path.add(-200, -200);\n        path.progress(100, 200);\n        path.progress(100, -200);\n        return path;\n    }\n};\n\nconst defaults = {\n    strokeStyle: 'rgba(255, 255, 255, 1)',\n    fillStyle: 'transparent', //'rgba(255, 255, 255, 1)',\n    lineWidth: 2\n};\n\nexport default {\n    name: 'BezierPath',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    created: function () {\n        this.$on('color-picker:fillStyle', (val) => {\n            this.state.canvas.fillStyle = val;\n            this.state.fill.edit = false;\n            this.init();\n        });\n        this.$on('color-picker:strokeStyle', (val) => {\n            this.state.canvas.strokeStyle = val;\n            this.state.stroke.edit = false;\n            this.init();\n        });\n        this.$on('edit-path-points:updated', () => {\n            this.update();\n        });\n    },\n    watch: {\n        '$route'(to) {\n            this.state.figure = to.params.figure;\n            this.init();\n        }\n    },\n    data: function () {\n        return {\n            state: {\n                origin: null,\n                canvas: this.appState.factor('canvas', defaults),\n                stroke: {\n                    edit: false\n                },\n                fill: {\n                    edit: false\n                },\n                path: {\n                    edit: false\n                },\n                // helpers\n                showHandles: true,\n                showPoints: true,\n                showPath: false,\n                showBounds: false,\n                figure: (typeof this.$route.params.figure !== 'undefined') ? this.$route.params.figure : 'free',\n                // special states\n                circle: {\n                    tension: 0.5\n                },\n                star: {\n                    segments: 6,\n                    tension: 0.5\n                },\n                flower: {\n                    segments: 6,\n                    outerTension: 15\n                },\n                seaStar: {\n                    segments: 6,\n                    innerTension: 0.5\n                },\n                free: {\n                    tension: 0.5\n                },\n                random: {\n                    tension: 0.5\n                },\n                triplet: {\n                    tension: 0.5\n                }\n            },\n            path: null\n        };\n    },\n    components: {\n        ColorPicker,\n        Dev,\n        EditPathPoints\n    },\n    mounted() {\n        //@TODO cancel animation\n        this.animation.only(() => {}).cancel(); // !!!!!\n        this.init();\n    },\n    methods: {\n\n        // compute path and draw\n        init: function (figure) {\n            if (figure !== undefined) {\n                this.state.figure = figure;\n            }\n            let timeout = null;\n            this.canvas.clear();\n\n            //@TODO\n            timeout = window.setTimeout(() => {\n                // !in timeout\n                if (!this.state.origin) {\n                    this.state.origin = new Space.Point.Cartesian(this.canvas.canvas.width / 2, this.canvas.canvas.height / 2);\n                }\n                this.path = Figures[this.state.figure](this.state, this.canvas.canvas);\n\n                compute(this.path, this.state, this.canvas.canvas);\n                draw(this.path, this.state, this.canvas);\n                window.clearTimeout(timeout);\n            }, 100);\n        },\n\n        // draws from state path\n        update: function () {\n            let timeout = null;\n            this.canvas.clear();\n\n            //@TODO\n            timeout = window.setTimeout(() => {\n                draw(this.path, this.state, this.canvas);\n                window.clearTimeout(timeout);\n            }, 100);\n        },\n\n        goTo(figure) {\n            this.$router.push({ name: this.$route.name, params: { figure: figure } });\n        }\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <section>\n            <div class=\"mui-dropdown\">\n                <button class=\"mui-btn mui-btn-small\" data-mui-toggle=\"dropdown\">\n                    {{ (figure) ? figure : 'Choose' }}\n                    <span class=\"mui-caret mui--text-accent\"></span>\n                </button>\n                <ul class=\"mui-dropdown__menu\">\n                    <li\n                        v-for=\"fig in figures\"\n                        v-if=\"fig.name !== figure\"\n                        v-bind:class=\"{'router-link-active': fig.name === figure}\"\n                    >\n                        <a v-on:click=\"goTo(fig)\">{{ fig.name }}</a>\n                    </li>\n                </ul>\n            </div>\n        </section>\n\n        <!-- helpers -->\n        <section class=\"mui-form\">\n            <legend>Helpers</legend>\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.showPoints\" v-on:change=\"init()\"> Points\n                </label>\n            </div>\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.showPath\" v-on:change=\"init()\"> Path\n                </label>\n            </div>\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.showBounds\" v-on:change=\"init()\"> Bounding Box\n                </label>\n            </div>\n        </section>\n\n        <!-- figure:path -->\n        <section class=\"mui-form--inline\" v-if=\"figure === 'Path'\">\n            <div class=\"app--inline-field mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.Path.segments\" v-on:change=\"init()\" >\n                <label>Segments <small>({{ state.Path.segments }})</small></label>\n            </div>\n        </section>\n\n        <!-- figure:polygon -->\n        <section class=\"mui-form--inline\" v-if=\"figure === 'Polygon'\">\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.Polygon.segments\" v-on:change=\"init()\" >\n                <label>Segments</label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.Polygon.radius\" v-on:change=\"init()\" >\n                <label>Radius</label>\n            </div>\n        </section>\n\n        <!-- figure:star -->\n        <section class=\"mui-form--inline\" v-if=\"figure === 'Star'\">\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.Star.segments\" v-on:change=\"init()\" >\n                <label>Segments</label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.Star.outerRadius\" v-on:change=\"init()\" >\n                <label>outer Radius</label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.Star.innerRadius\" v-on:change=\"init()\" >\n                <label>inner Radius</label>\n            </div>\n        </section>\n\n        <!-- figure:cog -->\n        <section class=\"mui-form--inline\" v-if=\"figure === 'Cog'\">\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.Cog.segments\" v-on:change=\"init()\" >\n                <label>Segments</label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.Cog.outerRadius\" v-on:change=\"init()\" >\n                <label>outer Radius</label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.Cog.innerRadius\" v-on:change=\"init()\" >\n                <label>inner Radius</label>\n            </div>\n        </section>\n\n        <!-- figure:rectangle -->\n        <section class=\"mui-form--inline\"  v-if=\"figure === 'Rectangle'\">\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.Rectangle.width\" v-on:change=\"init()\" >\n                <label>Width</label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.Rectangle.height\" v-on:change=\"init()\" >\n                <label>Height</label>\n            </div>\n        </section>\n\n        <!-- colors, stroke -->\n        <section class=\"mui-form--inline\" v-if=\"state.fill.form\">\n            <legend>Background</legend>\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.fill.show\" v-on:change=\"init()\"> Show\n                </label>\n            </div>\n            <div class=\"mui-checkbox\" v-if=\"state.fill.show\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.fill.edit\" > Edit\n                </label>\n            </div>\n            <div v-if=\"state.fill.edit\">\n                <color-picker :targ=\"'fillStyle'\" :rgba=\"state.canvas.fillStyle\"></color-picker>\n            </div>\n        </section>\n\n        <!-- colors, stroke -->\n        <section class=\"mui-form--inline\">\n            <legend>Stroke</legend>\n            <div class=\"mui-checkbox\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.stroke.show\" v-on:change=\"init()\"> Show\n                </label>\n            </div>\n            <div class=\"mui-checkbox\" v-if=\"state.stroke.show\">\n                <label>\n                    <input type=\"checkbox\" v-model=\"state.stroke.edit\" > Edit\n                </label>\n            </div>\n\n            <div v-if=\"state.stroke.edit\">\n                <div  class=\"mui-panel\">\n                    <div class=\"mui-textfield\">\n                        <input type=\"text\" v-model.number=\"state.canvas.lineWidth\" v-on:change=\"init()\" >\n                        <label>Width</label>\n                    </div>\n                </div>\n                <color-picker :targ=\"'strokeStyle'\" :rgba=\"state.canvas.strokeStyle\"></color-picker>\n            </div>\n        </section>\n\n        <!-- translate -->\n        <section class=\"mui-form--inline\">\n            <legend>Translate</legend>\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.tanslate[0]\" v-on:change=\"init()\" >\n                <label>X</label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.tanslate[1]\" v-on:change=\"init()\" >\n                <label>Y</label>\n            </div>\n        </section>\n\n        <!-- scale-->\n        <section class=\"mui-form--inline\">\n            <legend>Scale</legend>\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.scale[0]\" v-on:change=\"init()\" >\n                <label>X</label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.scale[1]\" v-on:change=\"init()\" >\n                <label>Y</label>\n            </div>\n        </section>\n\n        <!-- rotate-->\n        <section class=\"mui-form--inline\">\n            <legend>Rotate</legend>\n            <div class=\"mui-textfield\">\n                <input type=\"text\" v-model.number=\"state.rotate2D\" v-on:change=\"init()\" >\n                <label>rad</label>\n            </div>\n        </section>\n\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Canvas2dHelpers from '../Canvas2dHelpers';\nimport Utils from '../Utils';\nimport Routes from '../Routes';\nimport ColorPicker from '../Form/ColorPicker.vue';\nimport Dev from '../Form/Dev.vue';\n\nconst Space = window.Space;\n\nconst compute = function (figure, state, canvas) {\n\n    if (!state.origin) {\n        state.origin = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n\n    let fig;\n    let segments;\n\n    switch (figure) {\n\n        case 'Path': {\n            const margin = 100;\n            segments = state.Path.segments;\n            const x = (canvas.width - (2 * margin)) / segments;\n            let y = canvas.height - (2 * margin);\n            fig = new Space.Path();\n            fig.add(margin, margin);\n            while (segments > 0) {\n                fig.progress(x, y);\n                y = -y;\n                segments -= 1;\n            }\n            break;\n        }\n\n        case 'Polygon': {\n            fig = new Space.Polygon(state.Polygon.segments, state.Polygon.radius, state.origin);\n            break;\n        }\n\n        case 'Rectangle': {\n            fig = new Space.Rectangle(state.Rectangle.width, state.Rectangle.height, state.origin);\n            break;\n        }\n\n        case 'Star': {\n            fig = new Space.Star(state.Star.segments, state.Star.outerRadius, state.Star.innerRadius, state.origin);\n            break;\n        }\n\n        case 'Cog': {\n            fig = new Space.Cog(state.Cog.segments, state.Cog.outerRadius, state.Cog.innerRadius, state.origin);\n            break;\n        }\n\n        default: {\n            fig = null;\n        }\n\n    }\n\n    //Figure or only Path\n    const path = (typeof fig.path !== 'undefined') ? fig.path : fig;\n\n    // translate\n    const hasTranslate = state.tanslate.reduce((a, b) => {\n        return a + b;\n    });\n\n    if (hasTranslate) {\n        path.translate(state.tanslate[0], state.tanslate[1]);\n    }\n\n    // translate\n    const hasScale = state.scale.reduce((a, b) => {\n        return a * b;\n    });\n\n    // scale\n    if (hasScale !== 1) {\n        path.scale(state.scale[0], state.scale[1]);\n    }\n\n    // rotate 2d\n    if (state.rotate2D) {\n        path.rotate2D(Utils.radians(state.rotate2D));\n    }\n\n    return path;\n\n};\n\nconst draw = function (figure, path, state, canvas) {\n    canvas.ctx.save();\n    // styles\n    canvas.ctx.fillStyle = (state.fill.show && figure !== 'Path') ? state.canvas.fillStyle : 'transparent';\n    canvas.ctx.strokeStyle = state.canvas.strokeStyle;\n    canvas.ctx.lineWidth = state.canvas.lineWidth;\n\n    // path\n    canvas.ctx.beginPath();\n    canvas.ctx.moveTo(path.first().x, path.first().y);\n    path.points.forEach((point, index) => {\n        if (index === 0) {\n            return;\n        }\n        canvas.ctx.lineTo(point.x, point.y);\n    });\n\n    // draw\n    if (state.canvas.fillStyle) {\n        canvas.ctx.fill();\n    }\n    canvas.ctx.stroke();\n\n    // finish\n    canvas.ctx.closePath();\n    canvas.ctx.restore();\n\n    //// helpers\n    const length = path.points.length;\n    let prev;\n    let point;\n    let i;\n\n    for (i = 0; i < length; i += 1) {\n        prev = path.prev(i);\n        point = path.get(i);\n\n        if (state.showPoints) {\n            Canvas2dHelpers.drawPoint(canvas.ctx, point, i + ':point', 'orange');\n        }\n        if (state.showPath) {\n            Canvas2dHelpers.drawLine(canvas.ctx, prev, point, '#666666');\n        }\n        if (state.showBounds) {\n            Canvas2dHelpers.drawBoundingBox(canvas.ctx, path, 'yellow');\n        }\n    }\n};\n\nconst defaults = {\n    strokeStyle: 'rgba(255, 255, 255, 1)',\n    fillStyle: 'rgba(255, 255, 255, 1)',\n    lineWidth: 2\n};\n\nexport default {\n    name: 'Figures',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    watch: {\n        '$route'(to) {\n            this.figure = to.params.figure;\n            this.state.canvas = this.appState.factor('canvas', defaults);\n            this.init();\n        }\n    },\n    created: function () {\n        this.$on('color-picker:fillStyle', (val) => {\n            this.state.canvas.fillStyle = val;\n            this.state.fill.edit = false;\n            this.init();\n        });\n        this.$on('color-picker:strokeStyle', (val) => {\n            this.state.canvas.strokeStyle = val;\n            this.state.stroke.edit = false;\n            this.init();\n        });\n    },\n    data: function () {\n        return {\n            state: {\n                origin: null,\n                canvas: this.appState.factor('canvas', defaults),\n                // form\n                fill: {\n                    form: true,\n                    show: true,\n                    edit: false\n                },\n                stroke: {\n                    show: true,\n                    edit: false\n                },\n                // transform\n                tanslate: [0, 0],\n                scale: [1, 1],\n                rotate2D: 0,\n                // helpers\n                showPoints: false,\n                showPath: false,\n                showBounds: false,\n                // form defaults per figure\n                Path: {\n                    segments: 25\n                },\n                Polygon: {\n                    segments: 6,\n                    radius: 200\n                },\n                Star: {\n                    segments: 5,\n                    outerRadius: 200,\n                    innerRadius: 70\n                },\n                Cog: {\n                    segments: 5,\n                    outerRadius: 200,\n                    innerRadius: 125\n                },\n                Rectangle: {\n                    width: 300,\n                    height: 200\n                }\n            },\n            figures: Routes.figures(),\n            figure: (typeof this.$route.params.figure !== 'undefined') ? this.$route.params.figure : 'Path'\n        };\n    },\n    components: {\n        ColorPicker,\n        Dev\n    },\n    mounted() {\n        //@TODO cancel animation\n        this.animation.only(() => {}).cancel(); // !!!!!\n        this.init();\n    },\n    methods: {\n        init: function () {\n            let timeout = null;\n            this.canvas.clear();\n            this.initForms();\n            //@TODO\n            timeout = window.setTimeout(() => {\n                const path = compute(this.figure, this.state, this.canvas.canvas);\n                draw(this.figure, path, this.state, this.canvas);\n                window.clearTimeout(timeout);\n            }, 100);\n        },\n        initForms: function () {\n            this.state.fill.form = (this.figure !== 'Path');\n        },\n        goTo(figure) {\n            this.$router.push({ name: this.$route.name, params: { figure: figure.name } });\n        }\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <section class=\"mui-form\">\n            <legend>Edit Params</legend>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.segments\" min=\"10\" max=\"800\" step=\"10\">\n                <label>Segments <small>({{ state.segments }})</small></label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.segmentsRange\" min=\"1\" max=\"50\">\n                <label>Segment Range <small>({{ state.segmentsRange }})</small></label>\n            </div>\n        </section>\n\n        <!-- devel -->\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\nimport Dev from '../Form/Dev.vue';\n\nconst Space = window.Space;\n\nconst compute = function (state, canvas) {\n    if (!state.prev) {\n        state.prev = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n    const path = new Space.Path();\n    const range = state.segmentsRange;\n    let count = 0;\n    let rand;\n    path.add(state.prev);\n    while (count < state.segments) {\n        rand = new Space.Point.Cartesian(\n            Utils.randInt(-range, range) * Utils.randInt(),\n            Utils.randInt(-range, range) * Utils.randInt()\n        );\n        rand.add(path.last());\n        rand.x = Utils.bounds(rand.x, 0, canvas.width);\n        rand.y = Utils.bounds(rand.y, 0, canvas.height);\n        path.add(rand);\n        count += 1;\n    }\n\n    state.prev = path.last();\n    return path;\n};\n\nexport default {\n    name: 'Path',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    components: {\n        Dev\n    },\n    data: function () {\n        return {\n            state: {\n                prev: null,\n                segments: 200,\n                segmentsRange: 10,\n                canvas: this.appState.factor('canvas')\n            }\n        };\n    },\n    mounted() {\n        let path;\n\n        this.animation\n        // .fps(1)\n        .only(() => {\n            // compute path\n            path = compute(this.state, this.canvas.canvas);\n\n            // init\n            this.canvas.fill();\n            this.canvas.ctx.save();\n\n            // styles\n            this.canvas.ctx.strokeStyle = this.state.canvas.strokeStyle;\n            this.canvas.ctx.lineWidth = this.state.canvas.lineWidth;\n\n            // path\n            this.canvas.ctx.beginPath();\n            this.canvas.ctx.moveTo(path.first().x, path.first().y);\n            path.points.forEach((point, index) => {\n                if (index === 0) {\n                    return;\n                }\n                this.canvas.ctx.lineTo(point.x, point.y);\n                // draw\n                this.canvas.ctx.stroke();\n            });\n\n            // finish\n            this.canvas.ctx.closePath();\n            this.canvas.ctx.restore();\n        })\n        .play()\n        ;\n    }\n};\n\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <section class=\"mui-form\">\n            <legend>Edit Params</legend>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.segmentsRange\" min=\"1\" max=\"50\">\n                <label>Segment Range <small>({{ state.segmentsRange }})</small></label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.radiusRange\" min=\"5\" max=\"500\">\n                <label>Radius Range <small>({{ state.radiusRange }})</small></label>\n            </div>\n        </section>\n\n        <!-- devel -->\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\nimport Dev from '../Form/Dev.vue';\n\nconst Space = window.Space;\n\nconst compute = function (state, canvas) {\n    if (!state.origin) {\n        state.origin = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n    let radius = Math.floor(Utils.randInt(5, state.radiusRange));\n    let segments = Math.floor(Utils.randInt(3, state.segmentsRange));\n    segments = Utils.bounds(segments, false, 25);\n    radius = Utils.bounds(radius, false, canvas.width / 2);\n\n    state.prev.segments = segments;\n    state.prev.radius = radius;\n\n    return new Space.Polygon(segments, radius, state.origin);\n};\n\nexport default {\n    name: 'Polygon',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    components: {\n        Dev\n    },\n    data: function () {\n        return {\n            state: {\n                prev: {\n                    segments: 3,\n                    radius: 50\n                },\n                segmentsRange: 10,\n                radiusRange: 200,\n                origin: null,\n                canvas: this.appState.factor('canvas', {\n                    strokeStyle: 'rgba(255, 255, 255, 1)',\n                    fillStyle: 'rgba(99, 9, 9, .8)'\n                })\n            }\n        };\n    },\n    mounted() {\n        let polygon;\n\n        this.animation\n        // .fps(1)\n        .only(() => {\n            // compute path\n            polygon = compute(this.state, this.canvas.canvas);\n\n            // init\n            this.canvas.fill();\n            this.canvas.ctx.save();\n\n            // styles\n            this.canvas.ctx.fillStyle = this.state.canvas.fillStyle;\n            this.canvas.ctx.strokeStyle = this.state.canvas.strokeStyle;\n            this.canvas.ctx.lineWidth = this.state.canvas.lineWidth;\n\n            // path\n            this.canvas.ctx.beginPath();\n            this.canvas.ctx.moveTo(polygon.path.first().x, polygon.path.first().y);\n            polygon.path.points.forEach((point, index) => {\n                if (index === 0) {\n                    return;\n                }\n                this.canvas.ctx.lineTo(point.x, point.y);\n            });\n\n            // draw\n            if (this.state.canvas.fillStyle) {\n                this.canvas.ctx.fill();\n            }\n            this.canvas.ctx.stroke();\n\n            // finish\n            this.canvas.ctx.closePath();\n            this.canvas.ctx.restore();\n        })\n        .play()\n        ;\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <section class=\"mui-form\">\n            <legend>Edit Params</legend>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.widthRange\" min=\"5\" max=\"1000\">\n                <label>Width Range <small>({{ state.widthRange }})</small></label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.heightRange\" min=\"5\" max=\"1000\">\n                <label>Height Range <small>({{ state.heightRange }})</small></label>\n            </div>\n        </section>\n\n        <!-- devel -->\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\nimport Dev from '../Form/Dev.vue';\n\nconst Space = window.Space;\n\nconst compute = function (state, canvas) {\n    if (!state.origin) {\n        state.origin = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n    const width = Math.floor(Utils.randInt(5, state.widthRange));\n    const height = Math.floor(Utils.randInt(3, state.heightRange));\n\n    state.prev.width = width;\n    state.prev.height = height;\n\n    return new Space.Rectangle(width, height, state.origin);\n};\n\nexport default {\n    name: 'Rectangle',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    components: {\n        Dev\n    },\n    data: function () {\n        return {\n            state: {\n                prev: {\n                    width: 25,\n                    height: 50\n                },\n                widthRange: 500,\n                heightRange: 500,\n                origin: null,\n                canvas: this.appState.factor('canvas', {\n                    strokeStyle: 'rgba(255, 255, 255, 1)',\n                    fillStyle: 'rgba(255, 255, 255, .2)'\n                })\n            }\n        };\n    },\n    mounted() {\n        let polygon;\n\n        this.animation\n        // .fps(1)\n        .only(() => {\n            // compute path\n            polygon = compute(this.state, this.canvas.canvas);\n\n            // init\n            this.canvas.fill();\n            this.canvas.ctx.save();\n\n            // styles\n            this.canvas.ctx.fillStyle = this.state.canvas.fillStyle;\n            this.canvas.ctx.strokeStyle = this.state.canvas.strokeStyle;\n            this.canvas.ctx.lineWidth = this.state.canvas.lineWidth;\n\n            // path\n            this.canvas.ctx.beginPath();\n            this.canvas.ctx.moveTo(polygon.path.first().x, polygon.path.first().y);\n            polygon.path.points.forEach((point, index) => {\n                if (index === 0) {\n                    return;\n                }\n                this.canvas.ctx.lineTo(point.x, point.y);\n            });\n\n            // draw\n            if (this.state.canvas.fillStyle) {\n                this.canvas.ctx.fill();\n            }\n            this.canvas.ctx.stroke();\n\n            // finish\n            this.canvas.ctx.closePath();\n            this.canvas.ctx.restore();\n        })\n        .play()\n        ;\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <section class=\"mui-form\">\n            <legend>Edit Params</legend>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.segmentsRange\" min=\"1\" max=\"50\">\n                <label>Segment Range <small>({{ state.segmentsRange }})</small></label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.outerRadiusRange\" min=\"5\" max=\"500\">\n                <label>Outer Radius Range <small>({{ state.outerRadiusRange }})</small></label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.innerRadiusRange\" min=\"5\" max=\"500\">\n                <label>Inner Radius Range <small>({{ state.innerRadiusRange }})</small></label>\n            </div>\n        </section>\n\n        <!-- devel -->\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\nimport Dev from '../Form/Dev.vue';\n\nconst Space = window.Space;\n\nconst compute = function (state, canvas) {\n    if (!state.origin) {\n        state.origin = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n\n    let outerRadius = Math.floor(Utils.randInt(5, state.outerRadiusRange));\n    let innerRadius = Math.floor(Utils.randInt(5, state.innerRadiusRange));\n    let segments = Math.floor(Utils.randInt(3, state.segmentsRange));\n    segments = Utils.bounds(segments, false, 25);\n    outerRadius = Utils.bounds(outerRadius, false, canvas.width / 2);\n    innerRadius = Utils.bounds(innerRadius, false, canvas.width / 2);\n\n    state.prev.segments = segments;\n    state.prev.outerRadius = outerRadius;\n    state.prev.innerRadius = innerRadius;\n\n    return new Space.Star(segments, outerRadius, innerRadius, state.origin);\n};\n\nexport default {\n    name: 'Star',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    components: {\n        Dev\n    },\n    data: function () {\n        return {\n            state: {\n                prev: {\n                    segments: 3,\n                    outerRadius: 50,\n                    innerRadius: 10\n                },\n                segmentsRange: 10,\n                outerRadiusRange: 200,\n                innerRadiusRange: 200,\n                origin: null,\n                canvas: this.appState.factor('canvas', {\n                    strokeStyle: 'rgba(255, 255, 255, 1)',\n                    fillStyle: 'rgba(0, 99, 0, .6)'\n                })\n            }\n        };\n    },\n    mounted() {\n        let polygon;\n\n        this.animation\n        // .fps(1)\n        .only(() => {\n            // compute path\n            polygon = compute(this.state, this.canvas.canvas);\n\n            // init\n            this.canvas.fill();\n            this.canvas.ctx.save();\n\n            // styles\n            this.canvas.ctx.fillStyle = this.state.canvas.fillStyle;\n            this.canvas.ctx.strokeStyle = this.state.canvas.strokeStyle;\n            this.canvas.ctx.lineWidth = this.state.canvas.lineWidth;\n\n            // path\n            this.canvas.ctx.beginPath();\n            this.canvas.ctx.moveTo(polygon.path.first().x, polygon.path.first().y);\n            polygon.path.points.forEach((point, index) => {\n                if (index === 0) {\n                    return;\n                }\n                this.canvas.ctx.lineTo(point.x, point.y);\n            });\n\n            // draw\n            if (this.state.canvas.fillStyle) {\n                this.canvas.ctx.fill();\n            }\n            this.canvas.ctx.stroke();\n\n            // finish\n            this.canvas.ctx.closePath();\n            this.canvas.ctx.restore();\n        })\n        .play()\n        ;\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <section class=\"mui-form\">\n            <legend>Edit Params</legend>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.segmentsRange\" min=\"1\" max=\"50\">\n                <label>Segment Range <small>({{ state.segmentsRange }})</small></label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.outerRadiusRange\" min=\"5\" max=\"500\">\n                <label>Outer Radius Range <small>({{ state.outerRadiusRange }})</small></label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.innerRadiusRange\" min=\"5\" max=\"500\">\n                <label>Inner Radius Range <small>({{ state.innerRadiusRange }})</small></label>\n            </div>\n        </section>\n\n        <!-- devel -->\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\nimport Dev from '../Form/Dev.vue';\n\nconst Space = window.Space;\n\nconst compute = function (state, canvas) {\n    if (!state.origin) {\n        state.origin = new Space.Point.Cartesian(canvas.width / 2, canvas.height / 2);\n    }\n\n    let outerRadius = Math.floor(Utils.randInt(5, state.outerRadiusRange));\n    let innerRadius = Math.floor(Utils.randInt(5, state.innerRadiusRange));\n    let segments = Math.floor(Utils.randInt(3, state.segmentsRange));\n    segments = Utils.bounds(segments, false, 25);\n    outerRadius = Utils.bounds(outerRadius, false, canvas.width / 2);\n    innerRadius = Utils.bounds(innerRadius, false, canvas.width / 2);\n\n    state.prev.segments = segments;\n    state.prev.outerRadius = outerRadius;\n    state.prev.innerRadius = innerRadius;\n\n    return new Space.Cog(segments, outerRadius, innerRadius, state.origin);\n};\n\nexport default {\n    name: 'Star',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    components: {\n        Dev\n    },\n    data: function () {\n        return {\n            state: {\n                prev: {\n                    segments: 3,\n                    outerRadius: 50,\n                    innerRadius: 10\n                },\n                segmentsRange: 10,\n                outerRadiusRange: 200,\n                innerRadiusRange: 200,\n                origin: null,\n                canvas: this.appState.factor('canvas', {\n                    strokeStyle: 'rgba(255, 255, 255, 1)',\n                    fillStyle: 'rgba(0, 99, 0, .6)'\n                })\n            }\n        };\n    },\n    mounted() {\n        let polygon;\n\n        this.animation\n        // .fps(1)\n        .only(() => {\n            // compute path\n            polygon = compute(this.state, this.canvas.canvas);\n\n            // init\n            this.canvas.fill();\n            this.canvas.ctx.save();\n\n            // styles\n            this.canvas.ctx.fillStyle = this.state.canvas.fillStyle;\n            this.canvas.ctx.strokeStyle = this.state.canvas.strokeStyle;\n            this.canvas.ctx.lineWidth = this.state.canvas.lineWidth;\n\n            // path\n            this.canvas.ctx.beginPath();\n            this.canvas.ctx.moveTo(polygon.path.first().x, polygon.path.first().y);\n            polygon.path.points.forEach((point, index) => {\n                if (index === 0) {\n                    return;\n                }\n                this.canvas.ctx.lineTo(point.x, point.y);\n            });\n\n            // draw\n            if (this.state.canvas.fillStyle) {\n                this.canvas.ctx.fill();\n            }\n            this.canvas.ctx.stroke();\n\n            // finish\n            this.canvas.ctx.closePath();\n            this.canvas.ctx.restore();\n        })\n        .play()\n        ;\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <section class=\"mui-form\">\n            <legend>Edit Params</legend>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.segments\" min=\"3\" max=\"60\" step=\"1\">\n                <label>Segments <small>({{ state.segments }})</small></label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.segmentsRange\" min=\"0\" max=\"1\" step=\"0.1\">\n                <label>Segments range <small>({{ state.segmentsRange }})</small></label>\n            </div>\n            <div class=\"mui-textfield\">\n                <input type=\"range\" v-model.number=\"state.tension\" min=\"-2\" max=\"2\" step=\"0.1\">\n                <label>Corner tension <small>({{ state.tension }})</small></label>\n            </div>\n        </section>\n\n        <!-- devel -->\n        <dev :label=\"'State'\" :data=\"state\"></dev>\n    </div>\n</template>\n\n<script>\nimport Utils from '../Utils';\nimport Dev from '../Form/Dev.vue';\nimport Canvas2dHelpers from '../Canvas2dHelpers';\n\nconst Space = window.Space;\n\nconst compute = function (state, canvas) {\n    const path = new Space.Path();\n    const phi = (Math.PI * 2) / state.segments;\n    const maxR = (canvas.width < canvas.height) ? (canvas.width / 3) : (canvas.height / 3);\n    const minR = maxR * state.segmentsRange;\n    let r;\n    let p;\n    for (let i = 0; i < state.segments; i += 1) {\n        r = Utils.randInt(minR, maxR);\n        p = new Space.Point.Polar(r, i * phi);\n        path.add(new Space.Group(p.x(), p.y()));\n    }\n    path.close();\n    path.translate(canvas.width / 2, canvas.height / 2);\n    Space.Bezier.smoothPath(path, state.tension);\n    return path;\n};\n\nexport default {\n    name: 'Path',\n    props: [\n        'animation',\n        'appState',\n        'canvas'\n    ],\n    components: {\n        Dev\n    },\n    data: function () {\n        return {\n            state: {\n                segments: 10,\n                segmentsRange: 0.3,\n                canvas: this.appState.factor('canvas', {\n                    lineWidth: 0.5\n                }),\n                tension: 0.5\n            }\n        };\n    },\n    mounted() {\n        let path;\n\n        this.animation\n        // .fps(1)\n        .only(() => {\n            // compute path\n            path = compute(this.state, this.canvas.canvas);\n\n            // init\n            this.canvas.fill();\n            this.canvas.ctx.save();\n\n            // styles\n            this.canvas.ctx.strokeStyle = this.state.canvas.strokeStyle;\n            this.canvas.ctx.lineWidth = this.state.canvas.lineWidth;\n\n            //// curve\n            const length = path.points.length;\n            let prev;\n            let point;\n            let i;\n\n            this.canvas.ctx.beginPath();\n            this.canvas.ctx.moveTo(path.first().x, path.first().y);\n            for (i = 1; i < length; i += 1) {\n                prev = path.prev(i);\n                point = path.get(i);\n                Canvas2dHelpers.bezierLine(this.canvas.ctx, prev, point);\n            }\n            this.canvas.ctx.fill();\n            this.canvas.ctx.stroke();\n        })\n        .play()\n        ;\n    }\n};\n\n</script>\n\n<style>\n</style>\n","// landing views\nimport Home from './Home.vue';\nimport BezierPath from './Figures/BezierPath.vue';\nimport Figures from './Figures/Figures.vue';\n// single views\nimport Path from './Paths/Path.vue';\nimport Polygon from './Paths/Polygon.vue';\nimport Rectangle from './Paths/Rectangle.vue';\nimport Star from './Paths/Star.vue';\nimport Cog from './Paths/Cog.vue';\nimport Bezier from './BezierPaths/Bezier.vue';\n\n\nconst routes = [\n    {\n        name: '',\n        path: '/',\n        component: Path,\n        meta: {\n            menu: false,\n            figure: false\n        }\n    },\n    {\n        name: 'Home',\n        path: '/Home',\n        component: Home,\n        meta: {\n            menu: false,\n            figure: false\n        }\n    },\n    {\n        name: 'Path',\n        path: '/Path',\n        component: Path,\n        meta: {\n            menu: true,\n            figure: true\n        }\n    },\n    {\n        name: 'Polygon',\n        path: '/Polygon',\n        component: Polygon,\n        meta: {\n            menu: true,\n            figure: true\n        }\n    },\n    {\n        name: 'Rectangle',\n        path: '/Rectangle',\n        component: Rectangle,\n        meta: {\n            menu: true,\n            figure: true\n        }\n    },\n    {\n        name: 'Star',\n        path: '/Star',\n        component: Star,\n        meta: {\n            menu: true,\n            figure: true\n        }\n    },\n    {\n        name: 'Cog',\n        path: '/Cog',\n        component: Cog,\n        meta: {\n            menu: true,\n            figure: true\n        }\n    },\n    {\n        name: 'Bezier',\n        path: '/Bezier',\n        component: Bezier,\n        meta: {\n            menu: true,\n            figure: false\n        }\n    },\n    {\n        name: 'Figures',\n        path: '/Figures/:figure?',\n        component: Figures,\n        meta: {\n            menu: true,\n            figure: false\n        }\n    },\n    {\n        name: 'BezierPaths',\n        path: '/BezierPath/:figure?',\n        component: BezierPath,\n        meta: {\n            menu: true,\n            figure: false\n        }\n    },\n    // catch all redirect\n    {\n        name: '',\n        path: '*',\n        redirect: '/',\n        meta: {\n            menu: false,\n            figure: false\n        }\n    }\n];\n\nconst figures = function () {\n    return routes.filter((item) => {\n        return item.meta.figure;\n    });\n};\n\nconst menu = function () {\n    return routes\n    .filter((item) => {\n        return item.meta.menu;\n    })\n    .map((item) => {\n        return {\n            name: item.name,\n            path: item.path,\n            meta: item.meta || {}\n        };\n    });\n};\n\nconst byName = function (name) {\n    let i;\n    for (i = 1; i < routes.length; i += 1) {\n        if (routes[i].name === name) {\n            return routes[i];\n        }\n    }\n    return null;\n};\n\nexport default {\n    routes: routes,\n    figures: figures,\n    menu: menu,\n    byName: byName\n};\n","<template>\n    <div>\n        <section v-if=\"animation.id\" class=\"mui-form\">\n            <legend>Animation <small>{{animation.count}}</small></legend>\n            <a v-on:click=\"animation.toggle()\" class=\"mui-btn mui-btn--small mui-btn--primary\">\n                {{(animation.running) ? 'pause' : 'play'}}\n            </a>\n            <a v-on:click=\"show = !show\" class=\"mui-btn mui-btn--small app--btn\">Throttle</a>\n\n            <div v-if=\"show\" class=\"mui-panel\">\n                <div class=\"mui-textfield\" style=\"\">\n                    <input type=\"range\" v-on:change=\"throttle($event.target.value)\" min=\"0\" max=\"100\">\n                    <label>fps <small>({{1000 / animation.interval}})</small></label>\n                </div>\n            </div>\n        </section>\n\n    </div>\n</template>\n\n<script>\nexport default {\n    name: 'Animation',\n    props: ['animation'],\n    data: function () {\n        return {\n            show: false\n        };\n    },\n    methods: {\n        throttle: function (value) {\n            if (value === null) {\n                return;\n            }\n            value = parseInt(value, 10);\n            if (!isNaN(value)) {\n                this.animation.fps(value);\n            }\n        }\n    }\n};\n</script>\n\n<style>\n</style>\n","<template>\n    <div>\n        <header id=\"header\">\n            <div class=\"mui-appbar mui--appbar-line-height mui--z1\">\n                <div class=\"mui-container-fluid\">\n                    <table width=\"100%\">\n                        <tr class=\"mui--appbar-height\">\n                            <td>\n                                <span class=\"app--brand\"></span>\n                                <div class=\"mui-dropdown\">\n                                    <button class=\"mui-btn mui-btn-small\" data-mui-toggle=\"dropdown\">\n                                        Space <span class=\"mui--text-accent\">/</span> {{ $route.name }}\n                                        <span class=\"mui-caret mui--text-accent\"></span>\n                                    </button>\n                                    <ul class=\"mui-dropdown__menu\">\n                                        <li\n                                            v-for=\"route in routes\"\n                                            v-if=\"route.name\"\n                                            v-bind:class=\"{'router-link-active': $route.name === route.name}\"\n                                        >\n                                            <a v-on:click=\"goTo(route)\">{{ route.name }}</a>\n                                        </li>\n                                    </ul>\n                                </div>\n                            </td>\n                            <td>\n                                <a class=\"app--sidebar-trigger mui--pull-right mui--text-display1\" v-on:click=\"toggle()\"><i class=\"zmdi zmdi-settings\"></i></a>\n                            </td>\n                        </tr>\n                    </table>\n                </div>\n            </div>\n        </header>\n\n        <footer id=\"footer\">\n            <div class=\"app--footer-content mui-container-fluid mui--align-middle\">\n                Demo made with <a href=\"https://vuejs.org/\">Vue</a> & <a href=\"https://www.muicss.com\">MUI</a>\n            </div>\n        </footer>\n\n        <aside id=\"sidebar\" class=\"mui-panel\" v-bind:class=\"{'visible': sidebar}\">\n\n            <div v-if=\"$route.name\" class=\"mui--appbar-line-height\">\n                <span class=\"mui--text-title\">{{ $route.name }}</span>\n            </div>\n            <div class=\"mui-divider\"></div>\n\n            <animation :animation=\"animation\"></animation>\n\n           <router-view class=\"view\"\n               :app-state=\"appState\"\n               :animation=\"animation\"\n               :canvas=\"canvas\"\n           ></router-view>\n\n       </aside>\n\n        <main id=\"content\" class=\"mui-container-fluid\">\n            <div class=\"mui-row\">\n                <div class=\"mui-col-md-12 app--canvas\"></div>\n            </div>\n        </main>\n    </div>\n</template>\n\n<script>\nimport Animation from './Form/Animation.vue';\n\nexport default {\n    name: 'app',\n    props: ['animation', 'appState', 'canvas', 'routes'],\n    components: {\n        Animation\n    },\n    mounted() {\n        this.sidebar = document.getElementById('sidebar');\n\n        this.$el.querySelector('.app--canvas').appendChild(this.canvas.canvas);\n        this.canvas.canvas.width = document.body.clientWidth;\n        this.canvas.canvas.height = document.body.clientHeight;\n        this.canvas.ctx.fillStyle = this.appState.canvas.fillStyle;\n        this.canvas.ctx.lineWidth = this.appState.canvas.lineWidth;\n    },\n    methods: {\n        goTo: function (route) {\n            const to = (route.path.indexOf('/:') > -1) ? { name: route.name, params: {} } : route.path;\n            this.$router.push(to);\n        },\n        toggle: function () {\n            if (!this.sidebar) {\n                return;\n            }\n            let right = (this.sidebar.style.right) ? this.sidebar.style.right : window.getComputedStyle(this.sidebar).getPropertyValue('right');\n            right = parseInt(right, 10);\n            this.sidebar.style.right = ((right < 0) ? 0 : -this.sidebar.clientWidth) + 'px';\n        }\n    },\n    data: function () {\n        return {\n            sidebar: null\n        };\n    }\n};\n</script>\n\n<style>\n</style>\n","import Vue from 'vue';\nimport VueRouter from 'vue-router';\n\n// rollup-plugin-scss\nimport './main.scss';\n\nimport Animation from './Animation';\nimport Canvas2d from './Canvas2d';\nimport State from './State';\nimport Routes from './Routes';\n\nimport App from './App.vue';\n\nconst animation = new Animation();\nconst canvas = new Canvas2d();\n\n// Create the router\nconst router = new VueRouter({\n    mode: 'hash', //'history',\n    routes: Routes.routes\n});\n\n// 4. Create and mount root instance.\n// Make sure to inject the router.\nnew Vue({\n    router,\n    data: {\n        animation,\n        appState: State,\n        canvas,\n        routes: Routes.menu()\n    },\n    components: {\n        App\n    },\n    //render: h => h(App)\n    template: '<App :app-state=\"appState\" :animation=\"animation\" :canvas=\"canvas\" :routes=\"routes\"/>',\n}).$mount('#app');\n"],"names":["Animation","id","count","running","interval","last","Date","getTime","callbacks","prototype","fps","add","callback","push","clear","splice","length","only","play","now","delta","forEach","fn","window","requestAnimationFrame","stop","pause","cancel","cancelAnimationFrame","toggle","document","CLASS_NAME","Canvas2d","canvas","createElement","className","ctx","getContext","styles","keys","key","clearRect","width","height","fill","fillRect","State","property","merge","Helpers","from","to","theme","save","fillStyle","strokeStyle","setLineDash","beginPath","moveTo","x","y","lineTo","stroke","closePath","restore","point","name","fillText","arc","Math","PI","handle","lineWidth","path","bounds","strokeRect","min","max","center","prev","prevM","members","pointM","bezierCurveTo","quadraticCurveTo","Space","createTarget","state","Star","segments","outerRadius","innerRadius","origin","createMorpher","Point","Cartesian","src","Line","Morpher","steps","compute","morpher","finished","reverse","progress","draw","points","i","first","get","bezierLine","showHandles","undefined","drawHandle","showPoints","drawPoint","showPath","drawLine","showBounds","drawBoundingBox","render","appState","factor","figure","animation","init","create","random","val","base","range","bounce","randInt","deg","match","str","model","n","matches","parseInt","isNaN","rgba","RGBA","toString","yiq","$parent","$emit","targ","rgbaString","Bezier","smoothPath","tension","Figures","Path","close","scale","dim","margin","outer","inner","star","flower","outerTension","seaStar","innerTension","translate","Utils","rand","Group","defaults","$on","edit","update","params","$route","timeout","setTimeout","clearTimeout","$router","fig","Polygon","radius","Rectangle","Cog","hasTranslate","tanslate","reduce","a","b","hasScale","rotate2D","radians","show","index","Routes","figures","initForms","form","segmentsRange","floor","radiusRange","polygon","widthRange","heightRange","outerRadiusRange","innerRadiusRange","phi","maxR","minR","r","p","Polar","routes","Home","BezierPath","filter","item","meta","menu","map","byName","value","sidebar","getElementById","$el","querySelector","appendChild","body","clientWidth","clientHeight","route","indexOf","right","style","getComputedStyle","getPropertyValue","router","VueRouter","Vue","$mount"],"mappings":";;;;;;AAAA,IAAMA,YAAY,SAAZA,SAAY,GAAY;SACrBC,EAAL,GAAU,IAAV;SACKC,KAAL,GAAa,CAAb;SACKC,OAAL,GAAe,KAAf;SACKC,QAAL,GAAgB,CAAC,CAAjB;SACKC,IAAL,GAAY,IAAIC,IAAJ,GAAWC,OAAX,EAAZ;SACKC,SAAL,GAAiB,EAAjB;CANJ;;;AAUAR,UAAUS,SAAV,CAAoBC,GAApB,GAA0B,UAAUA,GAAV,EAAe;SAChCN,QAAL,GAAiBM,MAAM,CAAP,GAAY,CAAC,CAAb,GAAiB,OAAOA,GAAxC;WACO,IAAP;CAFJ;;;AAMAV,UAAUS,SAAV,CAAoBE,GAApB,GAA0B,UAAUC,QAAV,EAAoB;SACrCJ,SAAL,CAAeK,IAAf,CAAoBD,QAApB;WACO,IAAP;CAFJ;;;AAMAZ,UAAUS,SAAV,CAAoBK,KAApB,GAA4B,YAAY;SAC/BN,SAAL,CAAeO,MAAf,CAAsB,CAAtB,EAAyB,KAAKP,SAAL,CAAeQ,MAAxC;WACO,IAAP;CAFJ;;;AAMAhB,UAAUS,SAAV,CAAoBQ,IAApB,GAA2B,UAAUL,QAAV,EAAoB;SACtCE,KAAL,GAAaH,GAAb,CAAiBC,QAAjB;WACO,IAAP;CAFJ;;AAKAZ,UAAUS,SAAV,CAAoBS,IAApB,GAA2B,YAAY;;;SAC9Bf,OAAL,GAAe,IAAf;;QAEMS,WAAW,SAAXA,QAAW,GAAM;YACf,CAAC,MAAKT,OAAV,EAAmB;;;;YAIbgB,MAAM,IAAIb,IAAJ,GAAWC,OAAX,EAAZ;YACMa,QAAQD,MAAM,MAAKd,IAAzB;;YAEI,MAAKD,QAAL,GAAgB,CAAhB,IAAqBgB,QAAQ,MAAKhB,QAAtC,EAAgD;kBACvCC,IAAL,GAAYc,MAAOC,QAAQ,MAAKhB,QAAhC;kBACKI,SAAL,CAAea,OAAf,CAAuB,UAACC,EAAD,EAAQ;sBACtBpB,KAAL,IAAc,CAAd;;aADJ;;;cAMCD,EAAL,GAAUsB,OAAOC,qBAAP,CAA6BZ,QAA7B,CAAV;KAhBJ;;SAmBKX,EAAL,GAAUsB,OAAOC,qBAAP,CAA6BZ,QAA7B,CAAV;WACO,IAAP;CAvBJ;;AA0BAZ,UAAUS,SAAV,CAAoBgB,IAApB,GAA2B,YAAY;SAC9BtB,OAAL,GAAe,KAAf;SACKD,KAAL,GAAa,CAAb;WACO,IAAP;CAHJ;;AAMAF,UAAUS,SAAV,CAAoBiB,KAApB,GAA4B,YAAY;SAC/BvB,OAAL,GAAe,KAAf;WACO,IAAP;CAFJ;;AAKAH,UAAUS,SAAV,CAAoBkB,MAApB,GAA6B,YAAY;SAChCF,IAAL;WACOG,oBAAP,CAA4B,KAAK3B,EAAjC;SACKA,EAAL,GAAU,IAAV;WACO,IAAP;CAJJ;;AAOAD,UAAUS,SAAV,CAAoBoB,MAApB,GAA6B,YAAY;QACjC,KAAK1B,OAAT,EAAkB;aACTuB,KAAL;KADJ,MAEO;aACER,IAAL;;WAEG,IAAP;CANJ,CASA;;ACtFA,IAAMY,aAAWP,OAAOO,QAAxB;AACA,IAAMC,aAAa,QAAnB;;AAEA,IAAMC,WAAW,SAAXA,QAAW,GAAY;QACnBC,SAASH,WAASI,aAAT,CAAuB,QAAvB,CAAf;WACOC,SAAP,GAAmBJ,UAAnB;QACMK,MAAMH,OAAOI,UAAP,CAAkB,IAAlB,CAAZ;;SAEKJ,MAAL,GAAcA,MAAd;SACKG,GAAL,GAAWA,GAAX;CANJ;;AASAJ,SAASvB,SAAT,CAAmB6B,MAAnB,GAA4B,UAAUA,MAAV,EAAkB;;;WACnCC,IAAP,CAAYD,MAAZ,EAAoBjB,OAApB,CAA4B,UAACmB,GAAD,EAAS;YAC7BA,OAAO,MAAKJ,GAAhB,EAAqB;kBACZA,GAAL,CAASI,GAAT,IAAgBF,OAAOE,GAAP,CAAhB;;KAFR;CADJ;;AAQAR,SAASvB,SAAT,CAAmBK,KAAnB,GAA2B,YAAY;SAC9BsB,GAAL,CAASK,SAAT,CAAmB,CAAnB,EAAsB,CAAtB,EAAyB,KAAKR,MAAL,CAAYS,KAArC,EAA4C,KAAKT,MAAL,CAAYU,MAAxD;CADJ;;AAIAX,SAASvB,SAAT,CAAmBmC,IAAnB,GAA0B,YAAY;SAC7BR,GAAL,CAASS,QAAT,CAAkB,CAAlB,EAAqB,CAArB,EAAwB,KAAKZ,MAAL,CAAYS,KAApC,EAA2C,KAAKT,MAAL,CAAYU,MAAvD;CADJ,CAIA;;AC5BA,IAAMG,QAAQ;YACF;eACG,GADH;gBAEI,GAFJ;qBAGS,yBAHT;mBAIO,oBAJP;mBAKO;KANL;;;YAUF,gBAAUC,QAAV,EAAoBC,KAApB,EAA2B;;;gBACvBA,SAAS,EAAjB;eACOT,IAAP,CAAY,KAAKQ,QAAL,CAAZ,EAA4B1B,OAA5B,CAAoC,UAACmB,GAAD,EAAS;kBACnCA,GAAN,IAAc,OAAOQ,MAAMR,GAAN,CAAP,KAAsB,WAAvB,GAAsCQ,MAAMR,GAAN,CAAtC,GAAmD,MAAKO,QAAL,EAAeP,GAAf,CAAhE;SADJ;eAGOQ,KAAP;;;CAfR,CAoBA;;ACpBA,IAAMC,UAAU;;;;;;cAMF,kBAAUb,GAAV,EAAec,IAAf,EAAqBC,EAArB,EAAyBC,KAAzB,EAAgC;YAClC,CAACF,IAAL,EAAW;;;YAGPG,IAAJ;;YAEIC,SAAJ,GAAgBF,KAAhB;YACIG,WAAJ,GAAkBH,KAAlB;;YAEII,WAAJ,CAAgB,CAAC,CAAD,EAAI,CAAJ,CAAhB;;YAEIC,SAAJ;YACIC,MAAJ,CAAWR,KAAKS,CAAhB,EAAmBT,KAAKU,CAAxB;YACIC,MAAJ,CAAWV,GAAGQ,CAAd,EAAiBR,GAAGS,CAApB;YACIE,MAAJ;YACIC,SAAJ;;YAEIC,OAAJ;KAvBQ;;eA0BD,mBAAU5B,GAAV,EAAe6B,KAAf,EAAsBC,IAAtB,EAA4Bd,KAA5B,EAAmC;YACtCC,IAAJ;;YAEIC,SAAJ,GAAgBF,KAAhB;YACIG,WAAJ,GAAkBH,KAAlB;;YAEIe,QAAJ,MAAgBD,IAAhB,EAAwBD,MAAMN,CAAN,GAAU,EAAlC,EAAsCM,MAAML,CAAN,GAAU,EAAhD;YACIf,QAAJ,CAAaoB,MAAMN,CAAN,GAAU,CAAvB,EAA0BM,MAAML,CAAN,GAAU,CAApC,EAAuC,EAAvC,EAA2C,EAA3C;;YAEII,OAAJ;KAnCQ;;gBAsCA,oBAAU5B,GAAV,EAAe6B,KAAf,EAAsBC,IAAtB,EAA4Bd,KAA5B,EAAmC;YACvCC,IAAJ;;YAEIC,SAAJ,GAAgBF,KAAhB;;YAEIe,QAAJ,MAAgBD,IAAhB,EAAwBD,MAAMN,CAAN,GAAU,EAAlC,EAAsCM,MAAML,CAAN,GAAU,EAAhD;YACIH,SAAJ;YACIW,GAAJ,CAAQH,MAAMN,CAAd,EAAiBM,MAAML,CAAvB,EAA0B,CAA1B,EAA6B,CAA7B,EAAgC,IAAIS,KAAKC,EAAzC;YACI1B,IAAJ;;YAEImB,SAAJ;YACIC,OAAJ;KAjDQ;;gBAoDA,oBAAU5B,GAAV,EAAe6B,KAAf,EAAsBM,MAAtB,EAA8BL,IAA9B,EAAoCd,KAApC,EAA2C;YAC/CC,IAAJ;;YAEII,SAAJ;YACIH,SAAJ,GAAgBF,KAAhB;YACIG,WAAJ,GAAkBH,KAAlB;YACIoB,SAAJ,GAAgB,GAAhB;YACIL,QAAJ,MAAgBD,IAAhB,EAAwBK,OAAOZ,CAAP,GAAW,EAAnC,EAAuCY,OAAOX,CAA9C;YACIf,QAAJ,CAAa0B,OAAOZ,CAAP,GAAW,CAAxB,EAA2BY,OAAOX,CAAP,GAAW,CAAtC,EAAyC,EAAzC,EAA6C,EAA7C;YACIF,MAAJ,CAAWO,MAAMN,CAAjB,EAAoBM,MAAML,CAA1B;YACIC,MAAJ,CAAWU,OAAOZ,CAAlB,EAAqBY,OAAOX,CAA5B;YACIE,MAAJ;;YAEIC,SAAJ;YACIC,OAAJ;KAlEQ;;qBAqEK,yBAAU5B,GAAV,EAAeqC,IAAf,EAAqBrB,KAArB,EAA4B;YACnCsB,SAASD,KAAKC,MAAL,EAAf;YACI,CAACD,KAAKC,MAAL,EAAL,EAAoB;;;YAGhBrB,IAAJ;;YAEIC,SAAJ,GAAgBF,KAAhB;YACIG,WAAJ,GAAkBH,KAAlB;YACIoB,SAAJ,GAAgB,GAAhB;;YAEIhB,WAAJ,CAAgB,CAAC,CAAD,EAAI,CAAJ,CAAhB;YACImB,UAAJ,CAAeD,OAAOE,GAAP,CAAWjB,CAA1B,EAA6Be,OAAOE,GAAP,CAAWhB,CAAxC,EAA2Cc,OAAOG,GAAP,CAAWlB,CAAX,GAAee,OAAOE,GAAP,CAAWjB,CAArE,EAAwEe,OAAOG,GAAP,CAAWjB,CAAX,GAAec,OAAOE,GAAP,CAAWhB,CAAlG;;YAEIH,SAAJ;YACIC,MAAJ,CAAWgB,OAAOI,MAAP,CAAcnB,CAAzB,EAA4Be,OAAOE,GAAP,CAAWhB,CAAvC;YACIC,MAAJ,CAAWa,OAAOI,MAAP,CAAcnB,CAAzB,EAA4Be,OAAOG,GAAP,CAAWjB,CAAvC;YACIF,MAAJ,CAAWgB,OAAOE,GAAP,CAAWjB,CAAtB,EAAyBe,OAAOI,MAAP,CAAclB,CAAvC;YACIC,MAAJ,CAAWa,OAAOG,GAAP,CAAWlB,CAAtB,EAAyBe,OAAOI,MAAP,CAAclB,CAAvC;YACIE,MAAJ;;YAEIC,SAAJ;YACIC,OAAJ;KA3FQ;;;;;;UAkGN,cAAU5B,GAAV,EAAe2C,IAAf,EAAqBd,KAArB,EAA4B;YAC1B,CAACc,IAAL,EAAW;;;YAGPrB,MAAJ,CAAWqB,KAAKpB,CAAhB,EAAmBoB,KAAKnB,CAAxB;YACIC,MAAJ,CAAWI,MAAMN,CAAjB,EAAoBM,MAAML,CAA1B;KAvGQ;;gBA0GA,oBAAUxB,GAAV,EAAe2C,IAAf,EAAqBd,KAArB,EAA4B;YAChC,CAACc,IAAL,EAAW;;;;YAILC,QAASD,QAAQ,OAAOA,KAAKE,OAAZ,KAAwB,WAAjC,GAAgDF,KAAKE,OAAL,CAAajE,MAA7D,GAAsE,CAApF;YACMkE,SAAU,OAAOjB,MAAMgB,OAAb,KAAyB,WAA1B,GAAyChB,MAAMgB,OAAN,CAAcjE,MAAvD,GAAgE,CAA/E;;;YAGI,CAACgE,KAAD,IAAU,CAACE,MAAf,EAAuB;gBACfrB,MAAJ,CAAWI,MAAMN,CAAjB,EAAoBM,MAAML,CAA1B;;;;YAIAoB,QAAQ,CAAR,IAAaE,SAAS,CAA1B,EAA6B;gBACrBC,aAAJ,CAAkBJ,KAAKE,OAAL,CAAa,CAAb,EAAgBtB,CAAlC,EAAqCoB,KAAKE,OAAL,CAAa,CAAb,EAAgBrB,CAArD,EAAwDK,MAAMgB,OAAN,CAAc,CAAd,EAAiBtB,CAAzE,EAA4EM,MAAMgB,OAAN,CAAc,CAAd,EAAiBrB,CAA7F,EAAgGK,MAAMN,CAAtG,EAAyGM,MAAML,CAA/G;;;;YAIA,CAACoB,KAAD,IAAUE,MAAd,EAAsB;gBACdE,gBAAJ,CAAqBnB,MAAMgB,OAAN,CAAc,CAAd,EAAiBtB,CAAtC,EAAyCM,MAAMgB,OAAN,CAAc,CAAd,EAAiBrB,CAA1D,EAA6DK,MAAMN,CAAnE,EAAsEM,MAAML,CAA5E;;;;YAIAoB,SAAS,CAACE,MAAd,EAAsB;gBACdE,gBAAJ,CAAqBL,KAAKE,OAAL,CAAa,CAAb,EAAgBtB,CAArC,EAAwCoB,KAAKE,OAAL,CAAa,CAAb,EAAgBrB,CAAxD,EAA2DK,MAAMN,CAAjE,EAAoEM,MAAML,CAA1E;;;;CAnIZ,CAyIA;;ACzIA;;;;;;;;;;CAAA;;AAuBA,AAEA,IAAMyB,QAAQ9D,OAAO8D,KAArB;;AAEA,IAAMC,eAAe,SAAfA,YAAe,CAAUC,KAAV,EAAiB;WAC3B,IAAIF,MAAMG,IAAV,CAAeD,MAAMC,IAAN,CAAWC,QAA1B,EAAoCF,MAAMC,IAAN,CAAWE,WAA/C,EAA4DH,MAAMC,IAAN,CAAWG,WAAvE,EAAoFJ,MAAMK,MAA1F,CAAP;CADJ;;AAIA,IAAMC,gBAAgB,SAAhBA,aAAgB,CAAUpB,IAAV,EAAgBc,KAAhB,EAAuB;QACnCrC,OAAO,IAAImC,MAAMS,KAAN,CAAYC,SAAhB,CAA0B,CAA1B,EAA6BR,MAAMtD,MAAN,CAAaU,MAAb,GAAsB,CAAnD,CAAb;QACMQ,KAAK,IAAIkC,MAAMS,KAAN,CAAYC,SAAhB,CAA0BR,MAAMtD,MAAN,CAAaS,KAAvC,EAA8C6C,MAAMtD,MAAN,CAAaU,MAAb,GAAsB,CAApE,CAAX;;QAEMqD,MAAM,IAAIX,MAAMY,IAAV,CAAe/C,IAAf,EAAqBC,EAArB,EAAyBsB,KAAKzD,MAAL,EAAzB,CAAZ;WACO,IAAIqE,MAAMa,OAAV,CAAkBF,IAAIvB,IAAtB,EAA4BA,IAA5B,EAAkCc,MAAMY,KAAxC,CAAP;CALJ;;AAQA,IAAMC,UAAU,SAAVA,OAAU,CAAUC,OAAV,EAAmB;QAC3BA,QAAQC,QAAR,EAAJ,EAAwB;gBACZC,OAAR;;YAEIC,QAAR;CAJJ;;AAOA,IAAMC,OAAO,SAAPA,IAAO,CAAUhC,IAAV,EAAgBc,KAAhB,EAAuBtD,MAAvB,EAA+B;WACjCG,GAAP,CAAWiB,IAAX;WACOjB,GAAP,CAAWmB,WAAX,GAAyBgC,MAAMtD,MAAN,CAAasB,WAAtC;WACOnB,GAAP,CAAWoC,SAAX,GAAuBe,MAAMtD,MAAN,CAAauC,SAApC;WACOpC,GAAP,CAAWkB,SAAX,GAAuBiC,MAAMtD,MAAN,CAAaqB,SAApC;;QAEMtC,SAASyD,KAAKiC,MAAL,CAAY1F,MAA3B;QACI+D,aAAJ;QACId,cAAJ;QACI0C,UAAJ;;;WAGOvE,GAAP,CAAWqB,SAAX;WACOrB,GAAP,CAAWsB,MAAX,CAAkBe,KAAKmC,KAAL,GAAajD,CAA/B,EAAkCc,KAAKmC,KAAL,GAAahD,CAA/C;SACK+C,IAAI,CAAT,EAAYA,IAAI3F,MAAhB,EAAwB2F,KAAK,CAA7B,EAAgC;eACrBlC,KAAKM,IAAL,CAAU4B,CAAV,CAAP;gBACQlC,KAAKoC,GAAL,CAASF,CAAT,CAAR;gBACgBG,UAAhB,CAA2B7E,OAAOG,GAAlC,EAAuC2C,IAAvC,EAA6Cd,KAA7C;;WAEG7B,GAAP,CAAWQ,IAAX;WACOR,GAAP,CAAW0B,MAAX;WACO1B,GAAP,CAAW4B,OAAX;;;SAGK2C,IAAI,CAAT,EAAYA,IAAI3F,MAAhB,EAAwB2F,KAAK,CAA7B,EAAgC;eACrBlC,KAAKM,IAAL,CAAU4B,CAAV,CAAP;gBACQlC,KAAKoC,GAAL,CAASF,CAAT,CAAR;;YAEIpB,MAAMwB,WAAV,EAAuB;gBACf9C,MAAMgB,OAAN,KAAkB+B,SAAlB,IAA+B/C,MAAMgB,OAAN,CAAcjE,MAAd,GAAuB,CAA1D,EAA6D;wBACzCiG,UAAhB,CAA2BhF,OAAOG,GAAlC,EAAuC6B,KAAvC,EAA8CA,MAAMgB,OAAN,CAAc,CAAd,CAA9C,EAAgE0B,IAAI,OAApE,EAA6E,KAA7E;wBACgBM,UAAhB,CAA2BhF,OAAOG,GAAlC,EAAuC6B,KAAvC,EAA8CA,MAAMgB,OAAN,CAAc,CAAd,CAA9C,EAAgE0B,IAAI,QAApE,EAA8E,MAA9E;;;YAGJpB,MAAM2B,UAAV,EAAsB;oBACFC,SAAhB,CAA0BlF,OAAOG,GAAjC,EAAsC6B,KAAtC,EAA6C0C,IAAI,QAAjD,EAA2D,SAA3D;;YAEApB,MAAM6B,QAAV,EAAoB;oBACAC,QAAhB,CAAyBpF,OAAOG,GAAhC,EAAqC2C,IAArC,EAA2Cd,KAA3C,EAAkD,SAAlD;;YAEAsB,MAAM+B,UAAV,EAAsB;oBACFC,eAAhB,CAAgCtF,OAAOG,GAAvC,EAA4CqC,IAA5C,EAAkD,QAAlD;;;WAGDrC,GAAP,CAAW4B,OAAX;CA5CJ;;AA+CA,WAAe,EAACwD;;;;;;;;;;;;KAAD,qBAAA;UACL,MADK;WAEJ,CACH,WADG,EAEH,UAFG,EAGH,QAHG,CAFI;UAOL,gBAAY;eACP;mBACI;sBACG;6BACO;iBAFV;wBAIK,IAJL;wBAKK,KAAKC,QAAL,CAAcC,MAAd,CAAqB,QAArB,EAA+B;iCACtB,OADsB;+BAExB;iBAFP,CALL;sBASG;8BACQ,CADR;iCAEW,GAFX;iCAGW;iBAZd;uBAcI;aAfR;oBAiBK,IAjBL;qBAkBM;SAlBb;KARO;WAAA,qBA6BD;;;KA7BC;;aAiCF;cACC,gBAAY;iBACTnC,KAAL,CAAWK,MAAX,GAAoB,IAAIP,MAAMS,KAAN,CAAYC,SAAhB,CAA0B,KAAKR,KAAL,CAAWtD,MAAX,CAAkBS,KAAlB,GAA0B,CAApD,EAAuD,KAAK6C,KAAL,CAAWtD,MAAX,CAAkBU,MAAlB,GAA2B,CAAlF,CAApB;SAFC;gBAIG,kBAAY;iBACXgF,MAAL,GAAcrC,aAAa,KAAKC,KAAlB,CAAd;iBACKc,OAAL,GAAeR,cAAc,KAAK8B,MAAL,CAAYlD,IAA1B,EAAgC,KAAKc,KAArC,CAAf;;KAvCG;WAAA,qBA0CD;;;aACDtD,MAAL,CAAYW,IAAZ;;aAEKgF,SAAL,CACClH,GADD,CACK,EADL,EAECO,IAFD,CAEM,YAAM;;gBAEJ,CAAC,MAAKsE,KAAL,CAAWK,MAAhB,EAAwB;sBACfiC,IAAL;sBACKC,MAAL;;;;oBAII,MAAKzB,OAAb;iBACK,MAAKsB,MAAL,CAAYlD,IAAjB,EAAuB,MAAKc,KAA5B,EAAmC,MAAKtD,MAAxC;;kBAEKA,MAAL,CAAYW,IAAZ;SAbJ,EAgBC1B,IAhBD;;CA7CR;;AC7FA,YAAe;;;;;aAKF,iBAAU0D,GAAV,EAAeC,GAAf,EAAoB;cACnBD,OAAO,CAAC,CAAd;cACMC,OAAO,CAAb;;eAEOR,KAAK0D,MAAL,MAAiBlD,MAAMD,GAAvB,IAA8BA,GAArC;KATO;;;;;;YAgBH,gBAAUoD,GAAV,EAAepD,GAAf,EAAoBC,GAApB,EAAyB;cACtBD,QAAQ,KAAR,IAAiBoD,MAAMpD,GAAxB,GAA+BA,GAA/B,GAAqCoD,GAA3C;cACOnD,QAAQ,KAAR,IAAiBmD,MAAMnD,GAAxB,GAA+BA,GAA/B,GAAqCmD,GAA3C;eACOA,GAAP;KAnBO;;;;;;kBA0BG,sBAAUC,IAAV,EAAgBC,KAAhB,EAAoC;YAAbC,MAAa,uEAAJ,EAAI;;YAC1CA,OAAOnH,MAAX,EAAmB;gBACViH,OAAOC,MAAM,CAAN,CAAR,GAAoBC,OAAO,CAAP,CAAxB,EAAmC;wBACvBD,MAAM,CAAN,CAAR;;gBAECD,OAAOC,MAAM,CAAN,CAAR,GAAoBC,OAAO,CAAP,CAAxB,EAAmC;wBACvBD,MAAM,CAAN,CAAR;;;;eAIDD,OAAO,KAAKG,OAAL,CAAaF,MAAM,CAAN,CAAb,EAAuBA,MAAM,CAAN,CAAvB,CAAd;KApCO;;;;;;aA2CF,iBAAUG,GAAV,EAAe;eACbA,OAAOhE,KAAKC,EAAL,GAAU,GAAjB,CAAP;;;CA5CR;;ACAA;;;;;;;;;;CAAA;;AAwDA,IAAMgE,QAAQ,SAARA,KAAQ,CAAUC,GAAV,EAAeC,KAAf,EAAsB;QAC5B,CAACD,GAAD,IAAQA,QAAQ,aAApB,EAAmC;eACxB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAP;;QAEA5B,UAAJ;QACI8B,UAAJ;QACMC,UAAUH,IAAID,KAAJ,CAAU,MAAV,CAAhB;SACK3B,IAAI,CAAT,EAAYA,IAAI+B,QAAQ1H,MAAxB,EAAgC2F,KAAK,CAArC,EAAwC;YAChCgC,SAASD,QAAQ/B,CAAR,CAAT,EAAqB,EAArB,CAAJ;YACI,CAACiC,MAAMH,CAAN,CAAL,EAAe;kBACL9B,CAAN,IAAW+B,QAAQ/B,CAAR,CAAX;;;WAGD+B,OAAP;CAbJ;;AAgBA,kBAAe,EAAClB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAAD,qBAAA;UACL,aADK;WAEJ,CACH,MADG,EAEH,MAFG,CAFI;UAML,gBAAY;eACP;kBACGc,MAAM,KAAKO,IAAX,EAAiB,CAAC,CAAD,EAAI,CAAJ,EAAO,CAAP,EAAU,CAAV,CAAjB;SADV;KAPO;cAWD;oBACM,sBAAY;mBACb,UAAU,KAAKC,IAAL,CAAUC,QAAV,EAAV,GAAiC,GAAxC;SAFE;4BAIc,8BAAY;gBACtBC,MAAM,CAAE,KAAKF,IAAL,CAAU,CAAV,IAAe,GAAhB,GAAwB,KAAKA,IAAL,CAAU,CAAV,IAAe,GAAvC,GAA+C,KAAKA,IAAL,CAAU,CAAV,IAAe,GAA/D,IAAuE,IAAnF;mBACQE,OAAO,GAAR,GAAe,OAAf,GAAyB,OAAhC;;KAjBG;aAoBF;kBACK,oBAAY;iBACbC,OAAL,CAAaC,KAAb,CAAmB,kBAAkB,KAAKC,IAA1C,EAAgD,KAAKC,UAArD;;;CAtBZ;;ACxEA;;;;;;;;;;CAAA;;AA4BA,qBAAe,EAAC5B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAAD,qBAAA;UACL,gBADK;WAEJ,CACH,MADG,CAFI;aAKF;gBACG,kBAAY;iBACXyB,OAAL,CAAaC,KAAb,CAAmB,0BAAnB;;;CAPZ;;AC5BA;;;;;;;;;;CAAA;;AAYA,UAAe,EAAC1B;;;;;;;;;;;;;;;KAAD,qBAAA;UACL,KADK;WAEJ,CAAC,MAAD,EAAS,OAAT,CAFI;UAGL,gBAAY;eACP;kBACG;SADV;;CAJR;;ACZA;;;;;;;;;;CAAA;;AA8GA,AACA,AAEA,AACA,AACA,AAEA,IAAMnC,UAAQ9D,OAAO8D,KAArB;;;AAGA,IAAMe,YAAU,SAAVA,SAAU,CAAU3B,IAAV,EAAgBc,KAAhB,EAAuB;QAC7BoC,SAASpC,MAAMoC,MAArB;YACQA,MAAR;aACS,QAAL;aACK,SAAL;;;oBAGU0B,MAAN,CAAaC,UAAb,CAAwB7E,IAAxB,EAA8Bc,MAAMoC,MAAN,EAAc4B,OAA5C;;WAED9E,IAAP;CATJ;;AAYA,IAAMgC,SAAO,SAAPA,MAAO,CAAUhC,IAAV,EAAgBc,KAAhB,EAAuBtD,MAAvB,EAA+B;WACjCG,GAAP,CAAWiB,IAAX;WACOjB,GAAP,CAAWmB,WAAX,GAAyBgC,MAAMtD,MAAN,CAAasB,WAAtC;WACOnB,GAAP,CAAWoC,SAAX,GAAuBe,MAAMtD,MAAN,CAAauC,SAApC;WACOpC,GAAP,CAAWkB,SAAX,GAAuBiC,MAAMtD,MAAN,CAAaqB,SAApC;;QAEMtC,SAASyD,KAAKiC,MAAL,CAAY1F,MAA3B;QACI+D,aAAJ;QACId,cAAJ;QACI0C,UAAJ;;;WAGOvE,GAAP,CAAWqB,SAAX;WACOrB,GAAP,CAAWsB,MAAX,CAAkBe,KAAKmC,KAAL,GAAajD,CAA/B,EAAkCc,KAAKmC,KAAL,GAAahD,CAA/C;SACK+C,IAAI,CAAT,EAAYA,IAAI3F,MAAhB,EAAwB2F,KAAK,CAA7B,EAAgC;eACrBlC,KAAKM,IAAL,CAAU4B,CAAV,CAAP;gBACQlC,KAAKoC,GAAL,CAASF,CAAT,CAAR;gBACgBG,UAAhB,CAA2B7E,OAAOG,GAAlC,EAAuC2C,IAAvC,EAA6Cd,KAA7C;;WAEG7B,GAAP,CAAWQ,IAAX;WACOR,GAAP,CAAW0B,MAAX;WACO1B,GAAP,CAAW4B,OAAX;;;SAGK2C,IAAI,CAAT,EAAYA,IAAI3F,MAAhB,EAAwB2F,KAAK,CAA7B,EAAgC;eACrBlC,KAAKM,IAAL,CAAU4B,CAAV,CAAP;gBACQlC,KAAKoC,GAAL,CAASF,CAAT,CAAR;;YAEIpB,MAAMwB,WAAV,EAAuB;gBACf9C,MAAMgB,OAAN,KAAkB+B,SAAlB,IAA+B/C,MAAMgB,OAAN,CAAcjE,MAAd,GAAuB,CAA1D,EAA6D;wBACzCiG,UAAhB,CAA2BhF,OAAOG,GAAlC,EAAuC6B,KAAvC,EAA8CA,MAAMgB,OAAN,CAAc,CAAd,CAA9C,EAAgE0B,IAAI,OAApE,EAA6E,KAA7E;wBACgBM,UAAhB,CAA2BhF,OAAOG,GAAlC,EAAuC6B,KAAvC,EAA8CA,MAAMgB,OAAN,CAAc,CAAd,CAA9C,EAAgE0B,IAAI,QAApE,EAA8E,MAA9E;;;YAGJpB,MAAM2B,UAAV,EAAsB;oBACFC,SAAhB,CAA0BlF,OAAOG,GAAjC,EAAsC6B,KAAtC,EAA6C0C,IAAI,QAAjD,EAA2D,SAA3D;;YAEApB,MAAM6B,QAAV,EAAoB;oBACAC,QAAhB,CAAyBpF,OAAOG,GAAhC,EAAqC2C,IAArC,EAA2Cd,KAA3C,EAAkD,SAAlD;;YAEAsB,MAAM+B,UAAV,EAAsB;oBACFC,eAAhB,CAAgCtF,OAAOG,GAAvC,EAA4CqC,IAA5C,EAAkD,QAAlD;;;WAGDrC,GAAP,CAAW4B,OAAX;CA5CJ;;;;;;AAmDA,IAAMwF,UAAU;;YAEJ,gBAAUjE,KAAV,EAAiB;YACfd,OAAO,IAAIY,QAAMoE,IAAV,CAAelE,MAAMK,MAAN,CAAajC,CAA5B,EAA+B4B,MAAMK,MAAN,CAAahC,CAA5C,CAAb;aACKjD,GAAL,CAAS,EAAT,EAAa,EAAb;aACKA,GAAL,CAAS,GAAT,EAAc,EAAd;aACKA,GAAL,CAAS,GAAT,EAAc,GAAd;aACKA,GAAL,CAAS,EAAT,EAAa,GAAb;aACK+I,KAAL;aACKC,KAAL,CAAW,GAAX,EAAgB,GAAhB;eACOlF,IAAP;KAVQ;;UAaN,cAAUc,KAAV,EAAiB;YACbqE,MAAOrE,MAAMK,MAAN,CAAajC,CAAb,GAAiB4B,MAAMK,MAAN,CAAahC,CAA/B,GAAoC2B,MAAMK,MAAN,CAAajC,CAAjD,GAAqD4B,MAAMK,MAAN,CAAahC,CAA9E;YACMiG,SAASD,MAAM,GAArB;YACME,QAAQF,MAAMC,MAApB;YACME,QAAQF,MAAd;YACMlC,SAAS,IAAItC,QAAMG,IAAV,CAAeD,MAAMyE,IAAN,CAAWvE,QAA1B,EAAoCqE,KAApC,EAA2CC,KAA3C,EAAkDxE,MAAMK,MAAxD,CAAf;eACO+B,OAAOlD,IAAd;KAnBQ;;YAsBJ,gBAAUc,KAAV,EAAiB;YACfqE,MAAOrE,MAAMK,MAAN,CAAajC,CAAb,GAAiB4B,MAAMK,MAAN,CAAahC,CAA/B,GAAoC2B,MAAMK,MAAN,CAAajC,CAAjD,GAAqD4B,MAAMK,MAAN,CAAahC,CAA9E;YACMiG,SAASD,MAAM,GAArB;YACME,QAAQF,MAAMC,MAApB;YACME,QAAQ,EAAd;YACMpC,SAAS,IAAItC,QAAMG,IAAV,CAAeD,MAAM0E,MAAN,CAAaxE,QAA5B,EAAsCqE,KAAtC,EAA6CC,KAA7C,EAAoDxE,MAAMK,MAA1D,CAAf;eACOqE,MAAP,CAAc1E,MAAM0E,MAAN,CAAaC,YAA3B;eACOvC,OAAOlD,IAAd;KA7BQ;;aAgCH,iBAAUc,KAAV,EAAiB;YAChBqE,MAAOrE,MAAMK,MAAN,CAAajC,CAAb,GAAiB4B,MAAMK,MAAN,CAAahC,CAA/B,GAAoC2B,MAAMK,MAAN,CAAajC,CAAjD,GAAqD4B,MAAMK,MAAN,CAAahC,CAA9E;YACMiG,SAASD,MAAM,GAArB;YACME,QAAQF,MAAMC,MAApB;YACME,QAAQF,MAAd;YACMlC,SAAS,IAAItC,QAAMG,IAAV,CAAeD,MAAM4E,OAAN,CAAc1E,QAA7B,EAAuCqE,KAAvC,EAA8CC,KAA9C,EAAqDxE,MAAMK,MAA3D,CAAf;eACOuE,OAAP,CAAe5E,MAAM4E,OAAN,CAAcC,YAA7B;eACOzC,OAAOlD,IAAd;KAvCQ;;UA0CN,cAAUc,KAAV,EAAiB;YACbd,OAAO,IAAIY,QAAMoE,IAAV,EAAb;aACK/C,MAAL,GAAc,CACV,IAAIrB,QAAMS,KAAN,CAAYC,SAAhB,CAA0B,EAA1B,EAA8B,EAA9B,CADU,EAEV,IAAIV,QAAMS,KAAN,CAAYC,SAAhB,CAA0B,GAA1B,EAA+B,GAA/B,CAFU,EAGV,IAAIV,QAAMS,KAAN,CAAYC,SAAhB,CAA0B,GAA1B,EAA+B,EAA/B,CAHU,EAIV,IAAIV,QAAMS,KAAN,CAAYC,SAAhB,CAA0B,GAA1B,EAA+B,GAA/B,CAJU,EAKV,IAAIV,QAAMS,KAAN,CAAYC,SAAhB,CAA0B,GAA1B,EAA+B,EAA/B,CALU,EAMV,IAAIV,QAAMS,KAAN,CAAYC,SAAhB,CAA0B,GAA1B,EAA+B,EAA/B,CANU,EAOV,IAAIV,QAAMS,KAAN,CAAYC,SAAhB,CAA0B,GAA1B,EAA+B,GAA/B,CAPU,EAQV,IAAIV,QAAMS,KAAN,CAAYC,SAAhB,CAA0B,GAA1B,EAA+B,EAA/B,CARU,CAAd;aAUK4D,KAAL,CAAW,CAAX,EAAc,CAAd;aACKU,SAAL,CAAe,EAAf,EAAmB9E,MAAMK,MAAN,CAAahC,CAAb,GAAiB,CAApC;eACOa,IAAP;KAxDQ;;YA2DJ,gBAAUc,KAAV,EAAiBtD,MAAjB,EAAyB;YACvBwC,OAAO,IAAIY,QAAMoE,IAAV,EAAb;YACMhE,WAAW6E,MAAMlC,OAAN,CAAc,EAAd,EAAkB,GAAlB,CAAjB;YACMF,QAAQ,GAAd;YACIqC,aAAJ;aACK5J,GAAL,CAAS,IAAI0E,QAAMmF,KAAV,CAAgBvI,OAAOS,KAAP,GAAe,CAA/B,EAAkCT,OAAOU,MAAP,GAAgB,CAAlD,CAAT;aACK,IAAIgE,IAAI,CAAb,EAAgBA,IAAIlB,QAApB,EAA8BkB,KAAK,CAAnC,EAAsC;mBAC3B,IAAItB,QAAMS,KAAN,CAAYC,SAAhB,CACHuE,MAAMlC,OAAN,CAAc,CAACF,KAAf,EAAsBA,KAAtB,IAA+BoC,MAAMlC,OAAN,EAD5B,EAEHkC,MAAMlC,OAAN,CAAc,CAACF,KAAf,EAAsBA,KAAtB,IAA+BoC,MAAMlC,OAAN,EAF5B,CAAP;iBAIKzH,GAAL,CAAS8D,KAAKpE,IAAL,EAAT;iBACKsD,CAAL,GAAS2G,MAAM5F,MAAN,CAAa6F,KAAK5G,CAAlB,EAAqB,CAArB,EAAwB1B,OAAOS,KAA/B,CAAT;iBACKkB,CAAL,GAAS0G,MAAM5F,MAAN,CAAa6F,KAAK3G,CAAlB,EAAqB,CAArB,EAAwB3B,OAAOU,MAA/B,CAAT;iBACKhC,GAAL,CAAS4J,IAAT;;eAEG9F,IAAP;KA3EQ;;aA8EH,iBAAUc,KAAV,EAAiB;YAChBd,OAAO,IAAIY,QAAMoE,IAAV,CAAelE,MAAMK,MAAN,CAAajC,CAA5B,EAA+B4B,MAAMK,MAAN,CAAahC,CAA5C,CAAb;aACKjD,GAAL,CAAS,CAAC,GAAV,EAAe,CAAC,GAAhB;aACK6F,QAAL,CAAc,GAAd,EAAmB,GAAnB;aACKA,QAAL,CAAc,GAAd,EAAmB,CAAC,GAApB;eACO/B,IAAP;;CAnFR;;AAuFA,IAAMgG,WAAW;iBACA,wBADA;eAEF,aAFE;eAGF;CAHf;;AAMA,iBAAe,EAACjD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAAD,qBAAA;UACL,YADK;WAEJ,CACH,WADG,EAEH,UAFG,EAGH,QAHG,CAFI;aAOF,mBAAY;;;aACZkD,GAAL,CAAS,wBAAT,EAAmC,UAAC1C,GAAD,EAAS;kBACnCzC,KAAL,CAAWtD,MAAX,CAAkBqB,SAAlB,GAA8B0E,GAA9B;kBACKzC,KAAL,CAAW3C,IAAX,CAAgB+H,IAAhB,GAAuB,KAAvB;kBACK9C,IAAL;SAHJ;aAKK6C,GAAL,CAAS,0BAAT,EAAqC,UAAC1C,GAAD,EAAS;kBACrCzC,KAAL,CAAWtD,MAAX,CAAkBsB,WAAlB,GAAgCyE,GAAhC;kBACKzC,KAAL,CAAWzB,MAAX,CAAkB6G,IAAlB,GAAyB,KAAzB;kBACK9C,IAAL;SAHJ;aAKK6C,GAAL,CAAS,0BAAT,EAAqC,YAAM;kBAClCE,MAAL;SADJ;KAlBO;WAsBJ;gBAAA,kBACMzH,EADN,EACU;iBACJoC,KAAL,CAAWoC,MAAX,GAAoBxE,GAAG0H,MAAH,CAAUlD,MAA9B;iBACKE,IAAL;;KAzBG;UA4BL,gBAAY;eACP;mBACI;wBACK,IADL;wBAEK,KAAKJ,QAAL,CAAcC,MAAd,CAAqB,QAArB,EAA+B+C,QAA/B,CAFL;wBAGK;0BACE;iBAJP;sBAMG;0BACI;iBAPP;sBASG;0BACI;iBAVP;;6BAaU,IAbV;4BAcS,IAdT;0BAeO,KAfP;4BAgBS,KAhBT;wBAiBM,OAAO,KAAKK,MAAL,CAAYD,MAAZ,CAAmBlD,MAA1B,KAAqC,WAAtC,GAAqD,KAAKmD,MAAL,CAAYD,MAAZ,CAAmBlD,MAAxE,GAAiF,MAjBtF;;wBAmBK;6BACK;iBApBV;sBAsBG;8BACQ,CADR;6BAEO;iBAxBV;wBA0BK;8BACM,CADN;kCAEU;iBA5Bf;yBA8BM;8BACK,CADL;kCAES;iBAhCf;sBAkCG;6BACO;iBAnCV;wBAqCK;6BACK;iBAtCV;yBAwCM;6BACI;;aA1Cd;kBA6CG;SA7CV;KA7BO;gBA6EC;gCAAA;gBAAA;;KA7ED;WAAA,qBAkFD;;aAEDC,SAAL,CAAe3G,IAAf,CAAoB,YAAM,EAA1B,EAA8BU,MAA9B,GAFM;aAGDkG,IAAL;KArFO;;aAuFF;;;cAGC,cAAUF,MAAV,EAAkB;;;gBAChBA,WAAWX,SAAf,EAA0B;qBACjBzB,KAAL,CAAWoC,MAAX,GAAoBA,MAApB;;gBAEAoD,UAAU,IAAd;iBACK9I,MAAL,CAAYnB,KAAZ;;;sBAGUS,OAAOyJ,UAAP,CAAkB,YAAM;;oBAE1B,CAAC,OAAKzF,KAAL,CAAWK,MAAhB,EAAwB;2BACfL,KAAL,CAAWK,MAAX,GAAoB,IAAIP,QAAMS,KAAN,CAAYC,SAAhB,CAA0B,OAAK9D,MAAL,CAAYA,MAAZ,CAAmBS,KAAnB,GAA2B,CAArD,EAAwD,OAAKT,MAAL,CAAYA,MAAZ,CAAmBU,MAAnB,GAA4B,CAApF,CAApB;;uBAEC8B,IAAL,GAAY+E,QAAQ,OAAKjE,KAAL,CAAWoC,MAAnB,EAA2B,OAAKpC,KAAhC,EAAuC,OAAKtD,MAAL,CAAYA,MAAnD,CAAZ;;0BAEQ,OAAKwC,IAAb,EAAmB,OAAKc,KAAxB,EAA+B,OAAKtD,MAAL,CAAYA,MAA3C;uBACK,OAAKwC,IAAV,EAAgB,OAAKc,KAArB,EAA4B,OAAKtD,MAAjC;uBACOgJ,YAAP,CAAoBF,OAApB;aATM,EAUP,GAVO,CAAV;SAXC;;;gBAyBG,kBAAY;;;gBACZA,UAAU,IAAd;iBACK9I,MAAL,CAAYnB,KAAZ;;;sBAGUS,OAAOyJ,UAAP,CAAkB,YAAM;uBACzB,OAAKvG,IAAV,EAAgB,OAAKc,KAArB,EAA4B,OAAKtD,MAAjC;uBACOgJ,YAAP,CAAoBF,OAApB;aAFM,EAGP,GAHO,CAAV;SA9BC;;YAAA,gBAoCApD,MApCA,EAoCQ;iBACJuD,OAAL,CAAarK,IAAb,CAAkB,EAAEqD,MAAM,KAAK4G,MAAL,CAAY5G,IAApB,EAA0B2G,QAAQ,EAAElD,QAAQA,MAAV,EAAlC,EAAlB;;;CA5HZ;;ACpRA;;;;;;;;;;CAAA;;AA2LA,AACA,AACA,AACA,AACA,AAEA,IAAMtC,UAAQ9D,OAAO8D,KAArB;;AAEA,IAAMe,YAAU,SAAVA,SAAU,CAAUuB,MAAV,EAAkBpC,KAAlB,EAAyBtD,MAAzB,EAAiC;;QAEzC,CAACsD,MAAMK,MAAX,EAAmB;cACTA,MAAN,GAAe,IAAIP,QAAMS,KAAN,CAAYC,SAAhB,CAA0B9D,OAAOS,KAAP,GAAe,CAAzC,EAA4CT,OAAOU,MAAP,GAAgB,CAA5D,CAAf;;;QAGAwI,YAAJ;QACI1F,iBAAJ;;YAEQkC,MAAR;;aAES,MAAL;;oBACUkC,SAAS,GAAf;2BACWtE,MAAMkE,IAAN,CAAWhE,QAAtB;oBACM9B,IAAI,CAAC1B,OAAOS,KAAP,GAAgB,IAAImH,MAArB,IAAgCpE,QAA1C;oBACI7B,IAAI3B,OAAOU,MAAP,GAAiB,IAAIkH,MAA7B;sBACM,IAAIxE,QAAMoE,IAAV,EAAN;oBACI9I,GAAJ,CAAQkJ,MAAR,EAAgBA,MAAhB;uBACOpE,WAAW,CAAlB,EAAqB;wBACbe,QAAJ,CAAa7C,CAAb,EAAgBC,CAAhB;wBACI,CAACA,CAAL;gCACY,CAAZ;;;;;aAKH,SAAL;;sBACU,IAAIyB,QAAM+F,OAAV,CAAkB7F,MAAM6F,OAAN,CAAc3F,QAAhC,EAA0CF,MAAM6F,OAAN,CAAcC,MAAxD,EAAgE9F,MAAMK,MAAtE,CAAN;;;;aAIC,WAAL;;sBACU,IAAIP,QAAMiG,SAAV,CAAoB/F,MAAM+F,SAAN,CAAgB5I,KAApC,EAA2C6C,MAAM+F,SAAN,CAAgB3I,MAA3D,EAAmE4C,MAAMK,MAAzE,CAAN;;;;aAIC,MAAL;;sBACU,IAAIP,QAAMG,IAAV,CAAeD,MAAMC,IAAN,CAAWC,QAA1B,EAAoCF,MAAMC,IAAN,CAAWE,WAA/C,EAA4DH,MAAMC,IAAN,CAAWG,WAAvE,EAAoFJ,MAAMK,MAA1F,CAAN;;;;aAIC,KAAL;;sBACU,IAAIP,QAAMkG,GAAV,CAAchG,MAAMgG,GAAN,CAAU9F,QAAxB,EAAkCF,MAAMgG,GAAN,CAAU7F,WAA5C,EAAyDH,MAAMgG,GAAN,CAAU5F,WAAnE,EAAgFJ,MAAMK,MAAtF,CAAN;;;;;;sBAKM,IAAN;;;;;;QAMFnB,OAAQ,OAAO0G,IAAI1G,IAAX,KAAoB,WAArB,GAAoC0G,IAAI1G,IAAxC,GAA+C0G,GAA5D;;;QAGMK,eAAejG,MAAMkG,QAAN,CAAeC,MAAf,CAAsB,UAACC,CAAD,EAAIC,CAAJ,EAAU;eAC1CD,IAAIC,CAAX;KADiB,CAArB;;QAIIJ,YAAJ,EAAkB;aACTnB,SAAL,CAAe9E,MAAMkG,QAAN,CAAe,CAAf,CAAf,EAAkClG,MAAMkG,QAAN,CAAe,CAAf,CAAlC;;;;QAIEI,WAAWtG,MAAMoE,KAAN,CAAY+B,MAAZ,CAAmB,UAACC,CAAD,EAAIC,CAAJ,EAAU;eACnCD,IAAIC,CAAX;KADa,CAAjB;;;QAKIC,aAAa,CAAjB,EAAoB;aACXlC,KAAL,CAAWpE,MAAMoE,KAAN,CAAY,CAAZ,CAAX,EAA2BpE,MAAMoE,KAAN,CAAY,CAAZ,CAA3B;;;;QAIApE,MAAMuG,QAAV,EAAoB;aACXA,QAAL,CAAcxB,MAAMyB,OAAN,CAAcxG,MAAMuG,QAApB,CAAd;;;WAGGrH,IAAP;CA/EJ;;AAmFA,IAAMgC,SAAO,SAAPA,MAAO,CAAUkB,MAAV,EAAkBlD,IAAlB,EAAwBc,KAAxB,EAA+BtD,MAA/B,EAAuC;WACzCG,GAAP,CAAWiB,IAAX;;WAEOjB,GAAP,CAAWkB,SAAX,GAAwBiC,MAAM3C,IAAN,CAAWoJ,IAAX,IAAmBrE,WAAW,MAA/B,GAAyCpC,MAAMtD,MAAN,CAAaqB,SAAtD,GAAkE,aAAzF;WACOlB,GAAP,CAAWmB,WAAX,GAAyBgC,MAAMtD,MAAN,CAAasB,WAAtC;WACOnB,GAAP,CAAWoC,SAAX,GAAuBe,MAAMtD,MAAN,CAAauC,SAApC;;;WAGOpC,GAAP,CAAWqB,SAAX;WACOrB,GAAP,CAAWsB,MAAX,CAAkBe,KAAKmC,KAAL,GAAajD,CAA/B,EAAkCc,KAAKmC,KAAL,GAAahD,CAA/C;SACK8C,MAAL,CAAYrF,OAAZ,CAAoB,UAAC4C,KAAD,EAAQgI,KAAR,EAAkB;YAC9BA,UAAU,CAAd,EAAiB;;;eAGV7J,GAAP,CAAWyB,MAAX,CAAkBI,MAAMN,CAAxB,EAA2BM,MAAML,CAAjC;KAJJ;;;QAQI2B,MAAMtD,MAAN,CAAaqB,SAAjB,EAA4B;eACjBlB,GAAP,CAAWQ,IAAX;;WAEGR,GAAP,CAAW0B,MAAX;;;WAGO1B,GAAP,CAAW2B,SAAX;WACO3B,GAAP,CAAW4B,OAAX;;;QAGMhD,SAASyD,KAAKiC,MAAL,CAAY1F,MAA3B;QACI+D,aAAJ;QACId,cAAJ;QACI0C,UAAJ;;SAEKA,IAAI,CAAT,EAAYA,IAAI3F,MAAhB,EAAwB2F,KAAK,CAA7B,EAAgC;eACrBlC,KAAKM,IAAL,CAAU4B,CAAV,CAAP;gBACQlC,KAAKoC,GAAL,CAASF,CAAT,CAAR;;YAEIpB,MAAM2B,UAAV,EAAsB;oBACFC,SAAhB,CAA0BlF,OAAOG,GAAjC,EAAsC6B,KAAtC,EAA6C0C,IAAI,QAAjD,EAA2D,QAA3D;;YAEApB,MAAM6B,QAAV,EAAoB;oBACAC,QAAhB,CAAyBpF,OAAOG,GAAhC,EAAqC2C,IAArC,EAA2Cd,KAA3C,EAAkD,SAAlD;;YAEAsB,MAAM+B,UAAV,EAAsB;oBACFC,eAAhB,CAAgCtF,OAAOG,GAAvC,EAA4CqC,IAA5C,EAAkD,QAAlD;;;CA5CZ;;AAiDA,IAAMgG,aAAW;iBACA,wBADA;eAEF,wBAFE;eAGF;CAHf;;AAMA,gBAAe,EAACjD;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;KAAD,qBAAA;UACL,SADK;WAEJ,CACH,WADG,EAEH,UAFG,EAGH,QAHG,CAFI;WAOJ;gBAAA,kBACMrE,EADN,EACU;iBACJwE,MAAL,GAAcxE,GAAG0H,MAAH,CAAUlD,MAAxB;iBACKpC,KAAL,CAAWtD,MAAX,GAAoB,KAAKwF,QAAL,CAAcC,MAAd,CAAqB,QAArB,EAA+B+C,UAA/B,CAApB;iBACK5C,IAAL;;KAXG;aAcF,mBAAY;;;aACZ6C,GAAL,CAAS,wBAAT,EAAmC,UAAC1C,GAAD,EAAS;kBACnCzC,KAAL,CAAWtD,MAAX,CAAkBqB,SAAlB,GAA8B0E,GAA9B;kBACKzC,KAAL,CAAW3C,IAAX,CAAgB+H,IAAhB,GAAuB,KAAvB;kBACK9C,IAAL;SAHJ;aAKK6C,GAAL,CAAS,0BAAT,EAAqC,UAAC1C,GAAD,EAAS;kBACrCzC,KAAL,CAAWtD,MAAX,CAAkBsB,WAAlB,GAAgCyE,GAAhC;kBACKzC,KAAL,CAAWzB,MAAX,CAAkB6G,IAAlB,GAAyB,KAAzB;kBACK9C,IAAL;SAHJ;KApBO;UA0BL,gBAAY;eACP;mBACI;wBACK,IADL;wBAEK,KAAKJ,QAAL,CAAcC,MAAd,CAAqB,QAArB,EAA+B+C,UAA/B,CAFL;;sBAIG;0BACI,IADJ;0BAEI,IAFJ;0BAGI;iBAPP;wBASK;0BACE,IADF;0BAEE;iBAXP;;0BAcO,CAAC,CAAD,EAAI,CAAJ,CAdP;uBAeI,CAAC,CAAD,EAAI,CAAJ,CAfJ;0BAgBO,CAhBP;;4BAkBS,KAlBT;0BAmBO,KAnBP;4BAoBS,KApBT;;sBAsBG;8BACQ;iBAvBX;yBAyBM;8BACK,CADL;4BAEG;iBA3BT;sBA6BG;8BACQ,CADR;iCAEW,GAFX;iCAGW;iBAhCd;qBAkCE;8BACS,CADT;iCAEY,GAFZ;iCAGY;iBArCd;2BAuCQ;2BACA,GADA;4BAEC;;aA1Cb;qBA6CMyB,OAAOC,OAAP,EA7CN;oBA8CM,OAAO,KAAKrB,MAAL,CAAYD,MAAZ,CAAmBlD,MAA1B,KAAqC,WAAtC,GAAqD,KAAKmD,MAAL,CAAYD,MAAZ,CAAmBlD,MAAxE,GAAiF;SA9C7F;KA3BO;gBA4EC;gCAAA;;KA5ED;WAAA,qBAgFD;;aAEDC,SAAL,CAAe3G,IAAf,CAAoB,YAAM,EAA1B,EAA8BU,MAA9B,GAFM;aAGDkG,IAAL;KAnFO;;aAqFF;cACC,gBAAY;;;gBACVkD,UAAU,IAAd;iBACK9I,MAAL,CAAYnB,KAAZ;iBACKsL,SAAL;;sBAEU7K,OAAOyJ,UAAP,CAAkB,YAAM;oBACxBvG,OAAO2B,UAAQ,OAAKuB,MAAb,EAAqB,OAAKpC,KAA1B,EAAiC,OAAKtD,MAAL,CAAYA,MAA7C,CAAb;uBACK,OAAK0F,MAAV,EAAkBlD,IAAlB,EAAwB,OAAKc,KAA7B,EAAoC,OAAKtD,MAAzC;uBACOgJ,YAAP,CAAoBF,OAApB;aAHM,EAIP,GAJO,CAAV;SANC;mBAYM,qBAAY;iBACdxF,KAAL,CAAW3C,IAAX,CAAgByJ,IAAhB,GAAwB,KAAK1E,MAAL,KAAgB,MAAxC;SAbC;YAAA,gBAeAA,MAfA,EAeQ;iBACJuD,OAAL,CAAarK,IAAb,CAAkB,EAAEqD,MAAM,KAAK4G,MAAL,CAAY5G,IAApB,EAA0B2G,QAAQ,EAAElD,QAAQA,OAAOzD,IAAjB,EAAlC,EAAlB;;;CArGZ;;AC7UA;;;;;;;;;;CAAA;;AAoBA,AACA,AAEA,IAAMmB,UAAQ9D,OAAO8D,KAArB;;AAEA,IAAMe,YAAU,SAAVA,SAAU,CAAUb,KAAV,EAAiBtD,MAAjB,EAAyB;QACjC,CAACsD,MAAMR,IAAX,EAAiB;cACPA,IAAN,GAAa,IAAIM,QAAMS,KAAN,CAAYC,SAAhB,CAA0B9D,OAAOS,KAAP,GAAe,CAAzC,EAA4CT,OAAOU,MAAP,GAAgB,CAA5D,CAAb;;QAEE8B,OAAO,IAAIY,QAAMoE,IAAV,EAAb;QACMvB,QAAQ3C,MAAM+G,aAApB;QACIpM,QAAQ,CAAZ;QACIqK,aAAJ;SACK5J,GAAL,CAAS4E,MAAMR,IAAf;WACO7E,QAAQqF,MAAME,QAArB,EAA+B;eACpB,IAAIJ,QAAMS,KAAN,CAAYC,SAAhB,CACHuE,MAAMlC,OAAN,CAAc,CAACF,KAAf,EAAsBA,KAAtB,IAA+BoC,MAAMlC,OAAN,EAD5B,EAEHkC,MAAMlC,OAAN,CAAc,CAACF,KAAf,EAAsBA,KAAtB,IAA+BoC,MAAMlC,OAAN,EAF5B,CAAP;aAIKzH,GAAL,CAAS8D,KAAKpE,IAAL,EAAT;aACKsD,CAAL,GAAS2G,MAAM5F,MAAN,CAAa6F,KAAK5G,CAAlB,EAAqB,CAArB,EAAwB1B,OAAOS,KAA/B,CAAT;aACKkB,CAAL,GAAS0G,MAAM5F,MAAN,CAAa6F,KAAK3G,CAAlB,EAAqB,CAArB,EAAwB3B,OAAOU,MAA/B,CAAT;aACKhC,GAAL,CAAS4J,IAAT;iBACS,CAAT;;;UAGExF,IAAN,GAAaN,KAAKpE,IAAL,EAAb;WACOoE,IAAP;CAtBJ;;AAyBA,WAAe,EAAC+C;;;;;;;;;;KAAD,qBAAA;UACL,MADK;WAEJ,CACH,WADG,EAEH,UAFG,EAGH,QAHG,CAFI;gBAOC;;KAPD;UAUL,gBAAY;eACP;mBACI;sBACG,IADH;0BAEO,GAFP;+BAGY,EAHZ;wBAIK,KAAKC,QAAL,CAAcC,MAAd,CAAqB,QAArB;;SALhB;KAXO;WAAA,qBAoBD;;;YACFjD,aAAJ;;aAEKmD;;SAEJ3G,IAFD,CAEM,YAAM;;mBAEDmF,UAAQ,MAAKb,KAAb,EAAoB,MAAKtD,MAAL,CAAYA,MAAhC,CAAP;;;kBAGKA,MAAL,CAAYW,IAAZ;kBACKX,MAAL,CAAYG,GAAZ,CAAgBiB,IAAhB;;;kBAGKpB,MAAL,CAAYG,GAAZ,CAAgBmB,WAAhB,GAA8B,MAAKgC,KAAL,CAAWtD,MAAX,CAAkBsB,WAAhD;kBACKtB,MAAL,CAAYG,GAAZ,CAAgBoC,SAAhB,GAA4B,MAAKe,KAAL,CAAWtD,MAAX,CAAkBuC,SAA9C;;;kBAGKvC,MAAL,CAAYG,GAAZ,CAAgBqB,SAAhB;kBACKxB,MAAL,CAAYG,GAAZ,CAAgBsB,MAAhB,CAAuBe,KAAKmC,KAAL,GAAajD,CAApC,EAAuCc,KAAKmC,KAAL,GAAahD,CAApD;iBACK8C,MAAL,CAAYrF,OAAZ,CAAoB,UAAC4C,KAAD,EAAQgI,KAAR,EAAkB;oBAC9BA,UAAU,CAAd,EAAiB;;;sBAGZhK,MAAL,CAAYG,GAAZ,CAAgByB,MAAhB,CAAuBI,MAAMN,CAA7B,EAAgCM,MAAML,CAAtC;;sBAEK3B,MAAL,CAAYG,GAAZ,CAAgB0B,MAAhB;aANJ;;;kBAUK7B,MAAL,CAAYG,GAAZ,CAAgB2B,SAAhB;kBACK9B,MAAL,CAAYG,GAAZ,CAAgB4B,OAAhB;SA5BJ,EA8BC9C,IA9BD;;CAvBR;;AClDA;;;;;;;;;;CAAA;;AAoBA,AACA,AAEA,IAAMmE,UAAQ9D,OAAO8D,KAArB;;AAEA,IAAMe,YAAU,SAAVA,SAAU,CAAUb,KAAV,EAAiBtD,MAAjB,EAAyB;QACjC,CAACsD,MAAMK,MAAX,EAAmB;cACTA,MAAN,GAAe,IAAIP,QAAMS,KAAN,CAAYC,SAAhB,CAA0B9D,OAAOS,KAAP,GAAe,CAAzC,EAA4CT,OAAOU,MAAP,GAAgB,CAA5D,CAAf;;QAEA0I,SAAShH,KAAKkI,KAAL,CAAWjC,MAAMlC,OAAN,CAAc,CAAd,EAAiB7C,MAAMiH,WAAvB,CAAX,CAAb;QACI/G,WAAWpB,KAAKkI,KAAL,CAAWjC,MAAMlC,OAAN,CAAc,CAAd,EAAiB7C,MAAM+G,aAAvB,CAAX,CAAf;eACWhC,MAAM5F,MAAN,CAAae,QAAb,EAAuB,KAAvB,EAA8B,EAA9B,CAAX;aACS6E,MAAM5F,MAAN,CAAa2G,MAAb,EAAqB,KAArB,EAA4BpJ,OAAOS,KAAP,GAAe,CAA3C,CAAT;;UAEMqC,IAAN,CAAWU,QAAX,GAAsBA,QAAtB;UACMV,IAAN,CAAWsG,MAAX,GAAoBA,MAApB;;WAEO,IAAIhG,QAAM+F,OAAV,CAAkB3F,QAAlB,EAA4B4F,MAA5B,EAAoC9F,MAAMK,MAA1C,CAAP;CAZJ;;AAeA,cAAe,EAAC4B;;;;;;;;;;KAAD,qBAAA;UACL,SADK;WAEJ,CACH,WADG,EAEH,UAFG,EAGH,QAHG,CAFI;gBAOC;;KAPD;UAUL,gBAAY;eACP;mBACI;sBACG;8BACQ,CADR;4BAEM;iBAHT;+BAKY,EALZ;6BAMU,GANV;wBAOK,IAPL;wBAQK,KAAKC,QAAL,CAAcC,MAAd,CAAqB,QAArB,EAA+B;iCACtB,wBADsB;+BAExB;iBAFP;;SAThB;KAXO;WAAA,qBA2BD;;;YACF+E,gBAAJ;;aAEK7E;;SAEJ3G,IAFD,CAEM,YAAM;;sBAEEmF,UAAQ,MAAKb,KAAb,EAAoB,MAAKtD,MAAL,CAAYA,MAAhC,CAAV;;;kBAGKA,MAAL,CAAYW,IAAZ;kBACKX,MAAL,CAAYG,GAAZ,CAAgBiB,IAAhB;;;kBAGKpB,MAAL,CAAYG,GAAZ,CAAgBkB,SAAhB,GAA4B,MAAKiC,KAAL,CAAWtD,MAAX,CAAkBqB,SAA9C;kBACKrB,MAAL,CAAYG,GAAZ,CAAgBmB,WAAhB,GAA8B,MAAKgC,KAAL,CAAWtD,MAAX,CAAkBsB,WAAhD;kBACKtB,MAAL,CAAYG,GAAZ,CAAgBoC,SAAhB,GAA4B,MAAKe,KAAL,CAAWtD,MAAX,CAAkBuC,SAA9C;;;kBAGKvC,MAAL,CAAYG,GAAZ,CAAgBqB,SAAhB;kBACKxB,MAAL,CAAYG,GAAZ,CAAgBsB,MAAhB,CAAuB+I,QAAQhI,IAAR,CAAamC,KAAb,GAAqBjD,CAA5C,EAA+C8I,QAAQhI,IAAR,CAAamC,KAAb,GAAqBhD,CAApE;oBACQa,IAAR,CAAaiC,MAAb,CAAoBrF,OAApB,CAA4B,UAAC4C,KAAD,EAAQgI,KAAR,EAAkB;oBACtCA,UAAU,CAAd,EAAiB;;;sBAGZhK,MAAL,CAAYG,GAAZ,CAAgByB,MAAhB,CAAuBI,MAAMN,CAA7B,EAAgCM,MAAML,CAAtC;aAJJ;;;gBAQI,MAAK2B,KAAL,CAAWtD,MAAX,CAAkBqB,SAAtB,EAAiC;sBACxBrB,MAAL,CAAYG,GAAZ,CAAgBQ,IAAhB;;kBAECX,MAAL,CAAYG,GAAZ,CAAgB0B,MAAhB;;;kBAGK7B,MAAL,CAAYG,GAAZ,CAAgB2B,SAAhB;kBACK9B,MAAL,CAAYG,GAAZ,CAAgB4B,OAAhB;SAjCJ,EAmCC9C,IAnCD;;CA9BR;;ACxCA;;;;;;;;;;CAAA;;AAoBA,AACA,AAEA,IAAMmE,UAAQ9D,OAAO8D,KAArB;;AAEA,IAAMe,YAAU,SAAVA,SAAU,CAAUb,KAAV,EAAiBtD,MAAjB,EAAyB;QACjC,CAACsD,MAAMK,MAAX,EAAmB;cACTA,MAAN,GAAe,IAAIP,QAAMS,KAAN,CAAYC,SAAhB,CAA0B9D,OAAOS,KAAP,GAAe,CAAzC,EAA4CT,OAAOU,MAAP,GAAgB,CAA5D,CAAf;;QAEED,QAAQ2B,KAAKkI,KAAL,CAAWjC,MAAMlC,OAAN,CAAc,CAAd,EAAiB7C,MAAMmH,UAAvB,CAAX,CAAd;QACM/J,SAAS0B,KAAKkI,KAAL,CAAWjC,MAAMlC,OAAN,CAAc,CAAd,EAAiB7C,MAAMoH,WAAvB,CAAX,CAAf;;UAEM5H,IAAN,CAAWrC,KAAX,GAAmBA,KAAnB;UACMqC,IAAN,CAAWpC,MAAX,GAAoBA,MAApB;;WAEO,IAAI0C,QAAMiG,SAAV,CAAoB5I,KAApB,EAA2BC,MAA3B,EAAmC4C,MAAMK,MAAzC,CAAP;CAVJ;;AAaA,gBAAe,EAAC4B;;;;;;;;;;KAAD,qBAAA;UACL,WADK;WAEJ,CACH,WADG,EAEH,UAFG,EAGH,QAHG,CAFI;gBAOC;;KAPD;UAUL,gBAAY;eACP;mBACI;sBACG;2BACK,EADL;4BAEM;iBAHT;4BAKS,GALT;6BAMU,GANV;wBAOK,IAPL;wBAQK,KAAKC,QAAL,CAAcC,MAAd,CAAqB,QAArB,EAA+B;iCACtB,wBADsB;+BAExB;iBAFP;;SAThB;KAXO;WAAA,qBA2BD;;;YACF+E,gBAAJ;;aAEK7E;;SAEJ3G,IAFD,CAEM,YAAM;;sBAEEmF,UAAQ,MAAKb,KAAb,EAAoB,MAAKtD,MAAL,CAAYA,MAAhC,CAAV;;;kBAGKA,MAAL,CAAYW,IAAZ;kBACKX,MAAL,CAAYG,GAAZ,CAAgBiB,IAAhB;;;kBAGKpB,MAAL,CAAYG,GAAZ,CAAgBkB,SAAhB,GAA4B,MAAKiC,KAAL,CAAWtD,MAAX,CAAkBqB,SAA9C;kBACKrB,MAAL,CAAYG,GAAZ,CAAgBmB,WAAhB,GAA8B,MAAKgC,KAAL,CAAWtD,MAAX,CAAkBsB,WAAhD;kBACKtB,MAAL,CAAYG,GAAZ,CAAgBoC,SAAhB,GAA4B,MAAKe,KAAL,CAAWtD,MAAX,CAAkBuC,SAA9C;;;kBAGKvC,MAAL,CAAYG,GAAZ,CAAgBqB,SAAhB;kBACKxB,MAAL,CAAYG,GAAZ,CAAgBsB,MAAhB,CAAuB+I,QAAQhI,IAAR,CAAamC,KAAb,GAAqBjD,CAA5C,EAA+C8I,QAAQhI,IAAR,CAAamC,KAAb,GAAqBhD,CAApE;oBACQa,IAAR,CAAaiC,MAAb,CAAoBrF,OAApB,CAA4B,UAAC4C,KAAD,EAAQgI,KAAR,EAAkB;oBACtCA,UAAU,CAAd,EAAiB;;;sBAGZhK,MAAL,CAAYG,GAAZ,CAAgByB,MAAhB,CAAuBI,MAAMN,CAA7B,EAAgCM,MAAML,CAAtC;aAJJ;;;gBAQI,MAAK2B,KAAL,CAAWtD,MAAX,CAAkBqB,SAAtB,EAAiC;sBACxBrB,MAAL,CAAYG,GAAZ,CAAgBQ,IAAhB;;kBAECX,MAAL,CAAYG,GAAZ,CAAgB0B,MAAhB;;;kBAGK7B,MAAL,CAAYG,GAAZ,CAAgB2B,SAAhB;kBACK9B,MAAL,CAAYG,GAAZ,CAAgB4B,OAAhB;SAjCJ,EAmCC9C,IAnCD;;CA9BR;;ACtCA;;;;;;;;;;CAAA;;AAwBA,AACA,AAEA,IAAMmE,UAAQ9D,OAAO8D,KAArB;;AAEA,IAAMe,YAAU,SAAVA,SAAU,CAAUb,KAAV,EAAiBtD,MAAjB,EAAyB;QACjC,CAACsD,MAAMK,MAAX,EAAmB;cACTA,MAAN,GAAe,IAAIP,QAAMS,KAAN,CAAYC,SAAhB,CAA0B9D,OAAOS,KAAP,GAAe,CAAzC,EAA4CT,OAAOU,MAAP,GAAgB,CAA5D,CAAf;;;QAGA+C,cAAcrB,KAAKkI,KAAL,CAAWjC,MAAMlC,OAAN,CAAc,CAAd,EAAiB7C,MAAMqH,gBAAvB,CAAX,CAAlB;QACIjH,cAActB,KAAKkI,KAAL,CAAWjC,MAAMlC,OAAN,CAAc,CAAd,EAAiB7C,MAAMsH,gBAAvB,CAAX,CAAlB;QACIpH,WAAWpB,KAAKkI,KAAL,CAAWjC,MAAMlC,OAAN,CAAc,CAAd,EAAiB7C,MAAM+G,aAAvB,CAAX,CAAf;eACWhC,MAAM5F,MAAN,CAAae,QAAb,EAAuB,KAAvB,EAA8B,EAA9B,CAAX;kBACc6E,MAAM5F,MAAN,CAAagB,WAAb,EAA0B,KAA1B,EAAiCzD,OAAOS,KAAP,GAAe,CAAhD,CAAd;kBACc4H,MAAM5F,MAAN,CAAaiB,WAAb,EAA0B,KAA1B,EAAiC1D,OAAOS,KAAP,GAAe,CAAhD,CAAd;;UAEMqC,IAAN,CAAWU,QAAX,GAAsBA,QAAtB;UACMV,IAAN,CAAWW,WAAX,GAAyBA,WAAzB;UACMX,IAAN,CAAWY,WAAX,GAAyBA,WAAzB;;WAEO,IAAIN,QAAMG,IAAV,CAAeC,QAAf,EAAyBC,WAAzB,EAAsCC,WAAtC,EAAmDJ,MAAMK,MAAzD,CAAP;CAhBJ;;AAmBA,WAAe,EAAC4B;;;;;;;;;;;;;;KAAD,qBAAA;UACL,MADK;WAEJ,CACH,WADG,EAEH,UAFG,EAGH,QAHG,CAFI;gBAOC;;KAPD;UAUL,gBAAY;eACP;mBACI;sBACG;8BACQ,CADR;iCAEW,EAFX;iCAGW;iBAJd;+BAMY,EANZ;kCAOe,GAPf;kCAQe,GARf;wBASK,IATL;wBAUK,KAAKC,QAAL,CAAcC,MAAd,CAAqB,QAArB,EAA+B;iCACtB,wBADsB;+BAExB;iBAFP;;SAXhB;KAXO;WAAA,qBA6BD;;;YACF+E,gBAAJ;;aAEK7E;;SAEJ3G,IAFD,CAEM,YAAM;;sBAEEmF,UAAQ,MAAKb,KAAb,EAAoB,MAAKtD,MAAL,CAAYA,MAAhC,CAAV;;;kBAGKA,MAAL,CAAYW,IAAZ;kBACKX,MAAL,CAAYG,GAAZ,CAAgBiB,IAAhB;;;kBAGKpB,MAAL,CAAYG,GAAZ,CAAgBkB,SAAhB,GAA4B,MAAKiC,KAAL,CAAWtD,MAAX,CAAkBqB,SAA9C;kBACKrB,MAAL,CAAYG,GAAZ,CAAgBmB,WAAhB,GAA8B,MAAKgC,KAAL,CAAWtD,MAAX,CAAkBsB,WAAhD;kBACKtB,MAAL,CAAYG,GAAZ,CAAgBoC,SAAhB,GAA4B,MAAKe,KAAL,CAAWtD,MAAX,CAAkBuC,SAA9C;;;kBAGKvC,MAAL,CAAYG,GAAZ,CAAgBqB,SAAhB;kBACKxB,MAAL,CAAYG,GAAZ,CAAgBsB,MAAhB,CAAuB+I,QAAQhI,IAAR,CAAamC,KAAb,GAAqBjD,CAA5C,EAA+C8I,QAAQhI,IAAR,CAAamC,KAAb,GAAqBhD,CAApE;oBACQa,IAAR,CAAaiC,MAAb,CAAoBrF,OAApB,CAA4B,UAAC4C,KAAD,EAAQgI,KAAR,EAAkB;oBACtCA,UAAU,CAAd,EAAiB;;;sBAGZhK,MAAL,CAAYG,GAAZ,CAAgByB,MAAhB,CAAuBI,MAAMN,CAA7B,EAAgCM,MAAML,CAAtC;aAJJ;;;gBAQI,MAAK2B,KAAL,CAAWtD,MAAX,CAAkBqB,SAAtB,EAAiC;sBACxBrB,MAAL,CAAYG,GAAZ,CAAgBQ,IAAhB;;kBAECX,MAAL,CAAYG,GAAZ,CAAgB0B,MAAhB;;;kBAGK7B,MAAL,CAAYG,GAAZ,CAAgB2B,SAAhB;kBACK9B,MAAL,CAAYG,GAAZ,CAAgB4B,OAAhB;SAjCJ,EAmCC9C,IAnCD;;CAhCR;;AChDA;;;;;;;;;;CAAA;;AAwBA,AACA,AAEA,IAAMmE,UAAQ9D,OAAO8D,KAArB;;AAEA,IAAMe,YAAU,SAAVA,SAAU,CAAUb,KAAV,EAAiBtD,MAAjB,EAAyB;QACjC,CAACsD,MAAMK,MAAX,EAAmB;cACTA,MAAN,GAAe,IAAIP,QAAMS,KAAN,CAAYC,SAAhB,CAA0B9D,OAAOS,KAAP,GAAe,CAAzC,EAA4CT,OAAOU,MAAP,GAAgB,CAA5D,CAAf;;;QAGA+C,cAAcrB,KAAKkI,KAAL,CAAWjC,MAAMlC,OAAN,CAAc,CAAd,EAAiB7C,MAAMqH,gBAAvB,CAAX,CAAlB;QACIjH,cAActB,KAAKkI,KAAL,CAAWjC,MAAMlC,OAAN,CAAc,CAAd,EAAiB7C,MAAMsH,gBAAvB,CAAX,CAAlB;QACIpH,WAAWpB,KAAKkI,KAAL,CAAWjC,MAAMlC,OAAN,CAAc,CAAd,EAAiB7C,MAAM+G,aAAvB,CAAX,CAAf;eACWhC,MAAM5F,MAAN,CAAae,QAAb,EAAuB,KAAvB,EAA8B,EAA9B,CAAX;kBACc6E,MAAM5F,MAAN,CAAagB,WAAb,EAA0B,KAA1B,EAAiCzD,OAAOS,KAAP,GAAe,CAAhD,CAAd;kBACc4H,MAAM5F,MAAN,CAAaiB,WAAb,EAA0B,KAA1B,EAAiC1D,OAAOS,KAAP,GAAe,CAAhD,CAAd;;UAEMqC,IAAN,CAAWU,QAAX,GAAsBA,QAAtB;UACMV,IAAN,CAAWW,WAAX,GAAyBA,WAAzB;UACMX,IAAN,CAAWY,WAAX,GAAyBA,WAAzB;;WAEO,IAAIN,QAAMkG,GAAV,CAAc9F,QAAd,EAAwBC,WAAxB,EAAqCC,WAArC,EAAkDJ,MAAMK,MAAxD,CAAP;CAhBJ;;AAmBA,UAAe,EAAC4B;;;;;;;;;;;;;;KAAD,qBAAA;UACL,MADK;WAEJ,CACH,WADG,EAEH,UAFG,EAGH,QAHG,CAFI;gBAOC;;KAPD;UAUL,gBAAY;eACP;mBACI;sBACG;8BACQ,CADR;iCAEW,EAFX;iCAGW;iBAJd;+BAMY,EANZ;kCAOe,GAPf;kCAQe,GARf;wBASK,IATL;wBAUK,KAAKC,QAAL,CAAcC,MAAd,CAAqB,QAArB,EAA+B;iCACtB,wBADsB;+BAExB;iBAFP;;SAXhB;KAXO;WAAA,qBA6BD;;;YACF+E,gBAAJ;;aAEK7E;;SAEJ3G,IAFD,CAEM,YAAM;;sBAEEmF,UAAQ,MAAKb,KAAb,EAAoB,MAAKtD,MAAL,CAAYA,MAAhC,CAAV;;;kBAGKA,MAAL,CAAYW,IAAZ;kBACKX,MAAL,CAAYG,GAAZ,CAAgBiB,IAAhB;;;kBAGKpB,MAAL,CAAYG,GAAZ,CAAgBkB,SAAhB,GAA4B,MAAKiC,KAAL,CAAWtD,MAAX,CAAkBqB,SAA9C;kBACKrB,MAAL,CAAYG,GAAZ,CAAgBmB,WAAhB,GAA8B,MAAKgC,KAAL,CAAWtD,MAAX,CAAkBsB,WAAhD;kBACKtB,MAAL,CAAYG,GAAZ,CAAgBoC,SAAhB,GAA4B,MAAKe,KAAL,CAAWtD,MAAX,CAAkBuC,SAA9C;;;kBAGKvC,MAAL,CAAYG,GAAZ,CAAgBqB,SAAhB;kBACKxB,MAAL,CAAYG,GAAZ,CAAgBsB,MAAhB,CAAuB+I,QAAQhI,IAAR,CAAamC,KAAb,GAAqBjD,CAA5C,EAA+C8I,QAAQhI,IAAR,CAAamC,KAAb,GAAqBhD,CAApE;oBACQa,IAAR,CAAaiC,MAAb,CAAoBrF,OAApB,CAA4B,UAAC4C,KAAD,EAAQgI,KAAR,EAAkB;oBACtCA,UAAU,CAAd,EAAiB;;;sBAGZhK,MAAL,CAAYG,GAAZ,CAAgByB,MAAhB,CAAuBI,MAAMN,CAA7B,EAAgCM,MAAML,CAAtC;aAJJ;;;gBAQI,MAAK2B,KAAL,CAAWtD,MAAX,CAAkBqB,SAAtB,EAAiC;sBACxBrB,MAAL,CAAYG,GAAZ,CAAgBQ,IAAhB;;kBAECX,MAAL,CAAYG,GAAZ,CAAgB0B,MAAhB;;;kBAGK7B,MAAL,CAAYG,GAAZ,CAAgB2B,SAAhB;kBACK9B,MAAL,CAAYG,GAAZ,CAAgB4B,OAAhB;SAjCJ,EAmCC9C,IAnCD;;CAhCR;;AChDA;;;;;;;;;;CAAA;;AAwBA,AACA,AACA,AAEA,IAAMmE,UAAQ9D,OAAO8D,KAArB;;AAEA,IAAMe,YAAU,SAAVA,SAAU,CAAUb,KAAV,EAAiBtD,MAAjB,EAAyB;QAC/BwC,OAAO,IAAIY,QAAMoE,IAAV,EAAb;QACMqD,MAAOzI,KAAKC,EAAL,GAAU,CAAX,GAAgBiB,MAAME,QAAlC;QACMsH,OAAQ9K,OAAOS,KAAP,GAAeT,OAAOU,MAAvB,GAAkCV,OAAOS,KAAP,GAAe,CAAjD,GAAuDT,OAAOU,MAAP,GAAgB,CAApF;QACMqK,OAAOD,OAAOxH,MAAM+G,aAA1B;QACIW,UAAJ;QACIC,UAAJ;SACK,IAAIvG,IAAI,CAAb,EAAgBA,IAAIpB,MAAME,QAA1B,EAAoCkB,KAAK,CAAzC,EAA4C;YACpC2D,MAAMlC,OAAN,CAAc4E,IAAd,EAAoBD,IAApB,CAAJ;YACI,IAAI1H,QAAMS,KAAN,CAAYqH,KAAhB,CAAsBF,CAAtB,EAAyBtG,IAAImG,GAA7B,CAAJ;aACKnM,GAAL,CAAS,IAAI0E,QAAMmF,KAAV,CAAgB0C,EAAEvJ,CAAF,EAAhB,EAAuBuJ,EAAEtJ,CAAF,EAAvB,CAAT;;SAEC8F,KAAL;SACKW,SAAL,CAAepI,OAAOS,KAAP,GAAe,CAA9B,EAAiCT,OAAOU,MAAP,GAAgB,CAAjD;YACM0G,MAAN,CAAaC,UAAb,CAAwB7E,IAAxB,EAA8Bc,MAAMgE,OAApC;WACO9E,IAAP;CAfJ;;AAkBA,aAAe,EAAC+C;;;;;;;;;;;;;;KAAD,qBAAA;UACL,MADK;WAEJ,CACH,WADG,EAEH,UAFG,EAGH,QAHG,CAFI;gBAOC;;KAPD;UAUL,gBAAY;eACP;mBACI;0BACO,EADP;+BAEY,GAFZ;wBAGK,KAAKC,QAAL,CAAcC,MAAd,CAAqB,QAArB,EAA+B;+BACxB;iBADP,CAHL;yBAMM;;SAPjB;KAXO;WAAA,qBAsBD;;;YACFjD,aAAJ;;aAEKmD;;SAEJ3G,IAFD,CAEM,YAAM;;mBAEDmF,UAAQ,MAAKb,KAAb,EAAoB,MAAKtD,MAAL,CAAYA,MAAhC,CAAP;;;kBAGKA,MAAL,CAAYW,IAAZ;kBACKX,MAAL,CAAYG,GAAZ,CAAgBiB,IAAhB;;;kBAGKpB,MAAL,CAAYG,GAAZ,CAAgBmB,WAAhB,GAA8B,MAAKgC,KAAL,CAAWtD,MAAX,CAAkBsB,WAAhD;kBACKtB,MAAL,CAAYG,GAAZ,CAAgBoC,SAAhB,GAA4B,MAAKe,KAAL,CAAWtD,MAAX,CAAkBuC,SAA9C;;;gBAGMxD,SAASyD,KAAKiC,MAAL,CAAY1F,MAA3B;gBACI+D,aAAJ;gBACId,cAAJ;gBACI0C,UAAJ;;kBAEK1E,MAAL,CAAYG,GAAZ,CAAgBqB,SAAhB;kBACKxB,MAAL,CAAYG,GAAZ,CAAgBsB,MAAhB,CAAuBe,KAAKmC,KAAL,GAAajD,CAApC,EAAuCc,KAAKmC,KAAL,GAAahD,CAApD;iBACK+C,IAAI,CAAT,EAAYA,IAAI3F,MAAhB,EAAwB2F,KAAK,CAA7B,EAAgC;uBACrBlC,KAAKM,IAAL,CAAU4B,CAAV,CAAP;wBACQlC,KAAKoC,GAAL,CAASF,CAAT,CAAR;wBACgBG,UAAhB,CAA2B,MAAK7E,MAAL,CAAYG,GAAvC,EAA4C2C,IAA5C,EAAkDd,KAAlD;;kBAEChC,MAAL,CAAYG,GAAZ,CAAgBQ,IAAhB;kBACKX,MAAL,CAAYG,GAAZ,CAAgB0B,MAAhB;SA5BJ,EA8BC5C,IA9BD;;CAzBR;;AChDA;AACA,AACA,AACA,AACA;AACA,AACA,AACA,AACA,AACA,AACA,AAGA,IAAMkM,SAAS,CACX;UACU,EADV;UAEU,GAFV;eAGe3D,IAHf;UAIU;cACI,KADJ;gBAEM;;CAPL,EAUX;UACU,MADV;UAEU,OAFV;eAGe4D,IAHf;UAIU;cACI,KADJ;gBAEM;;CAhBL,EAmBX;UACU,MADV;UAEU,OAFV;eAGe5D,IAHf;UAIU;cACI,IADJ;gBAEM;;CAzBL,EA4BX;UACU,SADV;UAEU,UAFV;eAGe2B,OAHf;UAIU;cACI,IADJ;gBAEM;;CAlCL,EAqCX;UACU,WADV;UAEU,YAFV;eAGeE,SAHf;UAIU;cACI,IADJ;gBAEM;;CA3CL,EA8CX;UACU,MADV;UAEU,OAFV;eAGe9F,IAHf;UAIU;cACI,IADJ;gBAEM;;CApDL,EAuDX;UACU,KADV;UAEU,MAFV;eAGe+F,GAHf;UAIU;cACI,IADJ;gBAEM;;CA7DL,EAgEX;UACU,QADV;UAEU,SAFV;eAGelC,MAHf;UAIU;cACI,IADJ;gBAEM;;CAtEL,EAyEX;UACU,SADV;UAEU,mBAFV;eAGeG,SAHf;UAIU;cACI,IADJ;gBAEM;;CA/EL,EAkFX;UACU,aADV;UAEU,sBAFV;eAGe8D,UAHf;UAIU;cACI,IADJ;gBAEM;;CAxFL;;AA4FX;UACU,EADV;UAEU,GAFV;cAGc,GAHd;UAIU;cACI,KADJ;gBAEM;;CAlGL,CAAf;;AAuGA,IAAMnB,UAAU,SAAVA,OAAU,GAAY;WACjBiB,OAAOG,MAAP,CAAc,UAACC,IAAD,EAAU;eACpBA,KAAKC,IAAL,CAAU9F,MAAjB;KADG,CAAP;CADJ;;AAMA,IAAM+F,OAAO,SAAPA,IAAO,GAAY;WACdN,OACNG,MADM,CACC,UAACC,IAAD,EAAU;eACPA,KAAKC,IAAL,CAAUC,IAAjB;KAFG,EAINC,GAJM,CAIF,UAACH,IAAD,EAAU;eACJ;kBACGA,KAAKtJ,IADR;kBAEGsJ,KAAK/I,IAFR;kBAGG+I,KAAKC,IAAL,IAAa;SAHvB;KALG,CAAP;CADJ;;AAcA,IAAMG,SAAS,SAATA,MAAS,CAAU1J,IAAV,EAAgB;QACvByC,UAAJ;SACKA,IAAI,CAAT,EAAYA,IAAIyG,OAAOpM,MAAvB,EAA+B2F,KAAK,CAApC,EAAuC;YAC/ByG,OAAOzG,CAAP,EAAUzC,IAAV,KAAmBA,IAAvB,EAA6B;mBAClBkJ,OAAOzG,CAAP,CAAP;;;WAGD,IAAP;CAPJ;;AAUA,aAAe;YACHyG,MADG;aAEFjB,OAFE;UAGLuB,IAHK;YAIHE;CAJZ;;AClJA;;;;;;;;;;CAAA;;AAqBA,kBAAe,EAACpG;;;;;;;;KAAD,qBAAA;UACL,WADK;WAEJ,CAAC,WAAD,CAFI;UAGL,gBAAY;eACP;kBACG;SADV;KAJO;aAQF;kBACK,kBAAUqG,KAAV,EAAiB;gBACnBA,UAAU,IAAd,EAAoB;;;oBAGZlF,SAASkF,KAAT,EAAgB,EAAhB,CAAR;gBACI,CAACjF,MAAMiF,KAAN,CAAL,EAAmB;qBACVjG,SAAL,CAAelH,GAAf,CAAmBmN,KAAnB;;;;CAfhB;;ACrBA;;;;;;;;;;CAAA;;AAkEA,AAEA,UAAe,EAACrG;;;;;;;;KAAD;;;;MAAA;UACL,KADK;WAEJ,CAAC,WAAD,EAAc,UAAd,EAA0B,QAA1B,EAAoC,QAApC,CAFI;gBAGC;;KAHD;WAAA,qBAMD;aACDsG,OAAL,GAAehM,SAASiM,cAAT,CAAwB,SAAxB,CAAf;;aAEKC,GAAL,CAASC,aAAT,CAAuB,cAAvB,EAAuCC,WAAvC,CAAmD,KAAKjM,MAAL,CAAYA,MAA/D;aACKA,MAAL,CAAYA,MAAZ,CAAmBS,KAAnB,GAA2BZ,SAASqM,IAAT,CAAcC,WAAzC;aACKnM,MAAL,CAAYA,MAAZ,CAAmBU,MAAnB,GAA4Bb,SAASqM,IAAT,CAAcE,YAA1C;aACKpM,MAAL,CAAYG,GAAZ,CAAgBkB,SAAhB,GAA4B,KAAKmE,QAAL,CAAcxF,MAAd,CAAqBqB,SAAjD;aACKrB,MAAL,CAAYG,GAAZ,CAAgBoC,SAAhB,GAA4B,KAAKiD,QAAL,CAAcxF,MAAd,CAAqBuC,SAAjD;KAbO;;aAeF;cACC,cAAU8J,KAAV,EAAiB;gBACbnL,KAAMmL,MAAM7J,IAAN,CAAW8J,OAAX,CAAmB,IAAnB,IAA2B,CAAC,CAA7B,GAAkC,EAAErK,MAAMoK,MAAMpK,IAAd,EAAoB2G,QAAQ,EAA5B,EAAlC,GAAqEyD,MAAM7J,IAAtF;iBACKyG,OAAL,CAAarK,IAAb,CAAkBsC,EAAlB;SAHC;gBAKG,kBAAY;gBACZ,CAAC,KAAK2K,OAAV,EAAmB;;;gBAGfU,QAAS,KAAKV,OAAL,CAAaW,KAAb,CAAmBD,KAApB,GAA6B,KAAKV,OAAL,CAAaW,KAAb,CAAmBD,KAAhD,GAAwDjN,OAAOmN,gBAAP,CAAwB,KAAKZ,OAA7B,EAAsCa,gBAAtC,CAAuD,OAAvD,CAApE;oBACQhG,SAAS6F,KAAT,EAAgB,EAAhB,CAAR;iBACKV,OAAL,CAAaW,KAAb,CAAmBD,KAAnB,GAA2B,CAAEA,QAAQ,CAAT,GAAc,CAAd,GAAkB,CAAC,KAAKV,OAAL,CAAaM,WAAjC,IAAgD,IAA3E;;KA1BG;UA6BL,gBAAY;eACP;qBACM;SADb;;CA9BR;;ACjEA;AACA,AAEA,AACA,AACA,AACA,AAEA,AAEA,IAAMxG,YAAY,IAAI5H,SAAJ,EAAlB;AACA,IAAMiC,SAAS,IAAID,QAAJ,EAAf;;;AAGA,IAAM4M,SAAS,IAAIC,SAAJ,CAAc;UACnB,MADmB;YAEjB3C,OAAOkB;CAFJ,CAAf;;;;AAOA,IAAI0B,GAAJ,CAAQ;kBAAA;UAEE;4BAAA;kBAEQhM,KAFR;sBAAA;gBAIMoJ,OAAOwB,IAAP;KANR;gBAQQ;;KARR;;cAYM;CAZd,EAaGqB,MAbH,CAaU,MAbV;;"}